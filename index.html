<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Map - The AI Company Landscape</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            overflow: hidden;
            background: #030712;
            color: #fff;
        }

        #app {
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent),
                radial-gradient(ellipse 60% 40% at 80% 80%, rgba(139, 92, 246, 0.1), transparent),
                radial-gradient(ellipse 50% 30% at 20% 90%, rgba(6, 182, 212, 0.08), transparent);
        }

        /* Particle canvas background */
        #particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
        }

        /* Grid lines */
        .grid {
            position: fixed;
            inset: 0;
            background-image:
                linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
        }

        .ui { position: fixed; z-index: 100; }

        /* Header */
        .header {
            top: 24px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }

        .header h1 {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 4px;
            text-transform: uppercase;
            background: linear-gradient(90deg, #3b82f6, #06b6d4, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Search */
        .search-wrap {
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 360px;
            max-width: 90vw;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 14px 18px 14px 46px;
            font-size: 14px;
            font-family: inherit;
            background: rgba(51, 65, 85, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 12px;
            color: #fff;
            outline: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .search-box input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3), 0 0 40px rgba(59, 130, 246, 0.1);
        }

        .search-box input::placeholder { color: rgba(148, 163, 184, 0.6); }

        /* Filter Bar */
        .filter-bar {
            top: 24px;
            left: 24px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-wrap {
            position: relative;
        }

        .filter-btn {
            padding: 8px 14px;
            font-size: 11px;
            font-family: inherit;
            font-weight: 500;
            background: rgba(51, 65, 85, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 8px;
            color: rgba(203, 213, 225, 0.9);
            cursor: pointer;
            transition: all 0.2s;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .filter-btn:hover {
            border-color: #3b82f6;
            color: #fff;
        }

        .filter-btn.active {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            color: #60a5fa;
        }

        .filter-btn svg {
            width: 12px;
            height: 12px;
        }

        .filter-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            min-width: 180px;
            max-height: 350px;
            overflow-y: auto;
            background: rgba(51, 65, 85, 0.9);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 12px;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
            z-index: 150;
        }

        .filter-dropdown.open { display: block; }

        .filter-item {
            padding: 9px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filter-item:last-child { border-bottom: none; }
        .filter-item:hover { background: rgba(59, 130, 246, 0.15); }
        .filter-item.active { background: rgba(59, 130, 246, 0.2); color: #4facfe; }
        .filter-item .count { font-size: 10px; color: rgba(148, 163, 184, 0.5); }

        .clear-filters {
            padding: 8px 14px;
            font-size: 11px;
            font-family: inherit;
            font-weight: 500;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            color: rgba(239, 68, 68, 0.8);
            cursor: pointer;
            transition: all 0.2s;
            display: none;
        }

        .clear-filters.visible {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .clear-filters:hover {
            background: rgba(239, 68, 68, 0.25);
            color: #ef4444;
        }

        .search-box svg {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: #3b82f6;
        }

        .dropdown {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            right: 0;
            background: rgba(51, 65, 85, 0.9);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 12px;
            overflow: hidden;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .dropdown.open { display: block; }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .dropdown-item:last-child { border-bottom: none; }
        .dropdown-item:hover, .dropdown-item.active { background: rgba(59, 130, 246, 0.15); }
        .dropdown-item.active { background: rgba(59, 130, 246, 0.25); }

        .dropdown-item .logo {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: rgba(59, 130, 246, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .dropdown-item .logo img { width: 100%; height: 100%; object-fit: cover; }
        .dropdown-item .logo span { font-size: 11px; font-weight: 600; color: #3b82f6; }
        .dropdown-item .info { flex: 1; }
        .dropdown-item .name { font-size: 14px; font-weight: 500; }
        .dropdown-item .cat { font-size: 11px; color: rgba(148, 163, 184, 0.7); margin-top: 2px; }
        .dropdown-item .val { font-size: 12px; font-weight: 600; color: #06b6d4; }

        /* Info Panel */
        .panel {
            bottom: 24px;
            left: 24px;
            width: 320px;
            background: rgba(51, 65, 85, 0.75);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            padding: 20px;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.15);
        }

        .panel.open { display: block; }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 14px;
        }

        .panel-logo {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: rgba(59, 130, 246, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .panel-logo img { width: 100%; height: 100%; object-fit: cover; }
        .panel-logo span { font-size: 16px; font-weight: 600; color: #3b82f6; }

        .panel-title h3 { font-size: 16px; font-weight: 600; }
        .panel-title .val { font-size: 13px; font-weight: 600; color: #06b6d4; margin-top: 2px; }
        .panel-title .val.na { color: rgba(148, 163, 184, 0.5); }

        .panel p {
            font-size: 13px;
            line-height: 1.6;
            color: rgba(148, 163, 184, 0.8);
            margin-bottom: 14px;
        }

        .panel-meta { display: flex; gap: 8px; flex-wrap: wrap; }

        .tag {
            font-size: 10px;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 6px;
            background: rgba(59, 130, 246, 0.15);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        /* Website link button */
        .website-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            color: #60a5fa;
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s;
        }

        .website-link:hover {
            background: rgba(59, 130, 246, 0.25);
            border-color: #3b82f6;
            color: #fff;
        }

        .website-link svg {
            width: 14px;
            height: 14px;
        }

        .panel-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .panel-actions .website-link {
            margin-top: 0;
        }

        .favorite-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            font-family: inherit;
            color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .favorite-btn:hover {
            background: rgba(251, 191, 36, 0.2);
            border-color: #fbbf24;
        }

        .favorite-btn.active {
            background: rgba(251, 191, 36, 0.25);
            border-color: #fbbf24;
        }

        .favorite-btn.active svg {
            fill: #fbbf24;
        }

        .favorite-btn svg {
            width: 14px;
            height: 14px;
        }

        /* Feed Sidebars */
        .feed-sidebar {
            position: fixed;
            top: 70px;
            width: 320px;
            height: calc(100vh - 100px);
            max-height: 700px;
            background: rgba(51, 65, 85, 0.75);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            backdrop-filter: blur(20px);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.1);
            z-index: 90;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .feed-sidebar.left {
            left: 24px;
        }

        .feed-sidebar.right {
            right: 24px;
        }

        .feed-sidebar.collapsed {
            transform: translateX(-110%);
            opacity: 0;
        }

        .feed-sidebar.right.collapsed {
            transform: translateX(110%);
        }

        .feed-header {
            padding: 14px 16px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .feed-header h3 {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feed-header h3 svg {
            width: 16px;
            height: 16px;
            color: #3b82f6;
        }

        .feed-toggle {
            background: none;
            border: none;
            color: rgba(148, 163, 184, 0.6);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .feed-toggle:hover {
            color: #fff;
            background: rgba(59, 130, 246, 0.2);
        }

        .feed-content {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .feed-content::-webkit-scrollbar {
            width: 6px;
        }

        .feed-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .feed-content::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.3);
            border-radius: 3px;
        }

        .news-item {
            padding: 12px;
            border-radius: 10px;
            background: rgba(71, 85, 105, 0.4);
            margin-bottom: 10px;
            transition: all 0.2s;
            border: 1px solid rgba(100, 116, 139, 0.3);
        }

        .news-item:hover {
            background: rgba(71, 85, 105, 0.6);
            border-color: rgba(100, 116, 139, 0.5);
        }

        .news-item a {
            text-decoration: none;
            color: inherit;
        }

        .news-source {
            font-size: 10px;
            font-weight: 600;
            color: #3b82f6;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .news-title {
            font-size: 13px;
            font-weight: 500;
            color: #e2e8f0;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .news-time {
            font-size: 11px;
            color: rgba(148, 163, 184, 0.6);
        }

        .news-loading, .feed-error {
            text-align: center;
            padding: 40px 20px;
            color: rgba(148, 163, 184, 0.6);
            font-size: 13px;
        }

        .feed-error {
            color: rgba(239, 68, 68, 0.8);
        }

        /* Feed toggle buttons (when collapsed) */
        .feed-show-btn {
            position: fixed;
            top: 70px;
            width: 40px;
            height: 40px;
            background: rgba(51, 65, 85, 0.75);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 10px;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #3b82f6;
            backdrop-filter: blur(10px);
            z-index: 89;
            transition: all 0.2s;
        }

        .feed-show-btn:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
        }

        .feed-show-btn.left {
            left: 24px;
        }

        .feed-show-btn.right {
            right: 24px;
        }

        .feed-show-btn.visible {
            display: flex;
        }

        .feed-show-btn svg {
            width: 18px;
            height: 18px;
        }

        /* X Account Cards */
        .x-account {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: rgba(71, 85, 105, 0.4);
            border-radius: 10px;
            margin-bottom: 8px;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .x-account:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.2);
        }

        .x-account-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.2);
            overflow: hidden;
            flex-shrink: 0;
        }

        .x-account-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .x-account-info {
            flex: 1;
            min-width: 0;
        }

        .x-account-name {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .x-account-handle {
            font-size: 11px;
            color: rgba(148, 163, 184, 0.6);
        }

        .x-account-link {
            padding: 6px 10px;
            font-size: 11px;
            font-weight: 500;
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 6px;
            color: #60a5fa;
            text-decoration: none;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .x-account-link:hover {
            background: rgba(59, 130, 246, 0.3);
            color: #fff;
        }

        .x-account-remove {
            background: none;
            border: none;
            color: rgba(148, 163, 184, 0.4);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .x-account-remove:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .add-account-form {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.15);
        }

        .add-account-form input {
            flex: 1;
            padding: 8px 12px;
            font-size: 12px;
            font-family: inherit;
            background: rgba(71, 85, 105, 0.5);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 6px;
            color: #fff;
            outline: none;
        }

        .add-account-form input:focus {
            border-color: #3b82f6;
        }

        .add-account-form input::placeholder {
            color: rgba(148, 163, 184, 0.5);
        }

        .add-account-form button {
            padding: 8px 12px;
            font-size: 12px;
            font-weight: 500;
            background: #3b82f6;
            border: none;
            border-radius: 6px;
            color: #fff;
            cursor: pointer;
            transition: all 0.2s;
        }

        .add-account-form button:hover {
            background: #2563eb;
        }

        .feed-section-title {
            font-size: 10px;
            font-weight: 600;
            color: rgba(148, 163, 184, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 12px 0 8px;
        }

        .x-account-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.15);
        }

        .x-account-selector select {
            flex: 1;
            padding: 8px 12px;
            font-size: 12px;
            font-family: inherit;
            background: rgba(71, 85, 105, 0.5);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 6px;
            color: #fff;
            outline: none;
            cursor: pointer;
        }

        .x-account-selector select:focus {
            border-color: #3b82f6;
        }

        .x-account-selector button {
            padding: 8px 10px;
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 6px;
            color: #60a5fa;
            cursor: pointer;
            transition: all 0.2s;
        }

        .x-account-selector button:hover {
            background: rgba(59, 130, 246, 0.3);
            color: #fff;
        }

        #x-timeline-container {
            min-height: 300px;
            border-radius: 8px;
            overflow-y: auto;
            max-height: calc(100vh - 280px);
        }

        .x-tweet-item {
            padding: 12px;
            border-bottom: 1px solid rgba(71, 85, 105, 0.3);
            transition: background 0.2s;
        }

        .x-tweet-item:hover {
            background: rgba(71, 85, 105, 0.2);
        }

        .x-tweet-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .x-tweet-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .x-tweet-author {
            flex: 1;
            min-width: 0;
        }

        .x-tweet-name {
            color: #fff;
            font-weight: 600;
            font-size: 13px;
        }

        .x-tweet-handle-time {
            color: rgba(148, 163, 184, 0.6);
            font-size: 11px;
        }

        .x-tweet-text {
            color: rgba(226, 232, 240, 0.9);
            font-size: 13px;
            line-height: 1.5;
            margin-bottom: 8px;
            word-wrap: break-word;
        }

        .x-tweet-text a {
            color: #3b82f6;
            text-decoration: none;
        }

        .x-tweet-text a:hover {
            text-decoration: underline;
        }

        .x-tweet-media img {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .x-tweet-metrics {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .x-tweet-metric {
            display: flex;
            align-items: center;
            gap: 4px;
            color: rgba(148, 163, 184, 0.5);
            font-size: 11px;
        }

        .x-tweet-metric svg {
            width: 14px;
            height: 14px;
        }

        .x-tweet-link {
            margin-left: auto;
            color: rgba(148, 163, 184, 0.5);
            text-decoration: none;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .x-tweet-link:hover {
            color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .x-feed-status {
            padding: 8px 12px;
            font-size: 10px;
            color: rgba(148, 163, 184, 0.4);
            text-align: center;
            border-top: 1px solid rgba(71, 85, 105, 0.2);
        }

        .x-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            color: rgba(148, 163, 184, 0.5);
            font-size: 13px;
        }

        .x-featured-account {
            margin-bottom: 12px;
        }

        .x-featured-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            text-decoration: none;
            transition: all 0.2s;
        }

        .x-featured-link:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
        }

        .x-featured-link img {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid rgba(59, 130, 246, 0.4);
        }

        .x-featured-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .x-featured-name {
            color: #fff;
            font-weight: 600;
            font-size: 14px;
        }

        .x-featured-handle {
            color: rgba(148, 163, 184, 0.7);
            font-size: 12px;
        }

        .x-featured-btn {
            padding: 6px 12px;
            background: #3b82f6;
            border-radius: 16px;
            color: #fff;
            font-size: 11px;
            font-weight: 500;
        }

        .x-accounts-section {
            padding-top: 12px;
        }

        .x-section-title {
            font-size: 11px;
            font-weight: 600;
            color: rgba(148, 163, 184, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .x-accounts-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .x-account-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 4px;
            background: rgba(71, 85, 105, 0.3);
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.2s;
        }

        .x-account-card:hover {
            background: rgba(71, 85, 105, 0.5);
            transform: translateY(-2px);
        }

        .x-account-card img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-bottom: 4px;
        }

        .x-card-name {
            color: #fff;
            font-size: 10px;
            font-weight: 500;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .x-card-handle {
            color: rgba(148, 163, 184, 0.5);
            font-size: 9px;
            display: none;
        }

        #x-manage-panel {
            padding-top: 12px;
            border-top: 1px solid rgba(59, 130, 246, 0.15);
            margin-top: 12px;
        }

        .x-manage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .x-manage-header span {
            font-size: 11px;
            font-weight: 600;
            color: rgba(148, 163, 184, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .x-manage-header button {
            font-size: 11px;
            background: none;
            border: none;
            color: #3b82f6;
            cursor: pointer;
        }

        .x-manage-header button:hover {
            text-decoration: underline;
        }

        /* Stats */
        .stats {
            bottom: 24px;
            right: 24px;
            text-align: right;
        }

        .stats .num {
            font-size: 48px;
            font-weight: 700;
            letter-spacing: -2px;
            background: linear-gradient(135deg, #3b82f6, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stats .label {
            font-size: 11px;
            color: rgba(148, 163, 184, 0.6);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Map */
        #map {
            position: absolute;
            inset: 0;
            overflow: hidden;
            transform-origin: center center;
        }

        /* Company labels - music-map style */
        .company {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            transform: translate(-50%, -50%);
        }

        .company .name {
            font-weight: 500;
            transition: all 0.3s ease;
            text-shadow: 0 0 30px rgba(0,0,0,1), 0 0 15px rgba(0,0,0,0.9);
            color: rgba(255, 255, 255, 0.85);
        }

        .company:hover .name {
            color: #60a5fa !important;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 40px rgba(59, 130, 246, 0.4);
        }

        .company.center .name {
            font-size: 32px !important;
            font-weight: 700;
            color: #fff !important;
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.8), 0 0 60px rgba(59, 130, 246, 0.4);
        }

        /* Connection lines */
        .connection {
            position: absolute;
            pointer-events: none;
            height: 1px;
            transform-origin: left center;
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.4), rgba(59, 130, 246, 0));
        }

        /* Category colors */
        .company[data-cat="Foundation Models"] .name { color: #f472b6 !important; }
        .company[data-cat="Image Generation"] .name { color: #fb923c !important; }
        .company[data-cat="Video Generation"] .name { color: #facc15 !important; }
        .company[data-cat="Audio AI"] .name, .company[data-cat="Music AI"] .name { color: #a78bfa !important; }
        .company[data-cat="Code & Dev Tools"] .name { color: #34d399 !important; }
        .company[data-cat="AI Agents"] .name { color: #60a5fa !important; }
        .company[data-cat="Healthcare AI"] .name, .company[data-cat="Drug Discovery"] .name { color: #f87171 !important; }
        .company[data-cat="Finance AI"] .name { color: #4ade80 !important; }
        .company[data-cat="Enterprise AI"] .name { color: #38bdf8 !important; }
        .company[data-cat="Security AI"] .name { color: #fb7185 !important; }
        .company[data-cat="Robotics"] .name, .company[data-cat="Autonomous Vehicles"] .name { color: #c084fc !important; }
        .company[data-cat="Neo Cloud"] .name, .company[data-cat="Hardware"] .name { color: #2dd4bf !important; }
        .company[data-cat="Data & Vector DB"] .name, .company[data-cat="MLOps"] .name { color: #818cf8 !important; }
        .company[data-cat="Marketing AI"] .name { color: #fbbf24 !important; }
        .company[data-cat="Legal Tech"] .name { color: #94a3b8 !important; }
        .company[data-cat="Education"] .name { color: #22d3ee !important; }
        .company[data-cat="HR Tech"] .name { color: #e879f9 !important; }
        .company.center .name { color: #fff !important; }

        /* Favorite star */
        .company .favorite-star {
            position: absolute;
            top: -8px;
            right: -12px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.2s;
            cursor: pointer;
        }
        .company:hover .favorite-star { opacity: 0.5; }
        .company .favorite-star.active { opacity: 1; color: #fbbf24; }
        .company .favorite-star:hover { opacity: 1; transform: scale(1.2); }

        /* Toolbar */
        .toolbar {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 100;
            padding: 8px 12px;
            background: rgba(51, 65, 85, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .toolbar-btn {
            padding: 8px 14px;
            font-size: 12px;
            font-family: inherit;
            font-weight: 500;
            background: rgba(71, 85, 105, 0.5);
            border: 1px solid rgba(100, 116, 139, 0.3);
            border-radius: 8px;
            color: rgba(203, 213, 225, 0.9);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .toolbar-btn:hover {
            background: rgba(59, 130, 246, 0.3);
            border-color: #3b82f6;
            color: #fff;
        }

        .toolbar-btn.active {
            background: rgba(59, 130, 246, 0.4);
            border-color: #3b82f6;
            color: #60a5fa;
        }

        .toolbar-btn svg { width: 14px; height: 14px; }

        /* Keyboard shortcuts modal */
        .shortcuts-modal {
            position: fixed;
            inset: 0;
            background: rgba(3, 7, 18, 0.9);
            backdrop-filter: blur(8px);
            z-index: 300;
            display: none;
            align-items: center;
            justify-content: center;
        }
        .shortcuts-modal.open { display: flex; }

        .shortcuts-content {
            background: rgba(51, 65, 85, 0.95);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
        }

        .shortcuts-content h2 {
            font-size: 16px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .shortcut-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(100, 116, 139, 0.2);
        }

        .shortcut-key {
            background: rgba(71, 85, 105, 0.5);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
        }

        /* Analytics modal */
        .analytics-modal {
            position: fixed;
            inset: 0;
            background: rgba(3, 7, 18, 0.9);
            backdrop-filter: blur(8px);
            z-index: 300;
            display: none;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            padding: 40px 20px;
        }
        .analytics-modal.open { display: flex; }

        .analytics-content {
            background: rgba(51, 65, 85, 0.95);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            padding: 24px;
            max-width: 800px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .analytics-content h2 {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: rgba(71, 85, 105, 0.4);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .stat-card .value {
            font-size: 28px;
            font-weight: 700;
            color: #60a5fa;
        }

        .stat-card .label {
            font-size: 12px;
            color: rgba(148, 163, 184, 0.8);
            margin-top: 4px;
        }

        .top-list {
            margin-bottom: 20px;
        }

        .top-list h3 {
            font-size: 14px;
            margin-bottom: 12px;
            color: #94a3b8;
        }

        .top-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            background: rgba(71, 85, 105, 0.3);
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .top-item .rank {
            color: #60a5fa;
            font-weight: 600;
            margin-right: 8px;
        }

        .category-bars {
            margin-top: 16px;
        }

        .category-bar {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }

        .category-bar .cat-name {
            width: 140px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .category-bar .bar-wrap {
            flex: 1;
            height: 20px;
            background: rgba(71, 85, 105, 0.3);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 10px;
        }

        .category-bar .bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 4px;
        }

        .category-bar .count {
            width: 40px;
            text-align: right;
            color: #94a3b8;
        }

        /* Compare modal */
        .compare-modal {
            position: fixed;
            inset: 0;
            background: rgba(3, 7, 18, 0.9);
            backdrop-filter: blur(8px);
            z-index: 300;
            display: none;
            align-items: center;
            justify-content: center;
        }
        .compare-modal.open { display: flex; }

        .compare-content {
            background: rgba(51, 65, 85, 0.95);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            padding: 24px;
            max-width: 700px;
            width: 95%;
        }

        .compare-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .compare-card {
            background: rgba(71, 85, 105, 0.4);
            border-radius: 12px;
            padding: 16px;
            position: relative;
        }

        .compare-card .remove-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            font-size: 16px;
        }

        .compare-card h4 {
            font-size: 14px;
            margin-bottom: 12px;
            color: #fff;
        }

        .compare-card .metric {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 12px;
            border-bottom: 1px solid rgba(100, 116, 139, 0.2);
        }

        .compare-card .metric:last-child { border-bottom: none; }
        .compare-card .metric .label { color: #94a3b8; }
        .compare-card .metric .value { color: #fff; font-weight: 500; }

        .compare-header, .analytics-header, .shortcuts-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .compare-header h3, .analytics-header h3, .shortcuts-header h3 {
            font-size: 16px;
            font-weight: 600;
        }

        .compare-close, .analytics-close, .shortcuts-close {
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 24px;
            cursor: pointer;
        }

        .compare-close:hover, .analytics-close:hover, .shortcuts-close:hover { color: #fff; }

        .compare-hint {
            color: rgba(148, 163, 184, 0.7);
            font-size: 13px;
            margin-bottom: 16px;
        }

        .compare-selected {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .compare-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.4);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 12px;
            color: #60a5fa;
        }

        .compare-chip button {
            background: none;
            border: none;
            color: #60a5fa;
            cursor: pointer;
            font-size: 14px;
            padding: 0;
        }

        .compare-table {
            margin: 16px 0;
        }

        .compare-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .compare-table th, .compare-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid rgba(100, 116, 139, 0.3);
            font-size: 12px;
        }

        .compare-table th {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            font-weight: 600;
        }

        .compare-table td:first-child {
            color: #94a3b8;
            font-weight: 500;
        }

        .compare-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 16px;
        }

        .analytics-section {
            margin-top: 24px;
        }

        .analytics-section h4 {
            font-size: 14px;
            color: #94a3b8;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #60a5fa;
        }

        .stat-label {
            font-size: 11px;
            color: rgba(148, 163, 184, 0.8);
            margin-top: 4px;
            text-transform: uppercase;
        }

        .cat-bar-item, .region-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }

        .cat-bar-label, .region-label {
            width: 120px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #cbd5e1;
        }

        .cat-bar-track, .region-bar-track {
            flex: 1;
            height: 18px;
            background: rgba(71, 85, 105, 0.4);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 10px;
        }

        .cat-bar-fill, .region-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .cat-bar-count, .region-count {
            width: 35px;
            text-align: right;
            color: #94a3b8;
        }

        .top-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: rgba(71, 85, 105, 0.3);
            border-radius: 6px;
            margin-bottom: 6px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .top-item:hover {
            background: rgba(59, 130, 246, 0.2);
        }

        .top-rank {
            color: #60a5fa;
            font-weight: 700;
            width: 24px;
        }

        .top-name {
            flex: 1;
            color: #fff;
        }

        .top-val {
            color: #34d399;
            font-weight: 500;
        }

        .favorite-star {
            position: absolute;
            top: -8px;
            right: -8px;
            color: #fbbf24;
            font-size: 12px;
            cursor: pointer;
            text-shadow: 0 0 8px rgba(251, 191, 36, 0.5);
        }

        /* Zoom controls */
        .zoom-controls {
            position: fixed;
            bottom: 80px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            z-index: 100;
        }

        .zoom-btn {
            width: 36px;
            height: 36px;
            background: rgba(51, 65, 85, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 8px;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .zoom-btn:hover {
            background: rgba(59, 130, 246, 0.3);
            border-color: #3b82f6;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .feed-sidebar { display: none !important; }
            .feed-show-btn { display: none !important; }
            .toolbar {
                bottom: 12px;
                padding: 6px 8px;
                gap: 4px;
            }
            .toolbar-btn {
                padding: 6px 10px;
                font-size: 11px;
            }
            .toolbar-btn span { display: none; }
            .panel {
                left: 12px;
                right: 12px;
                width: auto;
                bottom: 70px;
            }
            .filter-bar {
                top: auto;
                bottom: 70px;
                left: 12px;
                right: 12px;
                justify-content: center;
            }
            .search-wrap { width: 90%; }
            .header h1 { font-size: 16px; }
        }

        /* Manage button */
        .admin-btn {
            top: 24px;
            right: 24px;
            padding: 10px 16px;
            font-size: 12px;
            font-family: inherit;
            font-weight: 500;
            background: rgba(51, 65, 85, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 8px;
            color: rgba(203, 213, 225, 0.9);
            cursor: pointer;
            transition: all 0.2s;
            backdrop-filter: blur(10px);
        }

        .admin-btn:hover {
            border-color: #3b82f6;
            color: #fff;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }

        /* Modal styles */
        .modal-bg {
            position: fixed;
            inset: 0;
            background: rgba(3, 7, 18, 0.9);
            backdrop-filter: blur(8px);
            z-index: 200;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-bg.open { display: flex; }

        .modal {
            background: rgba(51, 65, 85, 0.95);
            border: 1px solid rgba(100, 116, 139, 0.5);
            border-radius: 16px;
            width: 500px;
            max-width: 90vw;
            max-height: 80vh;
            overflow: hidden;
        }

        .modal-head {
            padding: 16px 20px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-head h2 { font-size: 15px; font-weight: 600; }

        .modal-close {
            background: none;
            border: none;
            color: rgba(148, 163, 184, 0.6);
            font-size: 20px;
            cursor: pointer;
        }

        .modal-close:hover { color: #fff; }

        .modal-body { padding: 20px; overflow-y: auto; max-height: 60vh; }

        .tabs { display: flex; gap: 8px; margin-bottom: 16px; }

        .tab {
            padding: 8px 14px;
            font-size: 12px;
            font-family: inherit;
            background: transparent;
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 6px;
            color: rgba(148, 163, 184, 0.7);
            cursor: pointer;
        }

        .tab:hover { border-color: rgba(59, 130, 246, 0.4); }
        .tab.active { background: #3b82f6; color: #fff; border-color: #3b82f6; }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

        .field { margin-bottom: 12px; }

        .field label {
            display: block;
            font-size: 10px;
            font-weight: 500;
            color: rgba(148, 163, 184, 0.6);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .field input, .field textarea, .field select {
            width: 100%;
            padding: 10px 12px;
            font-size: 13px;
            font-family: inherit;
            background: rgba(71, 85, 105, 0.4);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 8px;
            color: #fff;
            outline: none;
        }

        .field input:focus, .field textarea:focus, .field select:focus {
            border-color: #3b82f6;
        }

        .field textarea { resize: vertical; min-height: 60px; }
        .field select option { background: #475569; }

        .btn {
            padding: 10px 16px;
            font-size: 13px;
            font-family: inherit;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            border: none;
        }

        .btn-primary { background: #3b82f6; color: #fff; }
        .btn-primary:hover { background: #2563eb; }

        .btn-ghost {
            background: transparent;
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: rgba(148, 163, 184, 0.8);
        }

        .btn-ghost:hover { border-color: #3b82f6; color: #fff; }

        .actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 16px; }

        .list {
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 8px;
            max-height: 250px;
            overflow-y: auto;
        }

        .list-item {
            padding: 10px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            cursor: pointer;
        }

        .list-item:hover { background: rgba(59, 130, 246, 0.1); }
        .list-item .name { font-size: 13px; }
        .list-item .cat { font-size: 11px; color: rgba(148, 163, 184, 0.5); }
        .list-item button { background: none; border: none; color: rgba(148, 163, 184, 0.5); cursor: pointer; }
        .list-item button:hover { color: #ef4444; }

        .export-btns { display: flex; gap: 10px; flex-wrap: wrap; }

        @media (max-width: 768px) {
            .stats { display: none; }
            .panel { left: 12px; right: 12px; width: auto; bottom: 12px; }
            .admin-btn { top: auto; bottom: 12px; right: 12px; }
            .feed-sidebar { display: none; }
            .feed-show-btn { display: none !important; }
        }

        @media (max-width: 1200px) {
            .feed-sidebar { width: 280px; }
        }

        @media (max-width: 1000px) {
            .feed-sidebar.left { display: none; }
            .feed-show-btn.left { display: none !important; }
        }

        /* AI Summary Button & Content */
        #ai-summary-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            font-family: inherit;
            color: #a78bfa;
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        #ai-summary-btn:hover {
            background: rgba(139, 92, 246, 0.25);
            border-color: #8b5cf6;
            color: #fff;
        }
        #ai-summary-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #ai-summary-btn svg {
            width: 14px;
            height: 14px;
        }
        #ai-summary-content {
            margin-top: 12px;
            display: none;
        }
        #ai-summary-content.visible {
            display: block;
        }
        .ai-summary-text {
            font-size: 12px;
            line-height: 1.7;
            color: rgba(203, 213, 225, 0.9);
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 10px;
            padding: 14px;
            max-height: 250px;
            overflow-y: auto;
        }
        .ai-summary-text::-webkit-scrollbar { width: 5px; }
        .ai-summary-text::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); border-radius: 3px; }
        .ai-summary-label {
            font-size: 10px;
            font-weight: 600;
            color: #a78bfa;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        /* AI Spinner */
        .ai-spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-top-color: #a78bfa;
            border-radius: 50%;
            animation: ai-spin 0.6s linear infinite;
        }
        @keyframes ai-spin {
            to { transform: rotate(360deg); }
        }

        /* News Feed Tabs */
        .news-tabs {
            display: flex;
            gap: 0;
            padding: 0 12px;
            border-bottom: 1px solid rgba(59, 130, 246, 0.15);
            flex-shrink: 0;
        }
        .news-tab {
            flex: 1;
            padding: 10px 8px;
            font-size: 11px;
            font-weight: 600;
            font-family: inherit;
            text-align: center;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            color: rgba(148, 163, 184, 0.6);
            cursor: pointer;
            transition: all 0.2s;
        }
        .news-tab:hover {
            color: rgba(148, 163, 184, 0.9);
        }
        .news-tab.active {
            color: #60a5fa;
            border-bottom-color: #3b82f6;
        }
        .news-tab .tab-icon {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 4px;
            vertical-align: -1px;
        }
        #ai-curated-content {
            display: none;
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }
        #ai-curated-content::-webkit-scrollbar { width: 6px; }
        #ai-curated-content::-webkit-scrollbar-track { background: transparent; }
        #ai-curated-content::-webkit-scrollbar-thumb { background: rgba(139, 92, 246, 0.3); border-radius: 3px; }
        #ai-curated-content.visible {
            display: block;
        }
        .curated-item {
            padding: 12px;
            border-radius: 10px;
            background: rgba(71, 85, 105, 0.4);
            margin-bottom: 10px;
            border: 1px solid rgba(139, 92, 246, 0.2);
            transition: all 0.2s;
        }
        .curated-item:hover {
            background: rgba(71, 85, 105, 0.6);
            border-color: rgba(139, 92, 246, 0.4);
        }
        .curated-item a {
            text-decoration: none;
            color: inherit;
        }
        .curated-rank {
            display: inline-block;
            font-size: 10px;
            font-weight: 700;
            color: #a78bfa;
            background: rgba(139, 92, 246, 0.15);
            padding: 2px 7px;
            border-radius: 4px;
            margin-right: 6px;
        }
        .curated-title {
            font-size: 13px;
            font-weight: 500;
            color: #e2e8f0;
            line-height: 1.4;
            margin-bottom: 6px;
        }
        .curated-summary {
            font-size: 11px;
            line-height: 1.5;
            color: rgba(148, 163, 184, 0.8);
            margin-bottom: 6px;
        }
        .curated-meta {
            font-size: 10px;
            color: rgba(148, 163, 184, 0.5);
        }
        .curated-loading {
            text-align: center;
            padding: 40px 20px;
            color: rgba(168, 139, 250, 0.7);
            font-size: 13px;
        }
        .curated-refresh {
            display: block;
            margin: 8px auto;
            padding: 6px 16px;
            font-size: 11px;
            font-weight: 500;
            font-family: inherit;
            color: #a78bfa;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .curated-refresh:hover {
            background: rgba(139, 92, 246, 0.2);
            color: #fff;
        }
        /* === Gmail Sync Styles === */
        #gmail-sync-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            font-size: 12px;
            font-weight: 500;
            font-family: inherit;
            color: #34d399;
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        #gmail-sync-btn:hover {
            background: rgba(16, 185, 129, 0.25);
            border-color: #10b981;
            color: #fff;
        }
        #gmail-sync-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #gmail-sync-btn svg {
            width: 14px;
            height: 14px;
        }
        #gmail-sync-config {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
        }
        #gmail-sync-config.visible { display: block; }
        #gmail-sync-config label {
            font-size: 11px;
            color: rgba(148, 163, 184, 0.8);
            display: block;
            margin-bottom: 4px;
        }
        #gmail-client-id {
            width: 100%;
            padding: 8px 10px;
            font-size: 12px;
            font-family: monospace;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.4);
            border-radius: 6px;
            color: #e2e8f0;
            outline: none;
        }
        #gmail-client-id:focus { border-color: #10b981; }
        #gmail-save-cid {
            margin-top: 6px;
            padding: 6px 12px;
            font-size: 11px;
            font-family: inherit;
            color: #34d399;
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 6px;
            cursor: pointer;
        }
        #gmail-save-cid:hover { background: rgba(16, 185, 129, 0.3); }
        #gmail-sync-status {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            font-size: 12px;
            color: rgba(203, 213, 225, 0.9);
        }
        #gmail-sync-status.visible { display: block; }
        .gmail-spinner {
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 2px solid rgba(16, 185, 129, 0.3);
            border-top-color: #34d399;
            border-radius: 50%;
            animation: ai-spin 0.6s linear infinite;
            margin-right: 6px;
            vertical-align: middle;
        }
        #gmail-preview {
            display: none;
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            padding: 10px;
        }
        #gmail-preview.visible { display: block; }
        #gmail-preview::-webkit-scrollbar { width: 5px; }
        #gmail-preview::-webkit-scrollbar-thumb { background: rgba(16, 185, 129, 0.3); border-radius: 3px; }
        .gmail-preview-item {
            padding: 6px 0;
            border-bottom: 1px solid rgba(100, 116, 139, 0.15);
            font-size: 11px;
            line-height: 1.5;
        }
        .gmail-preview-item:last-child { border-bottom: none; }
        .gmail-preview-item .company-name {
            font-weight: 600;
            color: #34d399;
        }
        .gmail-preview-item .action-tag {
            font-size: 10px;
            padding: 1px 6px;
            border-radius: 4px;
            font-weight: 600;
            margin-left: 6px;
        }
        .gmail-preview-item .action-tag.new {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
        }
        .gmail-preview-item .action-tag.update {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }
        .gmail-preview-actions {
            margin-top: 10px;
            display: flex;
            gap: 8px;
        }
        .gmail-preview-actions button {
            padding: 7px 14px;
            font-size: 12px;
            font-family: inherit;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }
        #gmail-apply-btn {
            color: #fff;
            background: rgba(16, 185, 129, 0.3);
            border: 1px solid #10b981;
        }
        #gmail-apply-btn:hover { background: rgba(16, 185, 129, 0.5); }
        #gmail-cancel-btn {
            color: rgba(148, 163, 184, 0.8);
            background: rgba(51, 65, 85, 0.4);
            border: 1px solid rgba(100, 116, 139, 0.3);
        }
        #gmail-cancel-btn:hover { background: rgba(51, 65, 85, 0.6); }

    </style>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div id="app">
        <canvas id="particles"></canvas>
        <div class="grid"></div>
        <div id="map"></div>

        <div class="header ui">
            <h1>AI Map</h1>
        </div>

        <div class="filter-bar ui">
            <div class="filter-wrap">
                <button class="filter-btn" id="filter-cat-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/></svg>
                    <span id="filter-cat-label">Category</span>
                </button>
                <div class="filter-dropdown" id="filter-cat-dropdown"></div>
            </div>
            <div class="filter-wrap">
                <button class="filter-btn" id="filter-country-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"/></svg>
                    <span id="filter-country-label">Country</span>
                </button>
                <div class="filter-dropdown" id="filter-country-dropdown"></div>
            </div>
            <div class="filter-wrap">
                <button class="filter-btn" id="filter-region-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span id="filter-region-label">Region</span>
                </button>
                <div class="filter-dropdown" id="filter-region-dropdown"></div>
            </div>
            <div class="filter-wrap">
                <button class="filter-btn" id="filter-val-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span id="filter-val-label">Valuation</span>
                </button>
                <div class="filter-dropdown" id="filter-val-dropdown"></div>
            </div>
            <button class="clear-filters" id="clear-filters">
                <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                Clear
            </button>
        </div>

        <div class="search-wrap ui">
            <div class="search-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" id="search" placeholder="Search AI companies... (press /)" autocomplete="off">
            </div>
            <div class="dropdown" id="dropdown"></div>
        </div>

        <div class="panel ui" id="panel">
            <div class="panel-header">
                <div class="panel-logo" id="panel-logo"></div>
                <div class="panel-title">
                    <h3 id="panel-name"></h3>
                    <div class="val" id="panel-val"></div>
                </div>
            </div>
            <p id="panel-desc"></p>
            <div class="panel-meta">
                <span class="tag" id="panel-cat"></span>
                <span class="tag" id="panel-hq"></span>
            </div>
            <div class="panel-actions">
                <a href="#" target="_blank" rel="noopener" class="website-link" id="panel-website">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                    Visit Website
                </a>
                <button class="favorite-btn" id="panel-favorite">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
                    <span id="favorite-text">Add to Favorites</span>
                </button>
                <button id="ai-summary-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                    Ask AI
                </button>
            </div>
            <div id="ai-summary-content">
                <div class="ai-summary-label">AI Summary</div>
                <div class="ai-summary-text" id="ai-summary-text"></div>
            </div>
        </div>

        <div class="stats ui">
            <div class="num" id="count">0</div>
            <div class="label">AI Companies</div>
        </div>

        <!-- News Feed Sidebar -->
        <div class="feed-sidebar left" id="news-feed">
            <div class="feed-header">
                <h3>
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
                    AI News (48h)
                </h3>
                <button class="feed-toggle" id="news-toggle" title="Hide news feed">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/></svg>
                </button>
            </div>
            <div class="news-tabs">
                <button class="news-tab active" id="tab-latest">Latest</button>
                <button class="news-tab" id="tab-curated">AI Curated</button>
            </div>
            <div class="feed-content" id="news-content">
                <div class="news-loading">Loading AI news...</div>
            </div>
            <div id="ai-curated-content">
                <div class="curated-loading"><span class="ai-spinner"></span> Curating with AI...</div>
            </div>
        </div>

        <!-- News Show Button (when collapsed) -->
        <button class="feed-show-btn left" id="news-show" title="Show news feed">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>
        </button>

        <!-- X/Twitter Feed Sidebar -->
        <div class="feed-sidebar right" id="twitter-feed">
            <div class="feed-header">
                <h3>
                    <svg fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    AI on X
                </h3>
                <button class="feed-toggle" id="twitter-toggle" title="Hide X feed">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"/></svg>
                </button>
            </div>
            <div class="feed-content" id="twitter-content">
                <div class="x-account-selector">
                    <select id="x-account-select"></select>
                    <button id="manage-x-accounts" title="Manage accounts">
                        <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/></svg>
                    </button>
                </div>
                <div id="x-timeline-container"></div>
                <div id="x-manage-panel" style="display:none;">
                    <div class="add-account-form">
                        <input type="text" id="add-x-handle" placeholder="@handle">
                        <button id="add-x-btn">Add</button>
                    </div>
                    <div id="x-accounts-list"></div>
                </div>
            </div>
        </div>

        <!-- Twitter Show Button (when collapsed) -->
        <button class="feed-show-btn right" id="twitter-show" title="Show X feed">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </button>

        <button class="admin-btn ui" id="admin-btn">Manage</button>

        <!-- Bottom Toolbar -->
        <div class="toolbar ui">
            <button class="toolbar-btn" id="surprise-btn" title="Random company">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                <span>Surprise me</span>
            </button>
            <button class="toolbar-btn" id="favorites-btn" title="Show favorites">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
                <span>Favorites</span>
            </button>
            <button class="toolbar-btn" id="compare-btn" title="Compare companies">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
                <span>Compare</span>
            </button>
            <button class="toolbar-btn" id="analytics-btn" title="View analytics">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
                <span>Analytics</span>
            </button>
            <button class="toolbar-btn" id="export-csv-btn" title="Export to CSV">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                <span>Export</span>
            </button>
            <button class="toolbar-btn" id="shortcuts-btn" title="Keyboard shortcuts (?)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                <span>Shortcuts</span>
            </button>
        </div>

        <!-- Zoom Controls -->
        <div class="zoom-controls ui">
            <button class="zoom-btn" id="zoom-in" title="Zoom in (+)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"/></svg>
            </button>
            <span class="zoom-level" id="zoom-level">100%</span>
            <button class="zoom-btn" id="zoom-out" title="Zoom out (-)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"/></svg>
            </button>
            <button class="zoom-btn" id="zoom-reset" title="Reset zoom">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
            </button>
        </div>
    </div>

    <!-- Keyboard Shortcuts Modal -->
    <div class="shortcuts-modal" id="shortcuts-modal">
        <div class="shortcuts-content">
            <div class="shortcuts-header">
                <h3>Keyboard Shortcuts</h3>
                <button class="shortcuts-close" id="shortcuts-close">&times;</button>
            </div>
            <div class="shortcuts-list">
                <div class="shortcut-item"><kbd>/</kbd><span>Focus search</span></div>
                <div class="shortcut-item"><kbd>?</kbd><span>Show shortcuts</span></div>
                <div class="shortcut-item"><kbd>Esc</kbd><span>Close panels/modals</span></div>
                <div class="shortcut-item"><kbd>R</kbd><span>Random company</span></div>
                <div class="shortcut-item"><kbd>F</kbd><span>Toggle favorites filter</span></div>
                <div class="shortcut-item"><kbd>A</kbd><span>Open analytics</span></div>
                <div class="shortcut-item"><kbd>C</kbd><span>Compare mode</span></div>
                <div class="shortcut-item"><kbd>+</kbd><span>Zoom in</span></div>
                <div class="shortcut-item"><kbd>-</kbd><span>Zoom out</span></div>
                <div class="shortcut-item"><kbd>0</kbd><span>Reset zoom</span></div>
            </div>
        </div>
    </div>

    <!-- Analytics Modal -->
    <div class="analytics-modal" id="analytics-modal">
        <div class="analytics-content">
            <div class="analytics-header">
                <h3>AI Map Analytics</h3>
                <button class="analytics-close" id="analytics-close">&times;</button>
            </div>
            <div class="stats-grid" id="stats-grid">
                <!-- Stats will be populated by JS -->
            </div>
            <div class="analytics-section">
                <h4>Top Categories</h4>
                <div class="category-bars" id="category-bars"></div>
            </div>
            <div class="analytics-section">
                <h4>Top 10 by Valuation</h4>
                <div class="top-list" id="top-valuations"></div>
            </div>
            <div class="analytics-section">
                <h4>Companies by Region</h4>
                <div class="region-chart" id="region-chart"></div>
            </div>
        </div>
    </div>

    <!-- Compare Modal -->
    <div class="compare-modal" id="compare-modal">
        <div class="compare-content">
            <div class="compare-header">
                <h3>Compare Companies</h3>
                <button class="compare-close" id="compare-close">&times;</button>
            </div>
            <p class="compare-hint">Select 2-3 companies to compare. Click on companies in the map or search.</p>
            <div class="compare-selected" id="compare-selected"></div>
            <div class="compare-table" id="compare-table"></div>
            <div class="compare-actions">
                <button class="btn btn-ghost" id="compare-clear">Clear Selection</button>
            </div>
        </div>
    </div>

    <div class="modal-bg" id="modal">
        <div class="modal">
            <div class="modal-head">
                <h2>Manage Companies</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab active" data-tab="add">Add</button>
                    <button class="tab" data-tab="edit">Edit</button>
                    <button class="tab" data-tab="data">Data</button>
                </div>

                <div class="tab-content active" id="tab-add">
                    <div class="form-row">
                        <div class="field"><label>Name *</label><input type="text" id="add-name"></div>
                        <div class="field"><label>Domain</label><input type="text" id="add-domain" placeholder="company.com"></div>
                    </div>
                    <div class="field">
                        <label>Category *</label>
                        <select id="add-cat">
                            <option>Foundation Models</option><option>Image Generation</option><option>Video Generation</option>
                            <option>Audio AI</option><option>Music AI</option><option>Code & Dev Tools</option><option>AI Agents</option>
                            <option>Neo Cloud</option><option>Hardware</option><option>Data & Vector DB</option><option>MLOps</option>
                            <option>Conversational AI</option><option>Contact Center</option><option>Customer Support</option>
                            <option>Enterprise Search</option><option>Enterprise AI</option><option>Legal Tech</option>
                            <option>Healthcare AI</option><option>Drug Discovery</option><option>Finance AI</option>
                            <option>Marketing AI</option><option>HR Tech</option><option>Security AI</option>
                            <option>Education</option><option>Robotics</option><option>Autonomous Vehicles</option>
                        </select>
                    </div>
                    <div class="field"><label>Description *</label><textarea id="add-desc"></textarea></div>
                    <div class="form-row">
                        <div class="field"><label>HQ</label><input type="text" id="add-hq" placeholder="City, State"></div>
                        <div class="field"><label>Valuation</label><input type="text" id="add-val" placeholder="$1B"></div>
                    </div>
                    <div class="field"><label>Related (comma-sep)</label><input type="text" id="add-rel"></div>
                    <div class="actions"><button class="btn btn-primary" id="add-btn">Add Company</button></div>
                </div>

                <div class="tab-content" id="tab-edit">
                    <div class="field"><input type="text" id="edit-search" placeholder="Search to edit..."></div>
                    <div class="list" id="company-list"></div>
                </div>

                <div class="tab-content" id="tab-data">
                    <div style="margin-bottom:14px;padding:10px;background:rgba(30,41,59,0.6);border:1px solid rgba(139,92,246,0.2);border-radius:8px;">
                        <label style="font-size:11px;color:rgba(148,163,184,0.8);display:block;margin-bottom:4px;">Gemini API Key <span style="color:rgba(148,163,184,0.4);">(required for AI features)</span></label>
                        <div style="display:flex;gap:6px;">
                            <input type="password" id="gemini-key-input" placeholder="AIzaSy..." style="flex:1;padding:8px 10px;font-size:12px;font-family:monospace;background:rgba(15,23,42,0.8);border:1px solid rgba(100,116,139,0.4);border-radius:6px;color:#e2e8f0;outline:none;">
                            <button id="gemini-key-save" style="padding:6px 12px;font-size:11px;font-family:inherit;color:#a78bfa;background:rgba(139,92,246,0.15);border:1px solid rgba(139,92,246,0.3);border-radius:6px;cursor:pointer;">Save</button>
                        </div>
                        <div id="gemini-key-status" style="font-size:11px;margin-top:4px;color:rgba(148,163,184,0.5);"></div>
                    </div>
                    <p style="color:rgba(148,163,184,0.6);font-size:12px;margin-bottom:14px;">Export or import company data.</p>
                    <div class="export-btns">
                        <button class="btn btn-ghost" id="export-btn">Export JSON</button>
                        <label class="btn btn-ghost" style="cursor:pointer;">Import<input type="file" id="import-file" accept=".json" style="display:none;"></label>
                        <button class="btn btn-ghost" id="reset-btn">Reset</button>
                    </div>
                    <div style="margin-top:14px;border-top:1px solid rgba(100,116,139,0.15);padding-top:14px;">
                        <p style="color:rgba(148,163,184,0.6);font-size:12px;margin-bottom:10px;">Sync fundraising data from The Information newsletters.</p>
                        <button id="gmail-sync-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><polyline points="22,4 12,13 2,4"/></svg>
                            Sync from Gmail
                        </button>
                        <div id="gmail-sync-config">
                            <label>Google OAuth2 Client ID</label>
                            <input type="text" id="gmail-client-id" placeholder="xxxx.apps.googleusercontent.com">
                            <button id="gmail-save-cid">Save &amp; Connect</button>
                        </div>
                        <div id="gmail-sync-status"></div>
                        <div id="gmail-preview"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-bg" id="edit-modal">
        <div class="modal">
            <div class="modal-head">
                <h2>Edit Company</h2>
                <button class="modal-close" id="edit-close">&times;</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-orig">
                <div class="form-row">
                    <div class="field"><label>Name *</label><input type="text" id="edit-name"></div>
                    <div class="field"><label>Domain</label><input type="text" id="edit-domain"></div>
                </div>
                <div class="field">
                    <label>Category *</label>
                    <select id="edit-cat">
                        <option>Foundation Models</option><option>Image Generation</option><option>Video Generation</option>
                        <option>Audio AI</option><option>Music AI</option><option>Code & Dev Tools</option><option>AI Agents</option>
                        <option>Neo Cloud</option><option>Hardware</option><option>Data & Vector DB</option><option>MLOps</option>
                        <option>Conversational AI</option><option>Contact Center</option><option>Customer Support</option>
                        <option>Enterprise Search</option><option>Enterprise AI</option><option>Legal Tech</option>
                        <option>Healthcare AI</option><option>Drug Discovery</option><option>Finance AI</option>
                        <option>Marketing AI</option><option>HR Tech</option><option>Security AI</option>
                        <option>Education</option><option>Robotics</option><option>Autonomous Vehicles</option>
                    </select>
                </div>
                <div class="field"><label>Description *</label><textarea id="edit-desc"></textarea></div>
                <div class="form-row">
                    <div class="field"><label>HQ</label><input type="text" id="edit-hq"></div>
                    <div class="field"><label>Valuation</label><input type="text" id="edit-val"></div>
                </div>
                <div class="field"><label>Related (comma-sep)</label><input type="text" id="edit-rel"></div>
                <div class="actions">
                    <button class="btn btn-ghost" id="delete-btn">Delete</button>
                    <button class="btn btn-primary" id="save-btn">Save</button>
                </div>
            </div>
        </div>
    </div>

<script>
// Category similarity matrix
const catGroups = {
    "models": ["Foundation Models", "AI Agents"],
    "creative": ["Image Generation", "Video Generation", "Audio AI", "Music AI"],
    "dev": ["Code & Dev Tools", "MLOps", "Data & Vector DB"],
    "infra": ["Neo Cloud", "Hardware"],
    "conversation": ["Conversational AI", "Contact Center", "Customer Support"],
    "enterprise": ["Enterprise AI", "Enterprise Search", "Legal Tech", "Finance AI", "Marketing AI", "HR Tech"],
    "health": ["Healthcare AI", "Drug Discovery"],
    "security": ["Security AI"],
    "edu": ["Education"],
    "physical": ["Robotics", "Autonomous Vehicles"]
};

function getGroup(cat) {
    for (let g in catGroups) {
        if (catGroups[g].includes(cat)) return g;
    }
    return null;
}

// Calculate similarity between two companies (0-1)
function similarity(a, b) {
    if (!data[a] || !data[b]) return 0.1;
    if (a === b) return 1;

    let score = 0;
    const ca = data[a], cb = data[b];

    // Direct relationship (highest weight)
    if ((ca.rel || []).includes(b) || (cb.rel || []).includes(a)) {
        score += 0.5;
    }

    // Same category
    if (ca.cat === cb.cat) {
        score += 0.35;
    }
    // Same group
    else if (getGroup(ca.cat) === getGroup(cb.cat)) {
        score += 0.15;
    }

    // Shared relationships
    const relA = new Set(ca.rel || []);
    const relB = new Set(cb.rel || []);
    let shared = 0;
    relA.forEach(r => { if (relB.has(r)) shared++; });
    score += Math.min(shared * 0.05, 0.15);

    return Math.min(score, 1);
}

const defaultData = {
"OpenAI": { desc: "Creator of GPT-4, ChatGPT, DALL-E. Leading AI research lab.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$750B discussed", domain: "openai.com", rel: ["Anthropic", "Google DeepMind", "Meta AI", "xAI", "Mistral AI", "Microsoft"] },
"Anthropic": { desc: "AI safety company, creator of Claude. Enterprise AI leader.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$350B", domain: "anthropic.com", rel: ["OpenAI", "Google DeepMind", "Cohere", "xAI", "Amazon"] },
"Google DeepMind": { desc: "Created Gemini, AlphaFold, AlphaGo. AI research pioneer.", cat: "Foundation Models", hq: "London, UK", val: "Alphabet", domain: "deepmind.google", rel: ["OpenAI", "Anthropic", "Meta AI", "Microsoft"] },
"Meta AI": { desc: "Created open-source LLaMA models.", cat: "Foundation Models", hq: "Menlo Park, CA", val: "Meta", domain: "ai.meta.com", rel: ["Mistral AI", "Hugging Face", "Together AI", "OpenAI"] },
"xAI": { desc: "Elon Musk's AI company. Creator of Grok.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "$230B", domain: "x.ai", rel: ["OpenAI", "Anthropic", "Google DeepMind"] },
"Mistral AI": { desc: "French AI startup. Leading open-weight models.", cat: "Foundation Models", hq: "Paris, France", val: "$14B", domain: "mistral.ai", rel: ["Meta AI", "Hugging Face", "Together AI", "Cohere"] },
"Cohere": { desc: "Enterprise LLM company. Embeddings specialist.", cat: "Foundation Models", hq: "Toronto, Canada", val: "$6B", domain: "cohere.com", rel: ["OpenAI", "Anthropic", "AI21 Labs", "Writer"] },
"AI21 Labs": { desc: "Creator of Jurassic models.", cat: "Foundation Models", hq: "Tel Aviv, Israel", val: "$1.4B", domain: "ai21.com", rel: ["Cohere", "OpenAI", "Writer"] },
"Inflection AI": { desc: "Creator of Pi assistant.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "$4B", domain: "inflection.ai", rel: ["Anthropic", "OpenAI", "Character.AI"] },
"Character.AI": { desc: "AI chatbot platform for characters.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "$1B", domain: "character.ai", rel: ["Inflection AI", "OpenAI", "Replika"] },
"SSI": { desc: "Safe Superintelligence by Ilya Sutskever.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "$32B", domain: "ssi.inc", rel: ["OpenAI", "Anthropic"] },
"Reka": { desc: "Multimodal AI models.", cat: "Foundation Models", hq: "London, UK", val: "$500M", domain: "reka.ai", rel: ["Anthropic", "Mistral AI"] },
"Writer": { desc: "Enterprise AI for content.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$1.9B", domain: "writer.com", rel: ["Cohere", "AI21 Labs", "Jasper"] },
"Zhipu AI": { desc: "China's leading foundation model company.", cat: "Foundation Models", hq: "Beijing, China", val: "$3B", domain: "zhipuai.cn", rel: ["Baidu", "01.AI", "DeepSeek"] },
"01.AI": { desc: "Yi models by Kai-Fu Lee.", cat: "Foundation Models", hq: "Beijing, China", val: "$1B", domain: "01.ai", rel: ["Zhipu AI", "Baidu"] },
"Baidu": { desc: "ERNIE Bot. Chinese AI leader.", cat: "Foundation Models", hq: "Beijing, China", val: "$35B", domain: "baidu.com", rel: ["Alibaba Cloud", "Zhipu AI"] },
"Alibaba Cloud": { desc: "Qwen models.", cat: "Foundation Models", hq: "Hangzhou, China", val: "Alibaba", domain: "alibabacloud.com", rel: ["Baidu", "Zhipu AI"] },
"DeepSeek": { desc: "Chinese AI lab, powerful open models.", cat: "Foundation Models", hq: "Hangzhou, China", val: "$2B", domain: "deepseek.com", rel: ["Mistral AI", "Zhipu AI", "01.AI"] },
"Moonshot AI": { desc: "Kimi chatbot, long context.", cat: "Foundation Models", hq: "Beijing, China", val: "~$4B", domain: "moonshot.cn", rel: ["Zhipu AI", "DeepSeek"] },
"MiniMax": { desc: "Chinese multimodal AI.", cat: "Foundation Models", hq: "Shanghai, China", val: "$2.5B", domain: "minimaxi.com", rel: ["Zhipu AI", "DeepSeek"] },

"Midjourney": { desc: "AI image generation. Exceptional quality.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10.5B", domain: "midjourney.com", rel: ["Stability AI", "Adobe Firefly", "Leonardo.AI", "Ideogram"] },
"Stability AI": { desc: "Stable Diffusion. Open-source pioneer.", cat: "Image Generation", hq: "London, UK", val: "$1B", domain: "stability.ai", rel: ["Midjourney", "Runway", "Black Forest Labs"] },
"Adobe Firefly": { desc: "Adobe's generative AI.", cat: "Image Generation", hq: "San Jose, CA", val: "Adobe", domain: "adobe.com", rel: ["Midjourney", "Canva", "Figma"] },
"Leonardo.AI": { desc: "AI image platform.", cat: "Image Generation", hq: "Sydney, Australia", val: "$500M", domain: "leonardo.ai", rel: ["Midjourney", "Stability AI"] },
"Ideogram": { desc: "AI image with text rendering.", cat: "Image Generation", hq: "Toronto, Canada", val: "$580M", domain: "ideogram.ai", rel: ["Midjourney", "Stability AI"] },
"Black Forest Labs": { desc: "FLUX models.", cat: "Image Generation", hq: "Freiburg, Germany", val: "$3.25B", domain: "blackforestlabs.ai", rel: ["Stability AI", "Midjourney"] },
"PhotoRoom": { desc: "AI background removal.", cat: "Image Generation", hq: "Paris, France", val: "$500M", domain: "photoroom.com", rel: ["Canva", "Adobe Firefly"] },

"Runway": { desc: "AI video generation. Gen-3.", cat: "Video Generation", hq: "New York, NY", val: "$4B", domain: "runwayml.com", rel: ["Pika", "Luma AI", "HeyGen", "Stability AI"] },
"Pika": { desc: "Text-to-video AI.", cat: "Video Generation", hq: "Palo Alto, CA", val: "$900M", domain: "pika.art", rel: ["Runway", "Luma AI"] },
"Luma AI": { desc: "Dream Machine.", cat: "Video Generation", hq: "Palo Alto, CA", val: "$4B", domain: "lumalabs.ai", rel: ["Runway", "Pika"] },
"HeyGen": { desc: "AI avatar videos.", cat: "Video Generation", hq: "Los Angeles, CA", val: "$500M", domain: "heygen.com", rel: ["Synthesia", "D-ID"] },
"Synthesia": { desc: "Enterprise AI video.", cat: "Video Generation", hq: "London, UK", val: "$4B", domain: "synthesia.io", rel: ["HeyGen", "D-ID"] },
"D-ID": { desc: "Talking avatars.", cat: "Video Generation", hq: "Tel Aviv, Israel", val: "$400M", domain: "d-id.com", rel: ["HeyGen", "Synthesia"] },
"Higgsfield": { desc: "AI video avatars.", cat: "Video Generation", hq: "Palo Alto, CA", val: "$100M", domain: "higgsfield.ai", rel: ["HeyGen", "Synthesia"] },

"ElevenLabs": { desc: "AI voice synthesis leader.", cat: "Audio AI", hq: "New York, NY", val: "$11B", domain: "elevenlabs.io", rel: ["Resemble AI", "Descript", "Suno"] },
"Suno": { desc: "AI music from text.", cat: "Music AI", hq: "Cambridge, MA", val: "$2.45B", domain: "suno.com", rel: ["Udio", "ElevenLabs"] },
"Udio": { desc: "AI music generation.", cat: "Music AI", hq: "New York, NY", val: "$200M", domain: "udio.com", rel: ["Suno", "ElevenLabs"] },
"Descript": { desc: "AI audio/video editing.", cat: "Audio AI", hq: "San Francisco, CA", val: "$553M", domain: "descript.com", rel: ["ElevenLabs", "Runway"] },
"Deepgram": { desc: "Speech recognition.", cat: "Audio AI", hq: "San Francisco, CA", val: "$1.3B", domain: "deepgram.com", rel: ["AssemblyAI", "ElevenLabs"] },
"AssemblyAI": { desc: "Speech-to-text API.", cat: "Audio AI", hq: "San Francisco, CA", val: "$300M", domain: "assemblyai.com", rel: ["Deepgram", "Otter.ai"] },
"Otter.ai": { desc: "Meeting transcription.", cat: "Audio AI", hq: "Mountain View, CA", val: "$400M", domain: "otter.ai", rel: ["Fireflies.ai", "AssemblyAI", "Granola"] },
"Resemble AI": { desc: "Voice cloning.", cat: "Audio AI", hq: "San Francisco, CA", val: "$100M", domain: "resemble.ai", rel: ["ElevenLabs", "Descript"] },
"Granola": { desc: "AI meeting notes.", cat: "Audio AI", hq: "San Francisco, CA", val: "$50M", domain: "granola.so", rel: ["Otter.ai", "Fireflies.ai"] },
"Fireflies.ai": { desc: "Meeting assistant.", cat: "Audio AI", hq: "San Francisco, CA", val: "$100M", domain: "fireflies.ai", rel: ["Otter.ai", "Granola"] },

"GitHub Copilot": { desc: "AI pair programmer.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "Microsoft", domain: "github.com", rel: ["Cursor", "Codeium", "Replit"] },
"Cursor": { desc: "AI-native code editor.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$29.3B", domain: "cursor.com", rel: ["GitHub Copilot", "Codeium", "Windsurf", "Lovable"] },
"Codeium": { desc: "Free AI code completion.", cat: "Code & Dev Tools", hq: "Mountain View, CA", val: "$1.25B", domain: "codeium.com", rel: ["GitHub Copilot", "Cursor"] },
"Replit": { desc: "AI-powered online IDE.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$3B", domain: "replit.com", rel: ["Cursor", "Vercel", "Lovable"] },
"Tabnine": { desc: "AI code with privacy.", cat: "Code & Dev Tools", hq: "Tel Aviv, Israel", val: "$400M", domain: "tabnine.com", rel: ["GitHub Copilot", "Codeium"] },
"Sourcegraph": { desc: "AI code search.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$2.6B", domain: "sourcegraph.com", rel: ["GitHub Copilot", "Cursor"] },
"Magic": { desc: "AI coding, unlimited context.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$1.5B", domain: "magic.dev", rel: ["Cursor", "Cognition AI"] },
"Vercel": { desc: "Frontend cloud with AI.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$3.25B", domain: "vercel.com", rel: ["Replit", "Supabase"] },
"Poolside": { desc: "AI for software dev.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$12B", domain: "poolside.ai", rel: ["Magic", "Cursor"] },
"Lovable": { desc: "AI app builder.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$6.6B", domain: "lovable.dev", rel: ["Cursor", "Replit"] },
"Windsurf": { desc: "AI code editor. Acquired by Cognition.", cat: "Code & Dev Tools", hq: "Palo Alto, CA", val: "Cognition", domain: "codeium.com", rel: ["Cursor", "Codeium", "Cognition AI"] },
"Harness": { desc: "DevOps AI platform.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$5.5B", domain: "harness.io", rel: ["GitHub Copilot", "Datadog"] },

"Cognition AI": { desc: "Devin, AI software engineer. Acquired Windsurf.", cat: "AI Agents", hq: "San Francisco, CA", val: "$10.2B", domain: "cognition.ai", rel: ["Adept", "OpenAI", "Magic"] },
"Sierra": { desc: "AI agents by Bret Taylor.", cat: "AI Agents", hq: "San Francisco, CA", val: "$10B", domain: "sierra.ai", rel: ["Intercom", "Ada"] },
"Adept": { desc: "AI that takes actions.", cat: "AI Agents", hq: "San Francisco, CA", val: "$1B", domain: "adept.ai", rel: ["Cognition AI", "OpenAI"] },
"11x": { desc: "AI digital workers.", cat: "AI Agents", hq: "San Francisco, CA", val: "$350M", domain: "11x.ai", rel: ["Artisan", "Outreach"] },
"Artisan": { desc: "AI employees for sales.", cat: "AI Agents", hq: "San Francisco, CA", val: "$250M", domain: "artisan.co", rel: ["11x", "Outreach"] },

"CoreWeave": { desc: "AI-focused GPU cloud.", cat: "Neo Cloud", hq: "Roseland, NJ", val: "$45B", domain: "coreweave.com", rel: ["Lambda Labs", "Together AI", "Crusoe"] },
"Lambda Labs": { desc: "GPU cloud for AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$2.5B", domain: "lambdalabs.com", rel: ["CoreWeave", "Together AI"] },
"Crusoe": { desc: "Sustainable AI cloud.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$10B", domain: "crusoe.ai", rel: ["CoreWeave", "Lambda Labs"] },
"Together AI": { desc: "Open-source AI cloud.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$1.3B", domain: "together.ai", rel: ["Hugging Face", "Fireworks AI", "Meta AI"] },
"Fireworks AI": { desc: "Fast AI inference.", cat: "Neo Cloud", hq: "Menlo Park, CA", val: "$4B", domain: "fireworks.ai", rel: ["Together AI", "Groq"] },
"Modal": { desc: "Serverless GPU.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$150M", domain: "modal.com", rel: ["Together AI", "Replicate", "Baseten"] },
"Replicate": { desc: "Run AI models via API.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$350M", domain: "replicate.com", rel: ["Hugging Face", "Together AI"] },
"Baseten": { desc: "ML model deployment.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$5B", domain: "baseten.co", rel: ["Replicate", "Modal"] },
"Fal": { desc: "Fast AI inference.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$4.5B", domain: "fal.ai", rel: ["Replicate", "Modal"] },

"NVIDIA": { desc: "GPU leader. Powers AI.", cat: "Hardware", hq: "Santa Clara, CA", val: "$4.57T", domain: "nvidia.com", rel: ["AMD", "Cerebras", "Groq"] },
"AMD": { desc: "GPU competitor. MI300.", cat: "Hardware", hq: "Santa Clara, CA", val: "$423B", domain: "amd.com", rel: ["NVIDIA", "Intel"] },
"Groq": { desc: "Ultra-fast LPU chips. Acquired by NVIDIA.", cat: "Hardware", hq: "Mountain View, CA", val: "NVIDIA", domain: "groq.com", rel: ["Cerebras", "NVIDIA", "Fireworks AI"] },
"Cerebras": { desc: "Wafer-scale AI chips.", cat: "Hardware", hq: "Sunnyvale, CA", val: "$22B", domain: "cerebras.net", rel: ["Groq", "NVIDIA"] },
"SambaNova": { desc: "Enterprise AI systems.", cat: "Hardware", hq: "Palo Alto, CA", val: "$5.1B", domain: "sambanova.ai", rel: ["Cerebras", "Groq"] },

"Pinecone": { desc: "Vector database leader.", cat: "Data & Vector DB", hq: "New York, NY", val: "$750M", domain: "pinecone.io", rel: ["Weaviate", "Chroma"] },
"Weaviate": { desc: "Open-source vector DB.", cat: "Data & Vector DB", hq: "Amsterdam, Netherlands", val: "$200M", domain: "weaviate.io", rel: ["Pinecone", "Chroma"] },
"Scale AI": { desc: "AI data labeling.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$29B", domain: "scale.com", rel: ["Labelbox", "Snorkel"] },
"Databricks": { desc: "Data lakehouse with AI.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$134B", domain: "databricks.com", rel: ["Snowflake", "Scale AI"] },
"Snowflake": { desc: "Data cloud with AI.", cat: "Data & Vector DB", hq: "Bozeman, MT", val: "$75B", domain: "snowflake.com", rel: ["Databricks", "Microsoft"] },
"MongoDB": { desc: "Document database.", cat: "Data & Vector DB", hq: "New York, NY", val: "$17B", domain: "mongodb.com", rel: ["Pinecone", "Snowflake"] },
"Supabase": { desc: "Open-source Firebase.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$2B", domain: "supabase.com", rel: ["Neon", "MongoDB", "Vercel"] },
"Neon": { desc: "Serverless Postgres.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$1B", domain: "neon.tech", rel: ["Supabase", "MongoDB"] },

"Hugging Face": { desc: "AI model hub.", cat: "MLOps", hq: "New York, NY", val: "$7B", domain: "huggingface.co", rel: ["Meta AI", "Together AI", "Replicate"] },
"Weights & Biases": { desc: "ML experiment tracking.", cat: "MLOps", hq: "San Francisco, CA", val: "$1.25B", domain: "wandb.ai", rel: ["Scale AI", "Hugging Face"] },
"LangChain": { desc: "LLM app framework.", cat: "MLOps", hq: "San Francisco, CA", val: "$200M", domain: "langchain.com", rel: ["LlamaIndex", "Pinecone"] },
"LlamaIndex": { desc: "LLM data framework.", cat: "MLOps", hq: "San Francisco, CA", val: "$150M", domain: "llamaindex.ai", rel: ["LangChain", "Pinecone"] },
"n8n": { desc: "Workflow automation.", cat: "MLOps", hq: "Berlin, Germany", val: "$200M", domain: "n8n.io", rel: ["LangChain", "Temporal"] },
"Braintrust": { desc: "AI evaluation platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$100M", domain: "braintrustdata.com", rel: ["Weights & Biases", "LangChain"] },

"Perplexity": { desc: "AI search engine.", cat: "Enterprise Search", hq: "San Francisco, CA", val: "$20B", domain: "perplexity.ai", rel: ["OpenAI", "Google", "Glean"] },
"Glean": { desc: "Enterprise AI search.", cat: "Enterprise Search", hq: "Palo Alto, CA", val: "$7.2B", domain: "glean.com", rel: ["Perplexity", "Coveo"] },
"Hebbia": { desc: "AI knowledge work.", cat: "Enterprise Search", hq: "New York, NY", val: "$700M", domain: "hebbia.ai", rel: ["Glean", "Perplexity"] },

"Harvey": { desc: "AI for law firms.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$9.3B", domain: "harvey.ai", rel: ["EvenUp", "Ironclad", "Casetext"] },
"EvenUp": { desc: "Personal injury AI.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$1B", domain: "evenuplaw.com", rel: ["Harvey", "Spellbook"] },
"Ironclad": { desc: "Contract management.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$3.2B", domain: "ironcladapp.com", rel: ["Harvey", "DocuSign"] },
"Everlaw": { desc: "Litigation platform.", cat: "Legal Tech", hq: "Oakland, CA", val: "$2B", domain: "everlaw.com", rel: ["Harvey", "Relativity"] },

"Abridge": { desc: "Clinical documentation.", cat: "Healthcare AI", hq: "Pittsburgh, PA", val: "$5.3B", domain: "abridge.com", rel: ["Ambience", "Suki", "Nuance"] },
"Ambience": { desc: "Healthcare AI docs.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$800M", domain: "ambience.healthcare", rel: ["Abridge", "Suki"] },
"Tempus": { desc: "Precision medicine.", cat: "Healthcare AI", hq: "Chicago, IL", val: "$6.1B", domain: "tempus.com", rel: ["Recursion", "PathAI"] },
"Nuance": { desc: "Healthcare speech AI.", cat: "Healthcare AI", hq: "Burlington, MA", val: "Microsoft", domain: "nuance.com", rel: ["Microsoft", "Abridge"] },

"Recursion": { desc: "AI drug discovery.", cat: "Drug Discovery", hq: "Salt Lake City, UT", val: "$3.5B", domain: "recursion.com", rel: ["Insilico Medicine", "Isomorphic Labs"] },
"Insilico Medicine": { desc: "AI drug discovery.", cat: "Drug Discovery", hq: "Hong Kong", val: "$895M", domain: "insilico.com", rel: ["Recursion", "BenevolentAI"] },
"Isomorphic Labs": { desc: "Alphabet drug AI.", cat: "Drug Discovery", hq: "London, UK", val: "Alphabet", domain: "isomorphiclabs.com", rel: ["Google DeepMind", "Recursion"] },

"Stripe": { desc: "Payments with AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$90B", domain: "stripe.com", rel: ["Plaid", "Brex", "Ramp"] },
"Plaid": { desc: "Financial data.", cat: "Finance AI", hq: "San Francisco, CA", val: "$13.4B", domain: "plaid.com", rel: ["Stripe", "Ramp"] },
"Ramp": { desc: "AI expense mgmt.", cat: "Finance AI", hq: "New York, NY", val: "$32B", domain: "ramp.com", rel: ["Brex", "Stripe"] },
"Brex": { desc: "AI corporate cards. Acquired by Capital One.", cat: "Finance AI", hq: "San Francisco, CA", val: "Capital One", domain: "brex.com", rel: ["Ramp", "Stripe"] },
"Klarna": { desc: "BNPL with AI.", cat: "Finance AI", hq: "Stockholm, Sweden", val: "$14.6B", domain: "klarna.com", rel: ["Stripe", "Affirm"] },
"AlphaSense": { desc: "Market intelligence.", cat: "Finance AI", hq: "New York, NY", val: "$4B", domain: "alpha-sense.com", rel: ["Bloomberg", "Hebbia"] },

"Gong": { desc: "Revenue intelligence.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$7.25B", domain: "gong.io", rel: ["Clari", "6sense"] },
"6sense": { desc: "Account-based marketing.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$5.2B", domain: "6sense.com", rel: ["Demandbase", "Gong"] },
"Clay": { desc: "AI data enrichment.", cat: "Marketing AI", hq: "New York, NY", val: "$5B", domain: "clay.com", rel: ["Apollo", "ZoomInfo"] },
"HubSpot": { desc: "CRM with AI.", cat: "Marketing AI", hq: "Cambridge, MA", val: "$18.2B", domain: "hubspot.com", rel: ["Salesforce", "Intercom"] },
"Canva": { desc: "Design with AI.", cat: "Marketing AI", hq: "Sydney, Australia", val: "$42B", domain: "canva.com", rel: ["Adobe Firefly", "Figma", "Gamma"] },
"Jasper": { desc: "AI marketing content.", cat: "Marketing AI", hq: "Austin, TX", val: "$1.5B", domain: "jasper.ai", rel: ["Writer", "Copy.ai", "Typeface"] },
"Gamma": { desc: "AI presentations.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$500M", domain: "gamma.app", rel: ["Canva", "Figma"] },
"Typeface": { desc: "Enterprise content AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1B", domain: "typeface.ai", rel: ["Jasper", "Writer"] },
"Figma": { desc: "Design with AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "Adobe", domain: "figma.com", rel: ["Canva", "Adobe Firefly"] },

"Intercom": { desc: "AI customer service.", cat: "Customer Support", hq: "San Francisco, CA", val: "$1.3B", domain: "intercom.com", rel: ["Zendesk", "Sierra"] },
"Zendesk": { desc: "Customer service AI.", cat: "Customer Support", hq: "San Francisco, CA", val: "$10.2B", domain: "zendesk.com", rel: ["Intercom", "Freshworks"] },
"Ada": { desc: "AI customer automation.", cat: "Customer Support", hq: "Toronto, Canada", val: "$1.2B", domain: "ada.cx", rel: ["Intercom", "Sierra"] },

"Wiz": { desc: "Cloud security. Acquired by Google.", cat: "Security AI", hq: "New York, NY", val: "Google", domain: "wiz.io", rel: ["CrowdStrike", "Orca Security"] },
"CrowdStrike": { desc: "Endpoint security.", cat: "Security AI", hq: "Austin, TX", val: "$75B", domain: "crowdstrike.com", rel: ["SentinelOne", "Wiz"] },
"SentinelOne": { desc: "AI cybersecurity.", cat: "Security AI", hq: "Mountain View, CA", val: "$7.5B", domain: "sentinelone.com", rel: ["CrowdStrike", "Palo Alto Networks"] },
"Palo Alto Networks": { desc: "Cybersecurity AI.", cat: "Security AI", hq: "Santa Clara, CA", val: "$110B", domain: "paloaltonetworks.com", rel: ["CrowdStrike", "Fortinet"] },

"Duolingo": { desc: "AI language learning.", cat: "Education", hq: "Pittsburgh, PA", val: "$7.1B", domain: "duolingo.com", rel: ["Khan Academy", "Speak"] },
"Khan Academy": { desc: "Khanmigo AI tutor.", cat: "Education", hq: "Mountain View, CA", val: "Non-profit", domain: "khanacademy.org", rel: ["Duolingo", "Coursera"] },
"Speak": { desc: "AI language learning.", cat: "Education", hq: "San Francisco, CA", val: "$500M", domain: "speak.com", rel: ["Duolingo", "Brilliant"] },
"Sana": { desc: "Enterprise learning AI.", cat: "Education", hq: "Stockholm, Sweden", val: "$500M", domain: "sana.ai", rel: ["Coursera", "Khan Academy"] },

"Figure": { desc: "Humanoid robots.", cat: "Robotics", hq: "Sunnyvale, CA", val: "$39B", domain: "figure.ai", rel: ["Physical Intelligence", "1X Technologies", "Boston Dynamics"] },
"Physical Intelligence": { desc: "Robot foundation models.", cat: "Robotics", hq: "San Francisco, CA", val: "$5.6B", domain: "physicalintelligence.company", rel: ["Figure", "Covariant", "Skild AI"] },
"1X Technologies": { desc: "OpenAI-backed robots.", cat: "Robotics", hq: "Moss, Norway", val: "$500M", domain: "1x.tech", rel: ["Figure", "Agility Robotics"] },
"Boston Dynamics": { desc: "Spot & Atlas robots.", cat: "Robotics", hq: "Waltham, MA", val: "Hyundai", domain: "bostondynamics.com", rel: ["Figure", "Agility Robotics"] },
"Skild AI": { desc: "Robot foundation models.", cat: "Robotics", hq: "Pittsburgh, PA", val: "$14B+", domain: "skild.ai", rel: ["Physical Intelligence", "Figure"] },

"Waymo": { desc: "Robotaxi leader.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$100B+ discussed", domain: "waymo.com", rel: ["Zoox", "Aurora", "Cruise"] },
"Zoox": { desc: "Amazon's robotaxi.", cat: "Autonomous Vehicles", hq: "Foster City, CA", val: "Amazon", domain: "zoox.com", rel: ["Waymo", "Aurora"] },
"Aurora": { desc: "Autonomous trucking.", cat: "Autonomous Vehicles", hq: "Pittsburgh, PA", val: "$4B", domain: "aurora.tech", rel: ["Waymo", "Kodiak"] },
"Cruise": { desc: "GM autonomous.", cat: "Autonomous Vehicles", hq: "San Francisco, CA", val: "GM", domain: "getcruise.com", rel: ["Waymo", "Aurora"] },

"Microsoft": { desc: "OpenAI investor. Copilot.", cat: "Enterprise AI", hq: "Redmond, WA", val: "$3.4T", domain: "microsoft.com", rel: ["OpenAI", "GitHub Copilot", "Google", "Nuance"] },
"Amazon": { desc: "AWS Bedrock. Anthropic.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$2.47T", domain: "amazon.com", rel: ["Microsoft", "Google", "Anthropic"] },
"Google": { desc: "Gemini everywhere.", cat: "Enterprise AI", hq: "Mountain View, CA", val: "$2.4T", domain: "google.com", rel: ["Microsoft", "OpenAI", "Google DeepMind"] },
"Salesforce": { desc: "Einstein AI CRM.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$220B", domain: "salesforce.com", rel: ["Microsoft", "HubSpot"] },
"Palantir": { desc: "Data analytics AI.", cat: "Enterprise AI", hq: "Denver, CO", val: "$423B", domain: "palantir.com", rel: ["Databricks", "Snowflake", "C3.ai"] },
"ServiceNow": { desc: "Enterprise workflow.", cat: "Enterprise AI", hq: "Santa Clara, CA", val: "$135B", domain: "servicenow.com", rel: ["Salesforce", "Workday"] },
"Notion": { desc: "Productivity AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$10B", domain: "notion.so", rel: ["Coda", "Glean", "Atlassian"] },
"Atlassian": { desc: "Jira, Confluence AI.", cat: "Enterprise AI", hq: "Sydney, Australia", val: "$50B", domain: "atlassian.com", rel: ["Notion", "Microsoft"] },
"Replika": { desc: "AI companion chatbot.", cat: "Conversational AI", hq: "San Francisco, CA", val: "$300M", domain: "replika.com", rel: ["Character.AI", "Inflection AI"] },
"Intuit": { desc: "QuickBooks AI.", cat: "Finance AI", hq: "Mountain View, CA", val: "$180B", domain: "intuit.com", rel: ["Stripe", "Ramp"] },

// Additional companies to reach 370+
"Captions": { desc: "AI video captions & editing.", cat: "Video Generation", hq: "New York, NY", val: "$500M", domain: "captions.ai", rel: ["Descript", "Runway"] },
"Augment Code": { desc: "AI coding assistant.", cat: "Code & Dev Tools", hq: "Palo Alto, CA", val: "$252M", domain: "augmentcode.com", rel: ["Cursor", "GitHub Copilot"] },
"Decagon": { desc: "AI customer support agents.", cat: "Customer Support", hq: "San Francisco, CA", val: "$4.5B", domain: "decagon.ai", rel: ["Sierra", "Intercom"] },
"Anyscale": { desc: "Ray framework for AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$1B", domain: "anyscale.com", rel: ["Together AI", "Modal"] },
"Tenstorrent": { desc: "AI chip company.", cat: "Hardware", hq: "Toronto, Canada", val: "$1B", domain: "tenstorrent.com", rel: ["Cerebras", "Groq"] },
"Kore.ai": { desc: "Conversational AI platform.", cat: "Conversational AI", hq: "Orlando, FL", val: "$500M", domain: "kore.ai", rel: ["Yellow.ai", "Rasa"] },
"Uniphore": { desc: "Conversational AI analytics.", cat: "Conversational AI", hq: "Palo Alto, CA", val: "$2.5B", domain: "uniphore.com", rel: ["Observe.ai", "Cresta"] },
"LivePerson": { desc: "AI messaging platform.", cat: "Conversational AI", hq: "New York, NY", val: "$500M", domain: "liveperson.com", rel: ["Intercom", "Zendesk"] },
"Yellow.ai": { desc: "Enterprise conversational AI.", cat: "Conversational AI", hq: "San Mateo, CA", val: "$1.1B", domain: "yellow.ai", rel: ["Kore.ai", "Gupshup"] },
"Gupshup": { desc: "Messaging platform AI.", cat: "Conversational AI", hq: "San Francisco, CA", val: "$1.4B", domain: "gupshup.io", rel: ["Yellow.ai", "Twilio"] },
"SoundHound": { desc: "Voice AI platform.", cat: "Audio AI", hq: "Santa Clara, CA", val: "$2B", domain: "soundhound.com", rel: ["Nuance", "Deepgram"] },
"NICE": { desc: "Contact center AI.", cat: "Contact Center", hq: "Hoboken, NJ", val: "$12B", domain: "nice.com", rel: ["Genesys", "Five9"] },
"Genesys": { desc: "Customer experience AI.", cat: "Contact Center", hq: "San Francisco, CA", val: "$21B", domain: "genesys.com", rel: ["NICE", "Talkdesk"] },
"Five9": { desc: "Cloud contact center.", cat: "Contact Center", hq: "San Ramon, CA", val: "$4B", domain: "five9.com", rel: ["Genesys", "Talkdesk"] },
"Talkdesk": { desc: "AI contact center.", cat: "Contact Center", hq: "San Francisco, CA", val: "$10B", domain: "talkdesk.com", rel: ["Five9", "NICE"] },
"Observe.ai": { desc: "Contact center AI analytics.", cat: "Contact Center", hq: "San Francisco, CA", val: "$500M", domain: "observe.ai", rel: ["Cresta", "Talkdesk"] },
"Cresta": { desc: "Real-time AI coaching.", cat: "Contact Center", hq: "San Francisco, CA", val: "$1.6B", domain: "cresta.com", rel: ["Observe.ai", "Gong"] },
"Freshworks": { desc: "Customer service software.", cat: "Customer Support", hq: "San Mateo, CA", val: "$5B", domain: "freshworks.com", rel: ["Zendesk", "Intercom"] },
"Algolia": { desc: "AI search & discovery.", cat: "Enterprise Search", hq: "San Francisco, CA", val: "$2.25B", domain: "algolia.com", rel: ["Glean", "Coveo"] },
"Relativity": { desc: "Legal e-discovery.", cat: "Legal Tech", hq: "Chicago, IL", val: "$3.6B", domain: "relativity.com", rel: ["Everlaw", "Harvey"] },
"PathAI": { desc: "AI pathology diagnostics.", cat: "Healthcare AI", hq: "Boston, MA", val: "$1.9B", domain: "pathai.com", rel: ["Tempus", "Paige"] },
"Schrdinger": { desc: "Computational drug discovery.", cat: "Drug Discovery", hq: "New York, NY", val: "$3B", domain: "schrodinger.com", rel: ["Recursion", "Insilico Medicine"] },
"ZoomInfo": { desc: "B2B data platform.", cat: "Marketing AI", hq: "Vancouver, WA", val: "$12B", domain: "zoominfo.com", rel: ["Clay", "Apollo"] },
"Outreach": { desc: "Sales engagement AI.", cat: "Marketing AI", hq: "Seattle, WA", val: "$4.4B", domain: "outreach.io", rel: ["Salesloft", "Gong"] },
"Apollo": { desc: "Sales intelligence.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1.6B", domain: "apollo.io", rel: ["Clay", "ZoomInfo"] },
"Eightfold": { desc: "AI talent platform.", cat: "HR Tech", hq: "Santa Clara, CA", val: "$2.1B", domain: "eightfold.ai", rel: ["Phenom", "Beamery"] },
"Phenom": { desc: "AI recruiting platform.", cat: "HR Tech", hq: "Ambler, PA", val: "$1.7B", domain: "phenom.com", rel: ["Eightfold", "Beamery"] },
"Beamery": { desc: "Talent management AI.", cat: "HR Tech", hq: "London, UK", val: "$1B", domain: "beamery.com", rel: ["Eightfold", "Phenom"] },
"Abnormal Security": { desc: "AI email security.", cat: "Security AI", hq: "San Francisco, CA", val: "$5.1B", domain: "abnormalsecurity.com", rel: ["Proofpoint", "Mimecast"] },
"Snyk": { desc: "Developer security.", cat: "Security AI", hq: "Boston, MA", val: "$7.4B", domain: "snyk.io", rel: ["Veracode", "Checkmarx"] },
"Coursera": { desc: "Online learning platform.", cat: "Education", hq: "Mountain View, CA", val: "$2B", domain: "coursera.org", rel: ["Khan Academy", "Duolingo"] },
"Brilliant": { desc: "STEM learning platform.", cat: "Education", hq: "San Francisco, CA", val: "$800M", domain: "brilliant.org", rel: ["Duolingo", "Khan Academy"] },
"Agility Robotics": { desc: "Bipedal robots.", cat: "Robotics", hq: "Corvallis, OR", val: "$600M", domain: "agilityrobotics.com", rel: ["Figure", "Boston Dynamics"] },
"Covariant": { desc: "AI for robotic picking.", cat: "Robotics", hq: "Emeryville, CA", val: "$625M", domain: "covariant.ai", rel: ["Physical Intelligence", "Berkshire Grey"] },
"Skydio": { desc: "Autonomous drones.", cat: "Robotics", hq: "San Mateo, CA", val: "$2.2B", domain: "skydio.com", rel: ["DJI", "Wing"] },
"Zipline": { desc: "Drone delivery.", cat: "Robotics", hq: "South San Francisco, CA", val: "$7.6B", domain: "flyzipline.com", rel: ["Wing", "Nuro"] },
"Sanctuary AI": { desc: "Humanoid robots.", cat: "Robotics", hq: "Vancouver, Canada", val: "$500M", domain: "sanctuary.ai", rel: ["Figure", "1X Technologies"] },
"Nuro": { desc: "Autonomous delivery.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$8.6B", domain: "nuro.ai", rel: ["Waymo", "Starship"] },
"Mobileye": { desc: "ADAS and AV tech.", cat: "Autonomous Vehicles", hq: "Jerusalem, Israel", val: "$16B", domain: "mobileye.com", rel: ["Waymo", "Aurora"] },
"Pony.ai": { desc: "Autonomous vehicles.", cat: "Autonomous Vehicles", hq: "Fremont, CA", val: "$8.5B", domain: "pony.ai", rel: ["Waymo", "WeRide"] },
"Waabi": { desc: "AI for self-driving trucks.", cat: "Autonomous Vehicles", hq: "Toronto, Canada", val: "$1B", domain: "waabi.ai", rel: ["Aurora", "Kodiak"] },
"SAP": { desc: "Enterprise AI software.", cat: "Enterprise AI", hq: "Walldorf, Germany", val: "$240B", domain: "sap.com", rel: ["Oracle", "ServiceNow"] },
"Oracle": { desc: "Enterprise cloud AI.", cat: "Enterprise AI", hq: "Austin, TX", val: "$380B", domain: "oracle.com", rel: ["SAP", "Microsoft"] },
"UiPath": { desc: "Robotic process automation.", cat: "Enterprise AI", hq: "New York, NY", val: "$7B", domain: "uipath.com", rel: ["Automation Anywhere", "ServiceNow"] },
"Automation Anywhere": { desc: "Enterprise RPA.", cat: "Enterprise AI", hq: "San Jose, CA", val: "$6.8B", domain: "automationanywhere.com", rel: ["UiPath", "Microsoft"] },
"Workday": { desc: "HR & finance AI.", cat: "Enterprise AI", hq: "Pleasanton, CA", val: "$65B", domain: "workday.com", rel: ["ServiceNow", "SAP"] },
"Datadog": { desc: "Monitoring with AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$47B", domain: "datadoghq.com", rel: ["Splunk", "Elastic"] },
"Splunk": { desc: "Data analytics AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$28B", domain: "splunk.com", rel: ["Datadog", "Elastic"] },
"Elastic": { desc: "Search & analytics AI.", cat: "Enterprise AI", hq: "Mountain View, CA", val: "$10B", domain: "elastic.co", rel: ["Splunk", "Datadog"] },
"Twilio": { desc: "Communications AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$10B", domain: "twilio.com", rel: ["Gupshup", "LivePerson"] },
"DocuSign": { desc: "E-signature with AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$12B", domain: "docusign.com", rel: ["Ironclad", "Adobe Firefly"] },
"Coda": { desc: "AI-powered docs.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$1.4B", domain: "coda.io", rel: ["Notion", "Airtable"] },
"Airtable": { desc: "Low-code with AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$11B", domain: "airtable.com", rel: ["Coda", "Notion"] },
"Copy.ai": { desc: "AI copywriting.", cat: "Marketing AI", hq: "Memphis, TN", val: "$250M", domain: "copy.ai", rel: ["Jasper", "Writer"] },
"Suki": { desc: "AI voice for healthcare.", cat: "Healthcare AI", hq: "Redwood City, CA", val: "$400M", domain: "suki.ai", rel: ["Abridge", "Nuance"] },
"Paige": { desc: "AI pathology.", cat: "Healthcare AI", hq: "New York, NY", val: "$500M", domain: "paige.ai", rel: ["PathAI", "Tempus"] },
"BenevolentAI": { desc: "AI drug discovery.", cat: "Drug Discovery", hq: "London, UK", val: "$300M", domain: "benevolent.ai", rel: ["Insilico Medicine", "Recursion"] },
"Exscientia": { desc: "AI drug design.", cat: "Drug Discovery", hq: "Oxford, UK", val: "$1.5B", domain: "exscientia.ai", rel: ["Recursion", "Schrdinger"] },
"Atomwise": { desc: "AI drug discovery.", cat: "Drug Discovery", hq: "San Francisco, CA", val: "$500M", domain: "atomwise.com", rel: ["Recursion", "Insilico Medicine"] },
"XtalPi": { desc: "AI pharma research.", cat: "Drug Discovery", hq: "Cambridge, MA", val: "$1B", domain: "xtalpi.com", rel: ["Schrdinger", "Atomwise"] },
"Moveworks": { desc: "AI IT support.", cat: "Enterprise AI", hq: "Mountain View, CA", val: "$2.85B", domain: "moveworks.com", rel: ["ServiceNow", "Glean"] },
"Labelbox": { desc: "AI data labeling.", cat: "MLOps", hq: "San Francisco, CA", val: "$500M", domain: "labelbox.com", rel: ["Scale AI", "Snorkel"] },
"Snorkel": { desc: "Data-centric AI.", cat: "MLOps", hq: "Palo Alto, CA", val: "$1B", domain: "snorkel.ai", rel: ["Scale AI", "Labelbox"] },
"Chroma": { desc: "Open-source vector DB.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$100M", domain: "trychroma.com", rel: ["Pinecone", "Weaviate"] },
"Qdrant": { desc: "Vector search engine.", cat: "Data & Vector DB", hq: "Berlin, Germany", val: "$100M", domain: "qdrant.tech", rel: ["Pinecone", "Weaviate"] },
"Milvus": { desc: "Vector database.", cat: "Data & Vector DB", hq: "Redwood City, CA", val: "$100M", domain: "milvus.io", rel: ["Pinecone", "Chroma"] },
"Determined AI": { desc: "ML training platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$100M", domain: "determined.ai", rel: ["Weights & Biases", "Anyscale"] },
"Comet": { desc: "ML experiment platform.", cat: "MLOps", hq: "New York, NY", val: "$100M", domain: "comet.com", rel: ["Weights & Biases", "Neptune"] },
"Neptune": { desc: "ML metadata store.", cat: "MLOps", hq: "Warsaw, Poland", val: "$50M", domain: "neptune.ai", rel: ["Comet", "Weights & Biases"] },
"Tecton": { desc: "Feature platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$500M", domain: "tecton.ai", rel: ["Databricks", "Weights & Biases"] },
"Murf": { desc: "AI voice generator.", cat: "Audio AI", hq: "San Francisco, CA", val: "$100M", domain: "murf.ai", rel: ["ElevenLabs", "Resemble AI"] },
"Speechify": { desc: "Text-to-speech AI.", cat: "Audio AI", hq: "San Francisco, CA", val: "$500M", domain: "speechify.com", rel: ["ElevenLabs", "Murf"] },
"LOVO": { desc: "AI voiceover.", cat: "Audio AI", hq: "Berkeley, CA", val: "$100M", domain: "lovo.ai", rel: ["ElevenLabs", "Murf"] },
"Fathom": { desc: "AI meeting notes.", cat: "Audio AI", hq: "San Francisco, CA", val: "$100M", domain: "fathom.video", rel: ["Otter.ai", "Fireflies.ai"] },
"Rev": { desc: "Transcription AI.", cat: "Audio AI", hq: "Austin, TX", val: "$300M", domain: "rev.com", rel: ["Otter.ai", "AssemblyAI"] },
"Artlist": { desc: "AI music licensing.", cat: "Music AI", hq: "Tel Aviv, Israel", val: "$400M", domain: "artlist.io", rel: ["Suno", "Udio"] },
"Boomy": { desc: "AI music creation.", cat: "Music AI", hq: "San Francisco, CA", val: "$50M", domain: "boomy.com", rel: ["Suno", "Udio"] },
"Soundraw": { desc: "AI music generator.", cat: "Music AI", hq: "Tokyo, Japan", val: "$50M", domain: "soundraw.io", rel: ["Suno", "Boomy"] },
"AIVA": { desc: "AI music composer.", cat: "Music AI", hq: "Luxembourg", val: "$50M", domain: "aiva.ai", rel: ["Suno", "Udio"] },
"Clari": { desc: "Revenue platform AI.", cat: "Marketing AI", hq: "Sunnyvale, CA", val: "$2.6B", domain: "clari.com", rel: ["Gong", "6sense"] },
"Demandbase": { desc: "ABM platform.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1.5B", domain: "demandbase.com", rel: ["6sense", "ZoomInfo"] },
"Salesloft": { desc: "Sales engagement.", cat: "Marketing AI", hq: "Atlanta, GA", val: "$2.3B", domain: "salesloft.com", rel: ["Outreach", "Gong"] },
"Drift": { desc: "Conversational marketing.", cat: "Marketing AI", hq: "Boston, MA", val: "$1B", domain: "drift.com", rel: ["Intercom", "HubSpot"] },
"Highspot": { desc: "Sales enablement AI.", cat: "Marketing AI", hq: "Seattle, WA", val: "$3.5B", domain: "highspot.com", rel: ["Seismic", "Gong"] },
"Seismic": { desc: "Sales enablement.", cat: "Marketing AI", hq: "San Diego, CA", val: "$3B", domain: "seismic.com", rel: ["Highspot", "Gong"] },
"Sendoso": { desc: "Sending platform.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$600M", domain: "sendoso.com", rel: ["Outreach", "Salesloft"] },
"Persado": { desc: "AI marketing language.", cat: "Marketing AI", hq: "New York, NY", val: "$500M", domain: "persado.com", rel: ["Jasper", "Phrasee"] },
"Phrasee": { desc: "AI copywriting.", cat: "Marketing AI", hq: "London, UK", val: "$100M", domain: "phrasee.co", rel: ["Persado", "Jasper"] },
"Pattern89": { desc: "AI ad creative.", cat: "Marketing AI", hq: "Indianapolis, IN", val: "$50M", domain: "pattern89.com", rel: ["Persado", "Albert"] },
"Albert": { desc: "AI marketing.", cat: "Marketing AI", hq: "New York, NY", val: "$100M", domain: "albert.ai", rel: ["Pattern89", "Persado"] },
"Lilt": { desc: "AI translation.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$200M", domain: "lilt.com", rel: ["DeepL", "Unbabel"] },
"DeepL": { desc: "AI translation.", cat: "Enterprise AI", hq: "Cologne, Germany", val: "$2B", domain: "deepl.com", rel: ["Lilt", "Google"] },
"Unbabel": { desc: "AI translation platform.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$200M", domain: "unbabel.com", rel: ["DeepL", "Lilt"] },
"Voiceflow": { desc: "Conversational AI design.", cat: "Conversational AI", hq: "San Francisco, CA", val: "$100M", domain: "voiceflow.com", rel: ["Rasa", "Cognigy"] },
"Rasa": { desc: "Open-source chatbots.", cat: "Conversational AI", hq: "San Francisco, CA", val: "$200M", domain: "rasa.com", rel: ["Voiceflow", "Cognigy"] },
"Cognigy": { desc: "Conversational AI.", cat: "Conversational AI", hq: "Dsseldorf, Germany", val: "$200M", domain: "cognigy.com", rel: ["Rasa", "Kore.ai"] },
"Boost.ai": { desc: "Conversational AI.", cat: "Conversational AI", hq: "Sandnes, Norway", val: "$100M", domain: "boost.ai", rel: ["Cognigy", "Rasa"] },
"Dialpad": { desc: "AI communications.", cat: "Contact Center", hq: "San Francisco, CA", val: "$2.2B", domain: "dialpad.com", rel: ["Aircall", "Talkdesk"] },
"Aircall": { desc: "Cloud phone AI.", cat: "Contact Center", hq: "New York, NY", val: "$1B", domain: "aircall.io", rel: ["Dialpad", "Talkdesk"] },
"CloudTalk": { desc: "Call center AI.", cat: "Contact Center", hq: "Bratislava, Slovakia", val: "$100M", domain: "cloudtalk.io", rel: ["Aircall", "Dialpad"] },
"Convoso": { desc: "Contact center software.", cat: "Contact Center", hq: "Los Angeles, CA", val: "$100M", domain: "convoso.com", rel: ["Five9", "Talkdesk"] },
"Help Scout": { desc: "Customer support.", cat: "Customer Support", hq: "Boston, MA", val: "$200M", domain: "helpscout.com", rel: ["Intercom", "Front"] },
"Front": { desc: "Customer ops platform.", cat: "Customer Support", hq: "San Francisco, CA", val: "$1.7B", domain: "front.com", rel: ["Intercom", "Help Scout"] },
"Gorgias": { desc: "Ecommerce support AI.", cat: "Customer Support", hq: "San Francisco, CA", val: "$710M", domain: "gorgias.com", rel: ["Zendesk", "Intercom"] },
"Kustomer": { desc: "CRM customer service.", cat: "Customer Support", hq: "New York, NY", val: "$1B", domain: "kustomer.com", rel: ["Zendesk", "Gladly"] },
"Gladly": { desc: "Customer service AI.", cat: "Customer Support", hq: "San Francisco, CA", val: "$500M", domain: "gladly.com", rel: ["Kustomer", "Zendesk"] },
"Coveo": { desc: "AI search platform.", cat: "Enterprise Search", hq: "Quebec City, Canada", val: "$1.4B", domain: "coveo.com", rel: ["Glean", "Algolia"] },
"Yext": { desc: "AI search platform.", cat: "Enterprise Search", hq: "New York, NY", val: "$1.3B", domain: "yext.com", rel: ["Coveo", "Algolia"] },
"Lucidworks": { desc: "Enterprise search AI.", cat: "Enterprise Search", hq: "San Francisco, CA", val: "$300M", domain: "lucidworks.com", rel: ["Coveo", "Algolia"] },
"Spellbook": { desc: "AI contract drafting.", cat: "Legal Tech", hq: "Toronto, Canada", val: "$100M", domain: "spellbook.legal", rel: ["Harvey", "EvenUp"] },
"Casetext": { desc: "Legal AI research.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$650M", domain: "casetext.com", rel: ["Harvey", "Everlaw"] },
"Robin AI": { desc: "AI contract review.", cat: "Legal Tech", hq: "London, UK", val: "$100M", domain: "robinai.com", rel: ["Harvey", "Ironclad"] },
"Luminance": { desc: "AI legal platform.", cat: "Legal Tech", hq: "London, UK", val: "$500M", domain: "luminance.com", rel: ["Harvey", "Casetext"] },
"Viz.ai": { desc: "AI stroke detection.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$500M", domain: "viz.ai", rel: ["Aidoc", "Tempus"] },
"Aidoc": { desc: "AI radiology.", cat: "Healthcare AI", hq: "Tel Aviv, Israel", val: "$500M", domain: "aidoc.com", rel: ["Viz.ai", "Tempus"] },
"Olive AI": { desc: "Healthcare AI automation.", cat: "Healthcare AI", hq: "Columbus, OH", val: "$4B", domain: "oliveai.com", rel: ["Abridge", "UiPath"] },
"Butterfly Network": { desc: "AI ultrasound.", cat: "Healthcare AI", hq: "Burlington, MA", val: "$500M", domain: "butterflynetwork.com", rel: ["Viz.ai", "Tempus"] },
"RAD AI": { desc: "AI radiology.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$100M", domain: "radai.com", rel: ["Aidoc", "Viz.ai"] },
"Notable Health": { desc: "Healthcare automation.", cat: "Healthcare AI", hq: "San Mateo, CA", val: "$500M", domain: "notablehealth.com", rel: ["Abridge", "Olive AI"] },
"C3.ai": { desc: "Enterprise AI platform.", cat: "Enterprise AI", hq: "Redwood City, CA", val: "$3B", domain: "c3.ai", rel: ["Palantir", "DataRobot"] },
"DataRobot": { desc: "AutoML platform.", cat: "MLOps", hq: "Boston, MA", val: "$6.3B", domain: "datarobot.com", rel: ["H2O.ai", "C3.ai"] },
"H2O.ai": { desc: "AutoML platform.", cat: "MLOps", hq: "Mountain View, CA", val: "$1.7B", domain: "h2o.ai", rel: ["DataRobot", "Databricks"] },
"Alteryx": { desc: "Data analytics AI.", cat: "Enterprise AI", hq: "Irvine, CA", val: "$4.4B", domain: "alteryx.com", rel: ["Databricks", "DataRobot"] },
"Intel": { desc: "AI chips.", cat: "Hardware", hq: "Santa Clara, CA", val: "$173B", domain: "intel.com", rel: ["NVIDIA", "AMD"] },
"Graphcore": { desc: "AI accelerators.", cat: "Hardware", hq: "Bristol, UK", val: "$2.8B", domain: "graphcore.ai", rel: ["Cerebras", "NVIDIA"] },
"Mythic": { desc: "Analog AI chips.", cat: "Hardware", hq: "Austin, TX", val: "$165M", domain: "mythic.ai", rel: ["Cerebras", "Hailo"] },
"Hailo": { desc: "Edge AI processors.", cat: "Hardware", hq: "Tel Aviv, Israel", val: "$1B", domain: "hailo.ai", rel: ["NVIDIA", "Mythic"] },
"Recogni": { desc: "AI perception chips.", cat: "Hardware", hq: "San Jose, CA", val: "$200M", domain: "recogni.com", rel: ["Hailo", "Mobileye"] },
"d-Matrix": { desc: "AI compute chips.", cat: "Hardware", hq: "Santa Clara, CA", val: "$300M", domain: "d-matrix.ai", rel: ["Groq", "Cerebras"] },
"Lightmatter": { desc: "Photonic AI chips.", cat: "Hardware", hq: "Boston, MA", val: "$1.2B", domain: "lightmatter.co", rel: ["NVIDIA", "Cerebras"] },
"Rain": { desc: "Neuromorphic chips.", cat: "Hardware", hq: "San Francisco, CA", val: "$100M", domain: "rain.ai", rel: ["Mythic", "Cerebras"] },
"Esperanto": { desc: "AI accelerators.", cat: "Hardware", hq: "Austin, TX", val: "$200M", domain: "esperanto.ai", rel: ["Cerebras", "SambaNova"] },
"Untether AI": { desc: "Inference accelerators.", cat: "Hardware", hq: "Toronto, Canada", val: "$200M", domain: "untether.ai", rel: ["Groq", "Cerebras"] },
"Kodiak": { desc: "Autonomous trucking.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$500M", domain: "kodiak.ai", rel: ["Aurora", "Waabi"] },
"TuSimple": { desc: "Self-driving trucks.", cat: "Autonomous Vehicles", hq: "San Diego, CA", val: "$1B", domain: "tusimple.com", rel: ["Aurora", "Kodiak"] },
"Gatik": { desc: "Autonomous delivery.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$700M", domain: "gatik.ai", rel: ["Nuro", "Aurora"] },
"Plus": { desc: "Autonomous trucks.", cat: "Autonomous Vehicles", hq: "Santa Clara, CA", val: "$1B", domain: "plus.ai", rel: ["Aurora", "TuSimple"] },
"Embark": { desc: "Self-driving trucks.", cat: "Autonomous Vehicles", hq: "San Francisco, CA", val: "$300M", domain: "embarktrucks.com", rel: ["TuSimple", "Aurora"] },
"WeRide": { desc: "Autonomous vehicles.", cat: "Autonomous Vehicles", hq: "San Jose, CA", val: "$5.1B", domain: "weride.ai", rel: ["Pony.ai", "Waymo"] },
"Momenta": { desc: "Autonomous driving.", cat: "Autonomous Vehicles", hq: "Beijing, China", val: "$1B", domain: "momenta.ai", rel: ["Pony.ai", "WeRide"] },
"Aptiv": { desc: "Vehicle tech.", cat: "Autonomous Vehicles", hq: "Dublin, Ireland", val: "$26B", domain: "aptiv.com", rel: ["Mobileye", "Aurora"] },
"Wing": { desc: "Drone delivery.", cat: "Robotics", hq: "Palo Alto, CA", val: "Alphabet", domain: "wing.com", rel: ["Zipline", "Skydio"] },
"DJI": { desc: "Drone leader.", cat: "Robotics", hq: "Shenzhen, China", val: "$15B", domain: "dji.com", rel: ["Skydio", "Wing"] },
"Berkshire Grey": { desc: "AI warehouse robots.", cat: "Robotics", hq: "Bedford, MA", val: "$500M", domain: "berkshiregrey.com", rel: ["Covariant", "Locus Robotics"] },
"Locus Robotics": { desc: "Warehouse robots.", cat: "Robotics", hq: "Wilmington, MA", val: "$2B", domain: "locusrobotics.com", rel: ["Berkshire Grey", "6 River"] },
"6 River Systems": { desc: "Fulfillment robots.", cat: "Robotics", hq: "Waltham, MA", val: "$450M", domain: "6river.com", rel: ["Locus Robotics", "Berkshire Grey"] },
"Symbotic": { desc: "Warehouse automation.", cat: "Robotics", hq: "Wilmington, MA", val: "$10B", domain: "symbotic.com", rel: ["Berkshire Grey", "Locus Robotics"] },
"Sarcos": { desc: "Industrial robots.", cat: "Robotics", hq: "Salt Lake City, UT", val: "$200M", domain: "sarcos.com", rel: ["Boston Dynamics", "Figure"] },
"Serve Robotics": { desc: "Delivery robots.", cat: "Robotics", hq: "Los Angeles, CA", val: "$200M", domain: "serverobotics.com", rel: ["Nuro", "Starship"] },
"Starship": { desc: "Delivery robots.", cat: "Robotics", hq: "San Francisco, CA", val: "$500M", domain: "starship.xyz", rel: ["Serve Robotics", "Nuro"] },
"Forethought": { desc: "AI customer support.", cat: "Customer Support", hq: "San Francisco, CA", val: "$500M", domain: "forethought.ai", rel: ["Ada", "Intercom"] },
"Assembled": { desc: "Support ops platform.", cat: "Customer Support", hq: "San Francisco, CA", val: "$200M", domain: "assembled.com", rel: ["Zendesk", "Intercom"] },
"Proofpoint": { desc: "Email security AI.", cat: "Security AI", hq: "Sunnyvale, CA", val: "$12.3B", domain: "proofpoint.com", rel: ["Abnormal Security", "Mimecast"] },
"Mimecast": { desc: "Email security.", cat: "Security AI", hq: "Lexington, MA", val: "$5.8B", domain: "mimecast.com", rel: ["Proofpoint", "Abnormal Security"] },
"Fortinet": { desc: "Cybersecurity AI.", cat: "Security AI", hq: "Sunnyvale, CA", val: "$55B", domain: "fortinet.com", rel: ["Palo Alto Networks", "CrowdStrike"] },
"Zscaler": { desc: "Cloud security.", cat: "Security AI", hq: "San Jose, CA", val: "$30B", domain: "zscaler.com", rel: ["Wiz", "Palo Alto Networks"] },
"Veracode": { desc: "App security.", cat: "Security AI", hq: "Burlington, MA", val: "$2.5B", domain: "veracode.com", rel: ["Snyk", "Checkmarx"] },
"Checkmarx": { desc: "App security testing.", cat: "Security AI", hq: "Ramat Gan, Israel", val: "$1.15B", domain: "checkmarx.com", rel: ["Snyk", "Veracode"] },
"Orca Security": { desc: "Cloud security.", cat: "Security AI", hq: "Los Angeles, CA", val: "$1.8B", domain: "orca.security", rel: ["Wiz", "Lacework"] },
"Lacework": { desc: "Cloud security AI.", cat: "Security AI", hq: "San Jose, CA", val: "$8.3B", domain: "lacework.com", rel: ["Orca Security", "Wiz"] },
"Darktrace": { desc: "AI cybersecurity.", cat: "Security AI", hq: "Cambridge, UK", val: "$4B", domain: "darktrace.com", rel: ["CrowdStrike", "Vectra"] },
"Vectra": { desc: "AI threat detection.", cat: "Security AI", hq: "San Jose, CA", val: "$1.2B", domain: "vectra.ai", rel: ["Darktrace", "CrowdStrike"] },
"Synthesized": { desc: "Synthetic data.", cat: "MLOps", hq: "London, UK", val: "$50M", domain: "synthesized.io", rel: ["Mostly AI", "Gretel"] },
"Mostly AI": { desc: "Synthetic data.", cat: "MLOps", hq: "Vienna, Austria", val: "$100M", domain: "mostly.ai", rel: ["Gretel", "Tonic"] },
"Gretel": { desc: "Synthetic data AI.", cat: "MLOps", hq: "San Diego, CA", val: "$350M", domain: "gretel.ai", rel: ["Mostly AI", "Tonic"] },
"Tonic": { desc: "Test data AI.", cat: "MLOps", hq: "San Francisco, CA", val: "$200M", domain: "tonic.ai", rel: ["Gretel", "Mostly AI"] },
"Age of Learning": { desc: "Kids education AI.", cat: "Education", hq: "Glendale, CA", val: "$3B", domain: "ageoflearning.com", rel: ["Duolingo", "Khan Academy"] },
"Quizlet": { desc: "AI study tools.", cat: "Education", hq: "San Francisco, CA", val: "$1B", domain: "quizlet.com", rel: ["Duolingo", "Coursera"] },
"Chegg": { desc: "Education platform.", cat: "Education", hq: "Santa Clara, CA", val: "$1.5B", domain: "chegg.com", rel: ["Quizlet", "Coursera"] },
"Photomath": { desc: "AI math solver.", cat: "Education", hq: "San Mateo, CA", val: "$500M", domain: "photomath.com", rel: ["Brilliant", "Duolingo"] },
"Squirrel AI": { desc: "Adaptive learning.", cat: "Education", hq: "Shanghai, China", val: "$1B", domain: "squirrelai.com", rel: ["Age of Learning", "Duolingo"] },
"Carnegie Learning": { desc: "AI math education.", cat: "Education", hq: "Pittsburgh, PA", val: "$300M", domain: "carnegielearning.com", rel: ["Brilliant", "Photomath"] },
"Affirm": { desc: "BNPL with AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$8B", domain: "affirm.com", rel: ["Klarna", "Stripe"] },
"Marqeta": { desc: "Card issuing AI.", cat: "Finance AI", hq: "Oakland, CA", val: "$3B", domain: "marqeta.com", rel: ["Stripe", "Plaid"] },
"Adyen": { desc: "Payments platform.", cat: "Finance AI", hq: "Amsterdam, Netherlands", val: "$45B", domain: "adyen.com", rel: ["Stripe", "Checkout.com"] },
"Checkout.com": { desc: "Payment processing.", cat: "Finance AI", hq: "London, UK", val: "$40B", domain: "checkout.com", rel: ["Adyen", "Stripe"] },
"Melio": { desc: "B2B payments AI.", cat: "Finance AI", hq: "New York, NY", val: "$2B", domain: "meliopayments.com", rel: ["Ramp", "Brex"] },
"Divvy": { desc: "Expense management.", cat: "Finance AI", hq: "Draper, UT", val: "$2.5B", domain: "getdivvy.com", rel: ["Ramp", "Brex"] },
"Tipalti": { desc: "AP automation.", cat: "Finance AI", hq: "Foster City, CA", val: "$8.3B", domain: "tipalti.com", rel: ["Ramp", "Melio"] },
"Airwallex": { desc: "Global payments.", cat: "Finance AI", hq: "Melbourne, Australia", val: "$5.6B", domain: "airwallex.com", rel: ["Stripe", "Wise"] },
"Wise": { desc: "International transfers.", cat: "Finance AI", hq: "London, UK", val: "$9B", domain: "wise.com", rel: ["Airwallex", "Stripe"] },
"Upstart": { desc: "AI lending.", cat: "Finance AI", hq: "San Mateo, CA", val: "$3B", domain: "upstart.com", rel: ["Affirm", "SoFi"] },
"SoFi": { desc: "Digital finance.", cat: "Finance AI", hq: "San Francisco, CA", val: "$8B", domain: "sofi.com", rel: ["Upstart", "Chime"] },
"Chime": { desc: "Digital banking.", cat: "Finance AI", hq: "San Francisco, CA", val: "$25B", domain: "chime.com", rel: ["SoFi", "Mercury"] },
"Mercury": { desc: "Banking for startups.", cat: "Finance AI", hq: "San Francisco, CA", val: "$1.6B", domain: "mercury.com", rel: ["Brex", "Chime"] },
"Codium AI": { desc: "AI code testing.", cat: "Code & Dev Tools", hq: "Tel Aviv, Israel", val: "$150M", domain: "codium.ai", rel: ["GitHub Copilot", "Cursor"] },
"Curai": { desc: "AI primary care.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$200M", domain: "curaihealth.com", rel: ["Abridge", "Notable Health"] },
"Function Health": { desc: "AI health testing.", cat: "Healthcare AI", hq: "Austin, TX", val: "$200M", domain: "functionhealth.com", rel: ["Tempus", "Curai"] },
"Monarch Money": { desc: "AI personal finance.", cat: "Finance AI", hq: "San Francisco, CA", val: "$100M", domain: "monarchmoney.com", rel: ["Intuit", "Mercury"] },
"Wispr": { desc: "Voice AI interface.", cat: "Audio AI", hq: "San Francisco, CA", val: "$100M", domain: "wispr.ai", rel: ["Speechify", "ElevenLabs"] },
"Superwhisper": { desc: "Voice-to-text AI.", cat: "Audio AI", hq: "Berlin, Germany", val: "$50M", domain: "superwhisper.com", rel: ["Wispr", "Otter.ai"] },
"Matic Robots": { desc: "Home robots.", cat: "Robotics", hq: "Mountain View, CA", val: "$100M", domain: "maticrobots.com", rel: ["Figure", "Boston Dynamics"] },
"All Hands": { desc: "AI coding agent.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "all-hands.dev", rel: ["Cognition AI", "Cursor"] },
"Graphite": { desc: "Code review AI.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "graphite.dev", rel: ["GitHub Copilot", "Cursor"] },
"Meticulous": { desc: "AI testing.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$50M", domain: "meticulous.ai", rel: ["Codium AI", "GitHub Copilot"] },
"OpenRouter": { desc: "LLM routing.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$50M", domain: "openrouter.ai", rel: ["Together AI", "Fireworks AI"] },
"Temporal": { desc: "Workflow orchestration.", cat: "MLOps", hq: "Seattle, WA", val: "$1.5B", domain: "temporal.io", rel: ["n8n", "LangChain"] },
"Fyxer": { desc: "AI email assistant.", cat: "Enterprise AI", hq: "London, UK", val: "$50M", domain: "fyxer.ai", rel: ["Superhuman", "Front"] },
"Actively AI": { desc: "AI customer success.", cat: "Customer Support", hq: "San Francisco, CA", val: "$50M", domain: "actively.ai", rel: ["Intercom", "Gainsight"] },
"Obsidian Security": { desc: "SaaS security.", cat: "Security AI", hq: "Newport Beach, CA", val: "$500M", domain: "obsidiansecurity.com", rel: ["Wiz", "Orca Security"] },
"Eleos Health": { desc: "Mental health AI.", cat: "Healthcare AI", hq: "Boston, MA", val: "$100M", domain: "eleos.health", rel: ["Abridge", "Suki"] },
"Eve AI": { desc: "AI assistant.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "eveai.com", rel: ["Adept", "Cognition AI"] },
"Rillet": { desc: "AI accounting.", cat: "Finance AI", hq: "San Francisco, CA", val: "$25M", domain: "rillet.com", rel: ["Intuit", "Ramp"] },
"Numeric": { desc: "AI accounting.", cat: "Finance AI", hq: "San Francisco, CA", val: "$25M", domain: "numeric.io", rel: ["Rillet", "Intuit"] },
"Clerk": { desc: "Auth platform.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$215M", domain: "clerk.com", rel: ["Vercel", "Supabase"] },
"Goodfire": { desc: "AI interpretability.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$50M", domain: "goodfire.ai", rel: ["Anthropic", "OpenAI"] },
"Heidi Health": { desc: "Clinical AI scribe.", cat: "Healthcare AI", hq: "Melbourne, Australia", val: "$100M", domain: "heidihealth.com", rel: ["Abridge", "Suki"] },
"Astrix Security": { desc: "Non-human identity.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$100M", domain: "astrix.security", rel: ["Wiz", "Orca Security"] },
"Squint": { desc: "AR AI for manufacturing.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "squint.ai", rel: ["UiPath", "Moveworks"] },
"Bloomberg": { desc: "Financial data AI.", cat: "Finance AI", hq: "New York, NY", val: "$100B", domain: "bloomberg.com", rel: ["AlphaSense", "Palantir"] },
"Walmart": { desc: "Retail AI.", cat: "Enterprise AI", hq: "Bentonville, AR", val: "$600B", domain: "walmart.com", rel: ["Amazon", "Microsoft"] },
"Flora": { desc: "Focus & productivity.", cat: "Education", hq: "San Francisco, CA", val: "$50M", domain: "flora.appfinca.com", rel: ["Duolingo", "Quizlet"] },
"Prosper Education": { desc: "Student finance AI.", cat: "Education", hq: "San Francisco, CA", val: "$50M", domain: "prospereducation.com", rel: ["Chegg", "Coursera"] },
"Swish": { desc: "AI basketball training.", cat: "Education", hq: "San Francisco, CA", val: "$25M", domain: "swishhoops.ai", rel: ["Brilliant", "Photomath"] },
"Fauna": { desc: "Serverless database.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$100M", domain: "fauna.com", rel: ["Supabase", "MongoDB"] },
"Ash Health": { desc: "AI men's health.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$50M", domain: "ash.health", rel: ["Function Health", "Curai"] },
"Inception Labs": { desc: "Diffusion AI research.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$100M", domain: "inceptionlabs.ai", rel: ["Stability AI", "Midjourney"] },
"Peregrine": { desc: "AI defense tech.", cat: "Enterprise AI", hq: "Los Angeles, CA", val: "$100M", domain: "peregrine.ai", rel: ["Palantir", "Anduril"] },
"Accordance Legal": { desc: "AI legal research.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$25M", domain: "accordancelegal.com", rel: ["Harvey", "Casetext"] },

// January 2026 additions
"Ricursive Intelligence": { desc: "AI-driven semiconductor design. Created by AlphaChip founders.", cat: "Hardware", hq: "San Francisco, CA", val: "$4B", domain: "ricursive.ai", rel: ["NVIDIA", "Cerebras", "Groq"] },
"OpenEvidence": { desc: "ChatGPT for doctors. AI clinical decisions.", cat: "Healthcare AI", hq: "Miami, FL", val: "$12B", domain: "openevidence.com", rel: ["Abridge", "Ambience", "Tempus"] },
"LMArena": { desc: "Platform for evaluating AI models.", cat: "MLOps", hq: "San Francisco, CA", val: "$1.7B", domain: "lmarena.ai", rel: ["Weights & Biases", "Braintrust", "Hugging Face"] },
"Ivo": { desc: "AI contract review platform.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$355M", domain: "ivo.ai", rel: ["Harvey", "Ironclad", "Casetext"] },

// Expansion to 1000+ companies - January 2026

// Foundation Models & Research Labs
"Thinking Machines Lab": { desc: "AI research lab. Record $12B Series A.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$12B", domain: "thinkingmachines.ai", rel: ["OpenAI", "Anthropic", "xAI"] },
"Reflection AI": { desc: "AI reasoning and reflection models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$8B", domain: "reflection.ai", rel: ["OpenAI", "Anthropic", "DeepSeek"] },
"Unconventional AI": { desc: "Novel AI architectures.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$4.5B", domain: "unconventional.ai", rel: ["OpenAI", "Mistral AI", "Cohere"] },
"World Labs": { desc: "Spatial intelligence AI by Fei-Fei Li.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$1B", domain: "worldlabs.ai", rel: ["OpenAI", "Google DeepMind", "Physical Intelligence"] },
"Sakana AI": { desc: "Nature-inspired AI models.", cat: "Foundation Models", hq: "Tokyo, Japan", val: "$500M", domain: "sakana.ai", rel: ["Mistral AI", "Reka", "Stability AI"] },
"Imbue": { desc: "AI reasoning and agents.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$1.2B", domain: "imbue.com", rel: ["Anthropic", "Adept", "Cognition AI"] },
"Essential AI": { desc: "Enterprise AI models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$800M", domain: "essential.ai", rel: ["Cohere", "AI21 Labs", "Writer"] },
"Contextual AI": { desc: "RAG and context models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$250M", domain: "contextual.ai", rel: ["Cohere", "LangChain", "LlamaIndex"] },
"Aleph Alpha": { desc: "European sovereign AI.", cat: "Foundation Models", hq: "Heidelberg, Germany", val: "$500M", domain: "aleph-alpha.com", rel: ["Mistral AI", "DeepL", "Anthropic"] },
"Liquid AI": { desc: "Liquid neural networks.", cat: "Foundation Models", hq: "Cambridge, MA", val: "$303M", domain: "liquid.ai", rel: ["Anthropic", "OpenAI", "MIT"] },
"Cartesia": { desc: "State space models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$100M", domain: "cartesia.ai", rel: ["Liquid AI", "Anthropic", "OpenAI"] },
"AI2": { desc: "Allen Institute for AI research.", cat: "Foundation Models", hq: "Seattle, WA", val: "Non-profit", domain: "allenai.org", rel: ["OpenAI", "Google DeepMind", "Hugging Face"] },
"Eleuther AI": { desc: "Open-source AI research collective.", cat: "Foundation Models", hq: "Decentralized", val: "Non-profit", domain: "eleuther.ai", rel: ["Hugging Face", "Meta AI", "Stability AI"] },
"Nous Research": { desc: "Open-source fine-tuned models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$50M", domain: "nousresearch.com", rel: ["Hugging Face", "Together AI", "Eleuther AI"] },
"Lamini": { desc: "Enterprise LLM fine-tuning.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "$100M", domain: "lamini.ai", rel: ["Cohere", "Together AI", "OpenAI"] },
"AI Singapore": { desc: "Southeast Asian AI research.", cat: "Foundation Models", hq: "Singapore", val: "Government", domain: "aisingapore.org", rel: ["Google DeepMind", "OpenAI", "Alibaba Cloud"] },
"Chai Research": { desc: "Conversational AI platform.", cat: "Foundation Models", hq: "London, UK", val: "$200M", domain: "chai.ml", rel: ["Character.AI", "Replika", "Inflection AI"] },
"Nomic": { desc: "Open-source embeddings.", cat: "Foundation Models", hq: "New York, NY", val: "$50M", domain: "nomic.ai", rel: ["Cohere", "OpenAI", "Hugging Face"] },
"Voyage AI": { desc: "Embedding models.", cat: "Foundation Models", hq: "San Francisco, CA", val: "$50M", domain: "voyageai.com", rel: ["Cohere", "OpenAI", "Nomic"] },
"Jina AI": { desc: "Multimodal embeddings.", cat: "Foundation Models", hq: "Berlin, Germany", val: "$100M", domain: "jina.ai", rel: ["Cohere", "Weaviate", "Pinecone"] },
"Yi-34B": { desc: "Open-weights Chinese models.", cat: "Foundation Models", hq: "Beijing, China", val: "01.AI", domain: "01.ai", rel: ["Zhipu AI", "DeepSeek", "Baidu"] },
"Tsinghua AI": { desc: "Tsinghua University AI lab.", cat: "Foundation Models", hq: "Beijing, China", val: "University", domain: "air.tsinghua.edu.cn", rel: ["Zhipu AI", "Baidu", "Alibaba Cloud"] },
"SenseTime": { desc: "Chinese AI giant. Computer vision.", cat: "Foundation Models", hq: "Hong Kong", val: "$7.5B", domain: "sensetime.com", rel: ["Baidu", "Alibaba Cloud", "Megvii"] },
"Megvii": { desc: "Face++ computer vision.", cat: "Foundation Models", hq: "Beijing, China", val: "$4B", domain: "megvii.com", rel: ["SenseTime", "Baidu", "Alibaba Cloud"] },
"iFlytek": { desc: "Chinese voice AI leader.", cat: "Foundation Models", hq: "Hefei, China", val: "$8B", domain: "iflytek.com", rel: ["Baidu", "SenseTime", "Alibaba Cloud"] },
"Stability AI Japan": { desc: "Japanese Stable Diffusion.", cat: "Image Generation", hq: "Tokyo, Japan", val: "Stability AI", domain: "ja.stability.ai", rel: ["Stability AI", "Midjourney", "Sakana AI"] },

// Code & Dev Tools
"Anysphere": { desc: "Cursor AI code editor parent company.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$29.3B", domain: "anysphere.inc", rel: ["Cursor", "GitHub Copilot", "Codeium"] },
"Codegen": { desc: "AI code generation platform.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "codegen.com", rel: ["Cursor", "GitHub Copilot", "Replit"] },
"Sweep": { desc: "AI code reviews and PRs.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$50M", domain: "sweep.dev", rel: ["GitHub Copilot", "Graphite", "Cursor"] },
"Aider": { desc: "AI pair programming CLI.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$25M", domain: "aider.chat", rel: ["Cursor", "GitHub Copilot", "Codeium"] },
"Continue": { desc: "Open-source AI code assistant.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$50M", domain: "continue.dev", rel: ["Cursor", "GitHub Copilot", "Codeium"] },
"Cody": { desc: "Sourcegraph AI assistant.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "Sourcegraph", domain: "sourcegraph.com", rel: ["Sourcegraph", "GitHub Copilot", "Cursor"] },
"Bloop": { desc: "AI code search.", cat: "Code & Dev Tools", hq: "London, UK", val: "$50M", domain: "bloop.ai", rel: ["Sourcegraph", "GitHub Copilot", "Cursor"] },
"Pieces": { desc: "AI code snippets manager.", cat: "Code & Dev Tools", hq: "Cincinnati, OH", val: "$50M", domain: "pieces.app", rel: ["GitHub Copilot", "Cursor", "Codeium"] },
"Phind": { desc: "AI search for developers.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "phind.com", rel: ["Perplexity", "GitHub Copilot", "Cursor"] },
"DevRev": { desc: "AI for product-led growth.", cat: "Code & Dev Tools", hq: "Palo Alto, CA", val: "$1.2B", domain: "devrev.ai", rel: ["GitHub Copilot", "Intercom", "Atlassian"] },
"Builder.io": { desc: "AI visual development.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$200M", domain: "builder.io", rel: ["Vercel", "Lovable", "Replit"] },
"Bolt.new": { desc: "AI full-stack development.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "bolt.new", rel: ["Lovable", "Replit", "Vercel"] },
"v0": { desc: "Vercel AI UI generator.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "Vercel", domain: "v0.dev", rel: ["Vercel", "Lovable", "Builder.io"] },
"Devin AI": { desc: "Cognition's AI software engineer.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "Cognition", domain: "cognition.ai", rel: ["Cognition AI", "Cursor", "GitHub Copilot"] },
"Factory": { desc: "AI Droids for coding.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "factory.ai", rel: ["Cognition AI", "Cursor", "GitHub Copilot"] },
"Codestory": { desc: "AI code understanding.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$25M", domain: "codestory.ai", rel: ["Cursor", "GitHub Copilot", "Sourcegraph"] },
"Mutable": { desc: "AI-powered testing.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$50M", domain: "mutable.ai", rel: ["Codium AI", "GitHub Copilot", "Meticulous"] },
"Qodo": { desc: "AI code quality.", cat: "Code & Dev Tools", hq: "Tel Aviv, Israel", val: "$100M", domain: "qodo.ai", rel: ["Codium AI", "GitHub Copilot", "Snyk"] },
"Tessl": { desc: "AI app generator.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$125M", domain: "tessl.io", rel: ["Lovable", "Replit", "Cursor"] },
"Fine": { desc: "AI coding agents.", cat: "Code & Dev Tools", hq: "Tel Aviv, Israel", val: "$50M", domain: "fine.dev", rel: ["Cognition AI", "Cursor", "GitHub Copilot"] },
"Marblism": { desc: "AI SaaS boilerplate.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$25M", domain: "marblism.com", rel: ["Lovable", "Bolt.new", "Vercel"] },
"Pythagora": { desc: "GPT Pilot AI coding.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$25M", domain: "pythagora.io", rel: ["Cursor", "Cognition AI", "GitHub Copilot"] },
"CodeSandbox": { desc: "Cloud dev environments.", cat: "Code & Dev Tools", hq: "Amsterdam, Netherlands", val: "$80M", domain: "codesandbox.io", rel: ["Replit", "Vercel", "GitHub Copilot"] },
"Gitpod": { desc: "Cloud development environments.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$135M", domain: "gitpod.io", rel: ["CodeSandbox", "Replit", "GitHub Copilot"] },
"Railway": { desc: "Cloud deployment platform.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$100M", domain: "railway.app", rel: ["Vercel", "Render", "Fly.io"] },
"Render": { desc: "Cloud platform for devs.", cat: "Code & Dev Tools", hq: "San Francisco, CA", val: "$500M", domain: "render.com", rel: ["Vercel", "Railway", "Fly.io"] },
"Fly.io": { desc: "Global app deployment.", cat: "Code & Dev Tools", hq: "Chicago, IL", val: "$200M", domain: "fly.io", rel: ["Vercel", "Render", "Railway"] },

// AI Agents & Automation
"Lindy": { desc: "AI executive assistant.", cat: "AI Agents", hq: "San Francisco, CA", val: "$100M", domain: "lindy.ai", rel: ["Adept", "Cognition AI", "Sierra"] },
"MultiOn": { desc: "AI web agent.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "multion.ai", rel: ["Adept", "Cognition AI", "Sierra"] },
"Induced AI": { desc: "AI browser automation.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "induced.ai", rel: ["MultiOn", "Adept", "Cognition AI"] },
"Skyvern": { desc: "AI browser automation.", cat: "AI Agents", hq: "San Francisco, CA", val: "$25M", domain: "skyvern.com", rel: ["MultiOn", "Induced AI", "Adept"] },
"Browserbase": { desc: "Headless browser for AI.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "browserbase.com", rel: ["MultiOn", "Induced AI", "Skyvern"] },
"Minion AI": { desc: "AI coding minions.", cat: "AI Agents", hq: "San Francisco, CA", val: "$25M", domain: "minion.ai", rel: ["Cognition AI", "Cursor", "GitHub Copilot"] },
"Relevance AI": { desc: "AI agent platform.", cat: "AI Agents", hq: "Sydney, Australia", val: "$50M", domain: "relevanceai.com", rel: ["LangChain", "Lindy", "Adept"] },
"AgentOps": { desc: "AI agent monitoring.", cat: "AI Agents", hq: "San Francisco, CA", val: "$25M", domain: "agentops.ai", rel: ["LangChain", "Weights & Biases", "Braintrust"] },
"E2B": { desc: "Cloud runtime for AI agents.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "e2b.dev", rel: ["Modal", "Browserbase", "Cognition AI"] },
"SWE-agent": { desc: "Software engineering agents.", cat: "AI Agents", hq: "Princeton, NJ", val: "Princeton", domain: "swe-agent.com", rel: ["Cognition AI", "Cursor", "OpenAI"] },
"AutoGPT": { desc: "Autonomous AI agents.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "autogpt.co", rel: ["OpenAI", "LangChain", "Adept"] },
"BabyAGI": { desc: "Task-driven AI agents.", cat: "AI Agents", hq: "San Francisco, CA", val: "Open-source", domain: "babyagi.org", rel: ["AutoGPT", "LangChain", "OpenAI"] },
"CrewAI": { desc: "Multi-agent orchestration.", cat: "AI Agents", hq: "San Francisco, CA", val: "$50M", domain: "crewai.com", rel: ["LangChain", "AutoGPT", "Lindy"] },
"SuperAGI": { desc: "Autonomous AI framework.", cat: "AI Agents", hq: "San Francisco, CA", val: "$25M", domain: "superagi.com", rel: ["AutoGPT", "LangChain", "CrewAI"] },
"Bardeen": { desc: "AI workflow automation.", cat: "AI Agents", hq: "San Francisco, CA", val: "$100M", domain: "bardeen.ai", rel: ["n8n", "Zapier", "UiPath"] },
"Tray.io": { desc: "AI-powered integration.", cat: "AI Agents", hq: "San Francisco, CA", val: "$600M", domain: "tray.io", rel: ["Zapier", "n8n", "Workato"] },
"Workato": { desc: "Enterprise automation.", cat: "AI Agents", hq: "Mountain View, CA", val: "$5.7B", domain: "workato.com", rel: ["Tray.io", "Zapier", "UiPath"] },
"Zapier": { desc: "Workflow automation.", cat: "AI Agents", hq: "San Francisco, CA", val: "$5B", domain: "zapier.com", rel: ["n8n", "Tray.io", "Workato"] },
"Make": { desc: "Visual automation platform.", cat: "AI Agents", hq: "Prague, Czech Republic", val: "$400M", domain: "make.com", rel: ["Zapier", "n8n", "Tray.io"] },
"Levity": { desc: "No-code AI automation.", cat: "AI Agents", hq: "Berlin, Germany", val: "$50M", domain: "levity.ai", rel: ["Zapier", "n8n", "Make"] },

// Healthcare AI
"Hippocratic AI": { desc: "AI for healthcare safety.", cat: "Healthcare AI", hq: "Palo Alto, CA", val: "$500M", domain: "hippocraticai.com", rel: ["Abridge", "Ambience", "OpenAI"] },
"Tennr": { desc: "Healthcare revenue cycle AI.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$100M", domain: "tennr.com", rel: ["Abridge", "Notable Health", "Olive AI"] },
"Regard": { desc: "AI clinical diagnoses.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$100M", domain: "regard.com", rel: ["Abridge", "Tempus", "Viz.ai"] },
"Nabla": { desc: "AI copilot for doctors.", cat: "Healthcare AI", hq: "Paris, France", val: "$100M", domain: "nabla.com", rel: ["Abridge", "Ambience", "Suki"] },
"Glass Health": { desc: "AI clinical decision support.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$50M", domain: "glass.health", rel: ["Abridge", "OpenEvidence", "Hippocratic AI"] },
"Khosla-funded Health": { desc: "Various AI health startups.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "N/A", domain: "khoslaventures.com", rel: ["Abridge", "Hippocratic AI", "Tempus"] },
"K Health": { desc: "AI symptom checker.", cat: "Healthcare AI", hq: "New York, NY", val: "$900M", domain: "khealth.com", rel: ["Curai", "Hippocratic AI", "Tempus"] },
"98point6": { desc: "AI-powered primary care.", cat: "Healthcare AI", hq: "Seattle, WA", val: "$500M", domain: "98point6.com", rel: ["K Health", "Curai", "Abridge"] },
"Babylon Health": { desc: "AI health services.", cat: "Healthcare AI", hq: "London, UK", val: "$500M", domain: "babylonhealth.com", rel: ["K Health", "98point6", "Curai"] },
"Ada Health": { desc: "AI symptom assessment.", cat: "Healthcare AI", hq: "Berlin, Germany", val: "$300M", domain: "ada.com", rel: ["K Health", "Babylon Health", "98point6"] },
"Buoy Health": { desc: "AI symptom checker.", cat: "Healthcare AI", hq: "Boston, MA", val: "$100M", domain: "buoyhealth.com", rel: ["Ada Health", "K Health", "98point6"] },
"Pearl": { desc: "AI dental diagnostics.", cat: "Healthcare AI", hq: "Los Angeles, CA", val: "$200M", domain: "hellopearl.com", rel: ["Tempus", "PathAI", "Viz.ai"] },
"Cleerly": { desc: "AI heart disease detection.", cat: "Healthcare AI", hq: "Denver, CO", val: "$223M", domain: "cleerly.com", rel: ["Viz.ai", "Aidoc", "Tempus"] },
"Ezra": { desc: "AI cancer screening.", cat: "Healthcare AI", hq: "New York, NY", val: "$100M", domain: "ezra.com", rel: ["Tempus", "PathAI", "Viz.ai"] },
"Lunit": { desc: "AI cancer detection.", cat: "Healthcare AI", hq: "Seoul, South Korea", val: "$1.5B", domain: "lunit.io", rel: ["PathAI", "Tempus", "Viz.ai"] },
"Owkin": { desc: "AI drug discovery.", cat: "Healthcare AI", hq: "Paris, France", val: "$1B", domain: "owkin.com", rel: ["Recursion", "Tempus", "PathAI"] },
"Insitro": { desc: "ML for drug discovery.", cat: "Healthcare AI", hq: "South San Francisco, CA", val: "$2.4B", domain: "insitro.com", rel: ["Recursion", "Isomorphic Labs", "Insilico Medicine"] },
"Generate Biomedicines": { desc: "AI protein design.", cat: "Healthcare AI", hq: "Cambridge, MA", val: "$1.5B", domain: "generatebiomedicines.com", rel: ["Isomorphic Labs", "Recursion", "Insitro"] },
"AbCellera": { desc: "AI antibody discovery.", cat: "Healthcare AI", hq: "Vancouver, Canada", val: "$4B", domain: "abcellera.com", rel: ["Generate Biomedicines", "Recursion", "Insitro"] },
"Iambic": { desc: "AI drug design.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$100M", domain: "iambic.ai", rel: ["Recursion", "Insitro", "Isomorphic Labs"] },
"EvolutionaryScale": { desc: "AI protein models.", cat: "Healthcare AI", hq: "New York, NY", val: "$500M", domain: "evolutionaryscale.ai", rel: ["Isomorphic Labs", "Generate Biomedicines", "Recursion"] },
"Chai Discovery": { desc: "AI drug discovery.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$1.3B", domain: "chaidiscovery.com", rel: ["Recursion", "Insitro", "Isomorphic Labs"] },
"Profluent": { desc: "AI protein engineering.", cat: "Healthcare AI", hq: "Berkeley, CA", val: "$200M", domain: "profluent.bio", rel: ["Generate Biomedicines", "EvolutionaryScale", "Isomorphic Labs"] },
"BigHat": { desc: "AI antibody design.", cat: "Healthcare AI", hq: "San Mateo, CA", val: "$150M", domain: "bighatbio.com", rel: ["AbCellera", "Generate Biomedicines", "Recursion"] },
"Causaly": { desc: "AI biomedical research.", cat: "Healthcare AI", hq: "London, UK", val: "$100M", domain: "causaly.com", rel: ["Tempus", "Owkin", "Recursion"] },
"Carbon Health": { desc: "AI-powered clinics.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$3.3B", domain: "carbonhealth.com", rel: ["K Health", "Curai", "Abridge"] },
"Hinge Health": { desc: "Digital MSK therapy.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$6.2B", domain: "hingehealth.com", rel: ["Carbon Health", "K Health", "Abridge"] },
"Sword Health": { desc: "AI physical therapy.", cat: "Healthcare AI", hq: "New York, NY", val: "$3B", domain: "swordhealth.com", rel: ["Hinge Health", "Carbon Health", "K Health"] },
"Ro": { desc: "AI telehealth platform.", cat: "Healthcare AI", hq: "New York, NY", val: "$7B", domain: "ro.co", rel: ["K Health", "Hims & Hers", "Carbon Health"] },
"Hims & Hers": { desc: "Telehealth platform.", cat: "Healthcare AI", hq: "San Francisco, CA", val: "$3B", domain: "hims.com", rel: ["Ro", "K Health", "Carbon Health"] },
"Color Health": { desc: "AI genetic testing.", cat: "Healthcare AI", hq: "Burlingame, CA", val: "$1.5B", domain: "color.com", rel: ["Tempus", "23andMe", "Function Health"] },
"23andMe": { desc: "Consumer genetics AI.", cat: "Healthcare AI", hq: "Sunnyvale, CA", val: "$200M", domain: "23andme.com", rel: ["Color Health", "Tempus", "Function Health"] },
"Freenome": { desc: "AI cancer blood tests.", cat: "Healthcare AI", hq: "South San Francisco, CA", val: "$2.5B", domain: "freenome.com", rel: ["Tempus", "Grail", "Color Health"] },
"Grail": { desc: "AI cancer detection.", cat: "Healthcare AI", hq: "Menlo Park, CA", val: "Illumina", domain: "grail.com", rel: ["Freenome", "Tempus", "Color Health"] },
"Illumina": { desc: "Genomic sequencing AI.", cat: "Healthcare AI", hq: "San Diego, CA", val: "$20B", domain: "illumina.com", rel: ["Grail", "Tempus", "Color Health"] },

// Finance & Fintech AI
"Plaid AI": { desc: "Financial data AI features.", cat: "Finance AI", hq: "San Francisco, CA", val: "Plaid", domain: "plaid.com", rel: ["Plaid", "Stripe", "Ramp"] },
"Tala": { desc: "AI lending for emerging markets.", cat: "Finance AI", hq: "Santa Monica, CA", val: "$1B", domain: "tala.co", rel: ["Upstart", "Affirm", "Klarna"] },
"Cleo": { desc: "AI financial assistant.", cat: "Finance AI", hq: "London, UK", val: "$500M", domain: "meetcleo.com", rel: ["Monarch Money", "Chime", "Mercury"] },
"Albert": { desc: "AI financial guidance.", cat: "Finance AI", hq: "Los Angeles, CA", val: "$300M", domain: "albert.com", rel: ["Cleo", "Monarch Money", "Chime"] },
"Arta Finance": { desc: "AI wealth management.", cat: "Finance AI", hq: "San Francisco, CA", val: "$90M", domain: "artafinance.com", rel: ["Wealthfront", "Betterment", "AlphaSense"] },
"Betterment": { desc: "AI robo-advisor.", cat: "Finance AI", hq: "New York, NY", val: "$1.3B", domain: "betterment.com", rel: ["Wealthfront", "Arta Finance", "Chime"] },
"Wealthfront": { desc: "AI wealth management.", cat: "Finance AI", hq: "Palo Alto, CA", val: "$1.4B", domain: "wealthfront.com", rel: ["Betterment", "Arta Finance", "Chime"] },
"Kavak": { desc: "AI used car marketplace.", cat: "Finance AI", hq: "Mexico City, Mexico", val: "$8.7B", domain: "kavak.com", rel: ["Carvana", "Stripe", "Affirm"] },
"Carvana": { desc: "AI car e-commerce.", cat: "Finance AI", hq: "Phoenix, AZ", val: "$40B", domain: "carvana.com", rel: ["Kavak", "Affirm", "Stripe"] },
"Nubank": { desc: "AI digital bank.", cat: "Finance AI", hq: "Sao Paulo, Brazil", val: "$45B", domain: "nubank.com.br", rel: ["Chime", "SoFi", "Klarna"] },
"Revolut": { desc: "AI banking app.", cat: "Finance AI", hq: "London, UK", val: "$33B", domain: "revolut.com", rel: ["Nubank", "Chime", "Wise"] },
"N26": { desc: "Mobile bank with AI.", cat: "Finance AI", hq: "Berlin, Germany", val: "$9B", domain: "n26.com", rel: ["Revolut", "Chime", "Nubank"] },
"Monzo": { desc: "UK digital bank.", cat: "Finance AI", hq: "London, UK", val: "$5B", domain: "monzo.com", rel: ["Revolut", "N26", "Chime"] },
"Starling Bank": { desc: "UK digital bank.", cat: "Finance AI", hq: "London, UK", val: "$3.5B", domain: "starlingbank.com", rel: ["Monzo", "Revolut", "N26"] },
"Trade Republic": { desc: "AI investing app.", cat: "Finance AI", hq: "Berlin, Germany", val: "$5.3B", domain: "traderepublic.com", rel: ["Revolut", "N26", "Robinhood"] },
"Robinhood": { desc: "AI trading platform.", cat: "Finance AI", hq: "Menlo Park, CA", val: "$10B", domain: "robinhood.com", rel: ["Trade Republic", "Wealthfront", "Betterment"] },
"Coinbase": { desc: "Crypto exchange AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$45B", domain: "coinbase.com", rel: ["Robinhood", "Stripe", "Plaid"] },
"Kraken": { desc: "Crypto exchange.", cat: "Finance AI", hq: "San Francisco, CA", val: "$11B", domain: "kraken.com", rel: ["Coinbase", "Robinhood", "Stripe"] },
"Chainalysis": { desc: "Blockchain analytics AI.", cat: "Finance AI", hq: "New York, NY", val: "$8.6B", domain: "chainalysis.com", rel: ["Coinbase", "Kraken", "Elliptic"] },
"Elliptic": { desc: "Blockchain compliance AI.", cat: "Finance AI", hq: "London, UK", val: "$500M", domain: "elliptic.co", rel: ["Chainalysis", "Coinbase", "Kraken"] },
"Sardine": { desc: "Fraud prevention AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$250M", domain: "sardine.ai", rel: ["Stripe", "Plaid", "Chainalysis"] },
"Alloy": { desc: "Identity verification AI.", cat: "Finance AI", hq: "New York, NY", val: "$2.3B", domain: "alloy.com", rel: ["Plaid", "Stripe", "Sardine"] },
"Socure": { desc: "Digital identity AI.", cat: "Finance AI", hq: "New York, NY", val: "$4.5B", domain: "socure.com", rel: ["Alloy", "Plaid", "Stripe"] },
"Persona": { desc: "Identity verification.", cat: "Finance AI", hq: "San Francisco, CA", val: "$1.5B", domain: "withpersona.com", rel: ["Socure", "Alloy", "Plaid"] },
"Unit": { desc: "Embedded banking AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$1.2B", domain: "unit.co", rel: ["Stripe", "Plaid", "Mercury"] },
"Blend": { desc: "AI mortgage platform.", cat: "Finance AI", hq: "San Francisco, CA", val: "$500M", domain: "blend.com", rel: ["Upstart", "Plaid", "Stripe"] },
"Figure": { desc: "Blockchain lending AI.", cat: "Finance AI", hq: "San Francisco, CA", val: "$3.2B", domain: "figure.com", rel: ["Upstart", "Blend", "Stripe"] },
"Trumid": { desc: "AI bond trading.", cat: "Finance AI", hq: "New York, NY", val: "$1.4B", domain: "trumid.com", rel: ["AlphaSense", "Bloomberg", "Tradeweb"] },
"Symphony AyasdiAI": { desc: "AI for financial crime.", cat: "Finance AI", hq: "San Francisco, CA", val: "$500M", domain: "symphony.com", rel: ["Chainalysis", "AlphaSense", "Bloomberg"] },
"Kensho": { desc: "AI financial analytics.", cat: "Finance AI", hq: "Cambridge, MA", val: "S&P Global", domain: "kensho.com", rel: ["AlphaSense", "Bloomberg", "Palantir"] },
"Rogo": { desc: "AI for finance research.", cat: "Finance AI", hq: "New York, NY", val: "$50M", domain: "rogodata.com", rel: ["AlphaSense", "Bloomberg", "Perplexity"] },
"Anagram": { desc: "AI finance research.", cat: "Finance AI", hq: "New York, NY", val: "$50M", domain: "anagram.xyz", rel: ["AlphaSense", "Rogo", "Bloomberg"] },
"Vise": { desc: "AI wealth management.", cat: "Finance AI", hq: "New York, NY", val: "$200M", domain: "vise.com", rel: ["Betterment", "Wealthfront", "Arta Finance"] },
"Titan": { desc: "AI investing app.", cat: "Finance AI", hq: "New York, NY", val: "$500M", domain: "titan.com", rel: ["Robinhood", "Wealthfront", "Betterment"] },

// Legal Tech
"Ontra": { desc: "AI contract automation.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$800M", domain: "ontra.ai", rel: ["Ironclad", "Harvey", "DocuSign"] },
"Juro": { desc: "AI contract platform.", cat: "Legal Tech", hq: "London, UK", val: "$200M", domain: "juro.com", rel: ["Ironclad", "Ontra", "DocuSign"] },
"Lexion": { desc: "AI contract management.", cat: "Legal Tech", hq: "Seattle, WA", val: "$100M", domain: "lexion.ai", rel: ["Ironclad", "Juro", "DocuSign"] },
"Evisort": { desc: "AI contract intelligence.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$300M", domain: "evisort.com", rel: ["Ironclad", "Lexion", "DocuSign"] },
"Logikcull": { desc: "AI e-discovery.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$100M", domain: "logikcull.com", rel: ["Everlaw", "Relativity", "Harvey"] },
"CS Disco": { desc: "AI legal tech.", cat: "Legal Tech", hq: "Houston, TX", val: "$300M", domain: "csdisco.com", rel: ["Everlaw", "Relativity", "Logikcull"] },
"Reveal Data": { desc: "AI e-discovery.", cat: "Legal Tech", hq: "Melbourne, Australia", val: "$100M", domain: "revealdata.com", rel: ["Everlaw", "Relativity", "CS Disco"] },
"Clearbrief": { desc: "AI legal writing.", cat: "Legal Tech", hq: "Seattle, WA", val: "$50M", domain: "clearbrief.com", rel: ["Harvey", "Casetext", "Spellbook"] },
"Briefpoint": { desc: "AI legal drafting.", cat: "Legal Tech", hq: "San Francisco, CA", val: "$25M", domain: "briefpoint.ai", rel: ["Harvey", "Clearbrief", "Casetext"] },
"Vlex": { desc: "AI legal research.", cat: "Legal Tech", hq: "Miami, FL", val: "$200M", domain: "vlex.com", rel: ["Casetext", "Harvey", "LexisNexis"] },
"LexisNexis": { desc: "Legal AI research.", cat: "Legal Tech", hq: "New York, NY", val: "RELX", domain: "lexisnexis.com", rel: ["Casetext", "Harvey", "Vlex"] },
"Thomson Reuters Legal": { desc: "Westlaw AI.", cat: "Legal Tech", hq: "Toronto, Canada", val: "Thomson Reuters", domain: "thomsonreuters.com", rel: ["LexisNexis", "Harvey", "Casetext"] },
"Diligen": { desc: "AI contract review.", cat: "Legal Tech", hq: "Toronto, Canada", val: "$50M", domain: "diligent.com", rel: ["Luminance", "Robin AI", "Ironclad"] },
"Kira Systems": { desc: "AI contract analysis.", cat: "Legal Tech", hq: "Toronto, Canada", val: "$100M", domain: "kirasystems.com", rel: ["Luminance", "Diligen", "Ironclad"] },
"Neota Logic": { desc: "AI legal automation.", cat: "Legal Tech", hq: "New York, NY", val: "$50M", domain: "neotalogic.com", rel: ["Ironclad", "UiPath", "Harvey"] },

// Security AI
"Halcyon": { desc: "Anti-ransomware AI.", cat: "Security AI", hq: "Austin, TX", val: "$600M", domain: "halcyon.ai", rel: ["CrowdStrike", "SentinelOne", "Palo Alto Networks"] },
"Cybereason": { desc: "AI cybersecurity.", cat: "Security AI", hq: "Boston, MA", val: "$2.8B", domain: "cybereason.com", rel: ["CrowdStrike", "SentinelOne", "Darktrace"] },
"Exabeam": { desc: "AI SIEM platform.", cat: "Security AI", hq: "Foster City, CA", val: "$2.4B", domain: "exabeam.com", rel: ["Splunk", "CrowdStrike", "Darktrace"] },
"Securonix": { desc: "AI security analytics.", cat: "Security AI", hq: "Addison, TX", val: "$1B", domain: "securonix.com", rel: ["Exabeam", "Splunk", "Darktrace"] },
"Hunters": { desc: "AI threat hunting.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$500M", domain: "hunters.ai", rel: ["CrowdStrike", "SentinelOne", "Darktrace"] },
"Anvilogic": { desc: "AI threat detection.", cat: "Security AI", hq: "Palo Alto, CA", val: "$200M", domain: "anvilogic.com", rel: ["Hunters", "Exabeam", "Splunk"] },
"Torq": { desc: "AI security automation.", cat: "Security AI", hq: "Portland, OR", val: "$500M", domain: "torq.io", rel: ["CrowdStrike", "Splunk", "UiPath"] },
"Tines": { desc: "AI security workflows.", cat: "Security AI", hq: "Dublin, Ireland", val: "$800M", domain: "tines.com", rel: ["Torq", "CrowdStrike", "UiPath"] },
"Swimlane": { desc: "AI security orchestration.", cat: "Security AI", hq: "Denver, CO", val: "$300M", domain: "swimlane.com", rel: ["Torq", "Tines", "Splunk"] },
"Grip Security": { desc: "SaaS security AI.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$200M", domain: "grip.security", rel: ["Obsidian Security", "Wiz", "Orca Security"] },
"Adaptive Shield": { desc: "SaaS security posture.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$130M", domain: "adaptive-shield.com", rel: ["Grip Security", "Obsidian Security", "Wiz"] },
"DoControl": { desc: "SaaS data security.", cat: "Security AI", hq: "New York, NY", val: "$100M", domain: "docontrol.io", rel: ["Obsidian Security", "Grip Security", "Wiz"] },
"Tessian": { desc: "AI email security.", cat: "Security AI", hq: "London, UK", val: "$500M", domain: "tessian.com", rel: ["Abnormal Security", "Proofpoint", "Mimecast"] },
"Material Security": { desc: "Email data security.", cat: "Security AI", hq: "San Francisco, CA", val: "$200M", domain: "material.security", rel: ["Tessian", "Abnormal Security", "Proofpoint"] },
"Vanta": { desc: "AI compliance automation.", cat: "Security AI", hq: "San Francisco, CA", val: "$2.45B", domain: "vanta.com", rel: ["Drata", "Secureframe", "Wiz"] },
"Drata": { desc: "AI compliance platform.", cat: "Security AI", hq: "San Diego, CA", val: "$1B", domain: "drata.com", rel: ["Vanta", "Secureframe", "Wiz"] },
"Secureframe": { desc: "Compliance automation.", cat: "Security AI", hq: "San Francisco, CA", val: "$300M", domain: "secureframe.com", rel: ["Vanta", "Drata", "Wiz"] },
"Coro": { desc: "AI cybersecurity for SMBs.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$750M", domain: "coro.net", rel: ["CrowdStrike", "SentinelOne", "Darktrace"] },
"Cynet": { desc: "AI threat protection.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$200M", domain: "cynet.com", rel: ["CrowdStrike", "SentinelOne", "Coro"] },
"Pentera": { desc: "AI penetration testing.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$500M", domain: "pentera.io", rel: ["CrowdStrike", "Snyk", "Veracode"] },
"AttackIQ": { desc: "AI breach simulation.", cat: "Security AI", hq: "San Diego, CA", val: "$200M", domain: "attackiq.com", rel: ["Pentera", "CrowdStrike", "Darktrace"] },
"SafeBreach": { desc: "AI security validation.", cat: "Security AI", hq: "Sunnyvale, CA", val: "$150M", domain: "safebreach.com", rel: ["Pentera", "AttackIQ", "CrowdStrike"] },
"Claroty": { desc: "OT/IoT security AI.", cat: "Security AI", hq: "New York, NY", val: "$1B", domain: "claroty.com", rel: ["Palo Alto Networks", "CrowdStrike", "Fortinet"] },
"Nozomi Networks": { desc: "OT security AI.", cat: "Security AI", hq: "San Francisco, CA", val: "$500M", domain: "nozominetworks.com", rel: ["Claroty", "Palo Alto Networks", "Fortinet"] },
"Armis": { desc: "Asset intelligence AI.", cat: "Security AI", hq: "San Francisco, CA", val: "$3.4B", domain: "armis.com", rel: ["Claroty", "CrowdStrike", "Palo Alto Networks"] },
"Axonius": { desc: "Asset management AI.", cat: "Security AI", hq: "New York, NY", val: "$2.6B", domain: "axonius.com", rel: ["Armis", "CrowdStrike", "Wiz"] },
"Uptycs": { desc: "Cloud security analytics.", cat: "Security AI", hq: "Waltham, MA", val: "$300M", domain: "uptycs.com", rel: ["Wiz", "Orca Security", "Lacework"] },
"Aqua Security": { desc: "Cloud native security.", cat: "Security AI", hq: "Ramat Gan, Israel", val: "$1B", domain: "aquasec.com", rel: ["Wiz", "Snyk", "Palo Alto Networks"] },
"Sysdig": { desc: "Container security AI.", cat: "Security AI", hq: "San Francisco, CA", val: "$2.5B", domain: "sysdig.com", rel: ["Aqua Security", "Wiz", "Snyk"] },
"Calico": { desc: "Kubernetes security.", cat: "Security AI", hq: "San Francisco, CA", val: "$500M", domain: "tigera.io", rel: ["Sysdig", "Aqua Security", "Wiz"] },

// Data & MLOps
"Anduril": { desc: "Defense AI platform.", cat: "Enterprise AI", hq: "Costa Mesa, CA", val: "$14B", domain: "anduril.com", rel: ["Palantir", "Shield AI", "Scale AI"] },
"Shield AI": { desc: "Defense AI drones.", cat: "Enterprise AI", hq: "San Diego, CA", val: "$2.8B", domain: "shield.ai", rel: ["Anduril", "Palantir", "Skydio"] },
"Duality Technologies": { desc: "Privacy-preserving AI.", cat: "Data & Vector DB", hq: "Hoboken, NJ", val: "$100M", domain: "dualitytech.com", rel: ["Snowflake", "Databricks", "Gretel"] },
"Immuta": { desc: "Data governance AI.", cat: "Data & Vector DB", hq: "Boston, MA", val: "$500M", domain: "immuta.com", rel: ["Snowflake", "Databricks", "Collibra"] },
"Collibra": { desc: "Data intelligence.", cat: "Data & Vector DB", hq: "New York, NY", val: "$5.3B", domain: "collibra.com", rel: ["Immuta", "Snowflake", "Databricks"] },
"Alation": { desc: "Data catalog AI.", cat: "Data & Vector DB", hq: "Redwood City, CA", val: "$1.7B", domain: "alation.com", rel: ["Collibra", "Snowflake", "Databricks"] },
"Monte Carlo": { desc: "Data observability.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$1.6B", domain: "montecarlodata.com", rel: ["Databricks", "Snowflake", "Datadog"] },
"Bigeye": { desc: "Data quality AI.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$100M", domain: "bigeye.com", rel: ["Monte Carlo", "Databricks", "Snowflake"] },
"Great Expectations": { desc: "Data validation.", cat: "Data & Vector DB", hq: "Denver, CO", val: "$100M", domain: "greatexpectations.io", rel: ["Monte Carlo", "Bigeye", "Databricks"] },
"Atlan": { desc: "Data workspace.", cat: "Data & Vector DB", hq: "New York, NY", val: "$450M", domain: "atlan.com", rel: ["Alation", "Collibra", "Databricks"] },
"dbt Labs": { desc: "Data transformation.", cat: "Data & Vector DB", hq: "Philadelphia, PA", val: "$4.2B", domain: "getdbt.com", rel: ["Snowflake", "Databricks", "Fivetran"] },
"Fivetran": { desc: "Data integration AI.", cat: "Data & Vector DB", hq: "Oakland, CA", val: "$5.6B", domain: "fivetran.com", rel: ["dbt Labs", "Snowflake", "Databricks"] },
"Airbyte": { desc: "Data integration.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$1.5B", domain: "airbyte.com", rel: ["Fivetran", "dbt Labs", "Snowflake"] },
"Starburst": { desc: "Data analytics AI.", cat: "Data & Vector DB", hq: "Boston, MA", val: "$3.4B", domain: "starburst.io", rel: ["Databricks", "Snowflake", "Trino"] },
"Dremio": { desc: "Data lakehouse.", cat: "Data & Vector DB", hq: "Santa Clara, CA", val: "$2B", domain: "dremio.com", rel: ["Databricks", "Snowflake", "Starburst"] },
"SingleStore": { desc: "Real-time database.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$940M", domain: "singlestore.com", rel: ["Snowflake", "Databricks", "MongoDB"] },
"ClickHouse": { desc: "Real-time analytics DB.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$15B", domain: "clickhouse.com", rel: ["SingleStore", "Snowflake", "Databricks"] },
"Timescale": { desc: "Time-series database.", cat: "Data & Vector DB", hq: "New York, NY", val: "$500M", domain: "timescale.com", rel: ["ClickHouse", "MongoDB", "PostgreSQL"] },
"QuestDB": { desc: "Time-series analytics.", cat: "Data & Vector DB", hq: "London, UK", val: "$100M", domain: "questdb.io", rel: ["Timescale", "ClickHouse", "MongoDB"] },
"Marqo": { desc: "Tensor search engine.", cat: "Data & Vector DB", hq: "Melbourne, Australia", val: "$50M", domain: "marqo.ai", rel: ["Pinecone", "Weaviate", "Qdrant"] },
"LanceDB": { desc: "Vector database.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$50M", domain: "lancedb.com", rel: ["Pinecone", "Chroma", "Weaviate"] },
"Vespa": { desc: "Vector search.", cat: "Data & Vector DB", hq: "Sunnyvale, CA", val: "Yahoo", domain: "vespa.ai", rel: ["Pinecone", "Weaviate", "Elasticsearch"] },
"Zilliz": { desc: "Milvus vector DB company.", cat: "Data & Vector DB", hq: "Redwood City, CA", val: "$500M", domain: "zilliz.com", rel: ["Milvus", "Pinecone", "Weaviate"] },
"Turbopuffer": { desc: "Serverless vector DB.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$25M", domain: "turbopuffer.com", rel: ["Pinecone", "Weaviate", "Chroma"] },
"Trieve": { desc: "Search infrastructure.", cat: "Data & Vector DB", hq: "San Francisco, CA", val: "$25M", domain: "trieve.ai", rel: ["Pinecone", "Algolia", "Weaviate"] },

// MLOps & AI Infrastructure
"Weights & Biases": { desc: "ML experiment tracking.", cat: "MLOps", hq: "San Francisco, CA", val: "$1.25B", domain: "wandb.ai", rel: ["Scale AI", "Hugging Face", "Comet"] },
"MLflow": { desc: "ML lifecycle management.", cat: "MLOps", hq: "San Francisco, CA", val: "Databricks", domain: "mlflow.org", rel: ["Databricks", "Weights & Biases", "Comet"] },
"Kubeflow": { desc: "ML on Kubernetes.", cat: "MLOps", hq: "Mountain View, CA", val: "Google", domain: "kubeflow.org", rel: ["MLflow", "Weights & Biases", "Databricks"] },
"Metaflow": { desc: "Data science framework.", cat: "MLOps", hq: "San Francisco, CA", val: "Netflix", domain: "metaflow.org", rel: ["Airflow", "Kubeflow", "Weights & Biases"] },
"Airflow": { desc: "Workflow orchestration.", cat: "MLOps", hq: "Sunnyvale, CA", val: "Astronomer", domain: "airflow.apache.org", rel: ["Temporal", "Metaflow", "Prefect"] },
"Prefect": { desc: "Workflow orchestration.", cat: "MLOps", hq: "Washington, DC", val: "$200M", domain: "prefect.io", rel: ["Airflow", "Temporal", "Metaflow"] },
"Dagster": { desc: "Data orchestration.", cat: "MLOps", hq: "San Francisco, CA", val: "$300M", domain: "dagster.io", rel: ["Airflow", "Prefect", "dbt Labs"] },
"Astronomer": { desc: "Airflow managed service.", cat: "MLOps", hq: "Cincinnati, OH", val: "$500M", domain: "astronomer.io", rel: ["Airflow", "Prefect", "Dagster"] },
"Flyte": { desc: "ML workflow platform.", cat: "MLOps", hq: "San Francisco, CA", val: "Union.ai", domain: "flyte.org", rel: ["Kubeflow", "Airflow", "Metaflow"] },
"Union.ai": { desc: "Flyte managed service.", cat: "MLOps", hq: "Seattle, WA", val: "$100M", domain: "union.ai", rel: ["Flyte", "Airflow", "Kubeflow"] },
"Seldon": { desc: "ML deployment.", cat: "MLOps", hq: "London, UK", val: "$100M", domain: "seldon.io", rel: ["BentoML", "MLflow", "Kubeflow"] },
"BentoML": { desc: "ML model serving.", cat: "MLOps", hq: "San Francisco, CA", val: "$50M", domain: "bentoml.com", rel: ["Seldon", "MLflow", "Baseten"] },
"Cortex": { desc: "ML infrastructure.", cat: "MLOps", hq: "San Francisco, CA", val: "$50M", domain: "cortex.dev", rel: ["BentoML", "Seldon", "Baseten"] },
"Valohai": { desc: "MLOps platform.", cat: "MLOps", hq: "Helsinki, Finland", val: "$50M", domain: "valohai.com", rel: ["Weights & Biases", "MLflow", "Kubeflow"] },
"ClearML": { desc: "MLOps suite.", cat: "MLOps", hq: "Tel Aviv, Israel", val: "$100M", domain: "clear.ml", rel: ["Weights & Biases", "MLflow", "Neptune"] },
"Gradient": { desc: "ML cloud platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$200M", domain: "gradient.ai", rel: ["Paperspace", "Lambda Labs", "CoreWeave"] },
"Paperspace": { desc: "GPU cloud.", cat: "MLOps", hq: "Brooklyn, NY", val: "$300M", domain: "paperspace.com", rel: ["Gradient", "Lambda Labs", "CoreWeave"] },
"Vast.ai": { desc: "GPU marketplace.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$100M", domain: "vast.ai", rel: ["Lambda Labs", "CoreWeave", "Together AI"] },
"RunPod": { desc: "GPU cloud.", cat: "Neo Cloud", hq: "Matawan, NJ", val: "$100M", domain: "runpod.io", rel: ["Vast.ai", "Lambda Labs", "CoreWeave"] },
"Hyperstack": { desc: "GPU cloud.", cat: "Neo Cloud", hq: "London, UK", val: "$50M", domain: "hyperstack.cloud", rel: ["CoreWeave", "Lambda Labs", "RunPod"] },
"OctoML": { desc: "ML acceleration.", cat: "MLOps", hq: "Seattle, WA", val: "$132M", domain: "octoml.ai", rel: ["NVIDIA", "Modular", "Together AI"] },
"Modular": { desc: "Mojo and MAX platforms.", cat: "MLOps", hq: "San Francisco, CA", val: "$600M", domain: "modular.com", rel: ["OctoML", "NVIDIA", "Baseten"] },
"Predibase": { desc: "Fine-tuning platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$100M", domain: "predibase.com", rel: ["Together AI", "Lamini", "Weights & Biases"] },
"Openlayer": { desc: "ML testing platform.", cat: "MLOps", hq: "San Francisco, CA", val: "$50M", domain: "openlayer.com", rel: ["Weights & Biases", "Braintrust", "Gantry"] },
"Gantry": { desc: "ML observability.", cat: "MLOps", hq: "San Francisco, CA", val: "$50M", domain: "gantry.io", rel: ["Weights & Biases", "Arize", "Openlayer"] },
"Arize": { desc: "ML observability.", cat: "MLOps", hq: "Berkeley, CA", val: "$150M", domain: "arize.com", rel: ["Weights & Biases", "Gantry", "WhyLabs"] },
"WhyLabs": { desc: "AI observability.", cat: "MLOps", hq: "Seattle, WA", val: "$50M", domain: "whylabs.ai", rel: ["Arize", "Weights & Biases", "Gantry"] },
"Fiddler": { desc: "AI explainability.", cat: "MLOps", hq: "Palo Alto, CA", val: "$100M", domain: "fiddler.ai", rel: ["Arize", "WhyLabs", "Weights & Biases"] },
"Arthur": { desc: "AI performance monitoring.", cat: "MLOps", hq: "New York, NY", val: "$100M", domain: "arthur.ai", rel: ["Fiddler", "Arize", "WhyLabs"] },
"Truera": { desc: "AI quality platform.", cat: "MLOps", hq: "Redwood City, CA", val: "$100M", domain: "truera.com", rel: ["Arthur", "Fiddler", "Arize"] },
"Evidently AI": { desc: "ML monitoring.", cat: "MLOps", hq: "London, UK", val: "$50M", domain: "evidentlyai.com", rel: ["WhyLabs", "Arize", "Fiddler"] },
"Deepchecks": { desc: "ML testing.", cat: "MLOps", hq: "Tel Aviv, Israel", val: "$50M", domain: "deepchecks.com", rel: ["Openlayer", "Evidently AI", "Weights & Biases"] },

// Neo Cloud & Infrastructure
"Voltage Park": { desc: "GPU cloud for AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$500M", domain: "voltagepark.com", rel: ["CoreWeave", "Lambda Labs", "Crusoe"] },
"Applied Digital": { desc: "AI data centers.", cat: "Neo Cloud", hq: "Dallas, TX", val: "$1B", domain: "applieddigital.com", rel: ["CoreWeave", "Crusoe", "Lambda Labs"] },
"Nebius": { desc: "European AI cloud.", cat: "Neo Cloud", hq: "Amsterdam, Netherlands", val: "$1B", domain: "nebius.com", rel: ["CoreWeave", "Lambda Labs", "Together AI"] },
"Ori": { desc: "Edge AI infrastructure.", cat: "Neo Cloud", hq: "London, UK", val: "$200M", domain: "ori.co", rel: ["CoreWeave", "Fastly", "Cloudflare"] },
"Fastly": { desc: "Edge cloud AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$2.5B", domain: "fastly.com", rel: ["Cloudflare", "Ori", "Vercel"] },
"Cloudflare": { desc: "Edge computing with AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$35B", domain: "cloudflare.com", rel: ["Fastly", "Vercel", "AWS"] },
"Corelight": { desc: "Network security AI.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$1B", domain: "corelight.com", rel: ["Cloudflare", "Palo Alto Networks", "CrowdStrike"] },

// Hardware
"Etched": { desc: "Transformer ASICs.", cat: "Hardware", hq: "San Francisco, CA", val: "$400M", domain: "etched.com", rel: ["NVIDIA", "Cerebras", "Groq"] },
"MatX": { desc: "AI accelerator chips.", cat: "Hardware", hq: "Mountain View, CA", val: "$100M", domain: "matx.com", rel: ["NVIDIA", "Cerebras", "Groq"] },
"Furiosa AI": { desc: "Korean AI chips.", cat: "Hardware", hq: "Seoul, South Korea", val: "$500M", domain: "furiosa.ai", rel: ["NVIDIA", "Cerebras", "Tenstorrent"] },
"Rebellions": { desc: "Korean AI chips.", cat: "Hardware", hq: "Seoul, South Korea", val: "$200M", domain: "rebellions.ai", rel: ["Furiosa AI", "NVIDIA", "Cerebras"] },
"Blaize": { desc: "Edge AI chips.", cat: "Hardware", hq: "El Dorado Hills, CA", val: "$300M", domain: "blaize.com", rel: ["Hailo", "NVIDIA", "Edge Impulse"] },
"Edge Impulse": { desc: "Edge ML platform.", cat: "Hardware", hq: "San Jose, CA", val: "$100M", domain: "edgeimpulse.com", rel: ["Blaize", "Hailo", "NVIDIA"] },
"Syntiant": { desc: "Neural decision processors.", cat: "Hardware", hq: "Irvine, CA", val: "$100M", domain: "syntiant.com", rel: ["Edge Impulse", "Blaize", "Hailo"] },
"Kneron": { desc: "Edge AI chips.", cat: "Hardware", hq: "San Diego, CA", val: "$100M", domain: "kneron.com", rel: ["Syntiant", "Edge Impulse", "Blaize"] },
"Flex Logix": { desc: "Edge AI inference.", cat: "Hardware", hq: "Mountain View, CA", val: "$100M", domain: "flex-logix.com", rel: ["Hailo", "Blaize", "Edge Impulse"] },
"AIStorm": { desc: "AI-in-sensor chips.", cat: "Hardware", hq: "San Jose, CA", val: "$50M", domain: "aistorm.ai", rel: ["Syntiant", "Kneron", "Edge Impulse"] },
"Qualcomm AI": { desc: "Mobile AI chips.", cat: "Hardware", hq: "San Diego, CA", val: "Qualcomm", domain: "qualcomm.com", rel: ["NVIDIA", "Apple", "MediaTek"] },
"MediaTek": { desc: "AI smartphone chips.", cat: "Hardware", hq: "Hsinchu, Taiwan", val: "$45B", domain: "mediatek.com", rel: ["Qualcomm AI", "NVIDIA", "Apple"] },
"Apple Silicon": { desc: "AI Neural Engine.", cat: "Hardware", hq: "Cupertino, CA", val: "Apple", domain: "apple.com", rel: ["NVIDIA", "Qualcomm AI", "MediaTek"] },

// Robotics
"Apptronik": { desc: "Humanoid robots.", cat: "Robotics", hq: "Austin, TX", val: "$350M", domain: "apptronik.com", rel: ["Figure", "Boston Dynamics", "1X Technologies"] },
"Agile Robots": { desc: "Industrial robots.", cat: "Robotics", hq: "Munich, Germany", val: "$300M", domain: "agile-robots.com", rel: ["Boston Dynamics", "Covariant", "Physical Intelligence"] },
"Flexiv": { desc: "Adaptive robots.", cat: "Robotics", hq: "Santa Clara, CA", val: "$200M", domain: "flexiv.com", rel: ["Agile Robots", "Covariant", "Boston Dynamics"] },
"Neura Robotics": { desc: "Cognitive robots.", cat: "Robotics", hq: "Metzingen, Germany", val: "$200M", domain: "neura-robotics.com", rel: ["Figure", "Apptronik", "1X Technologies"] },
"Standard Bots": { desc: "Industrial robot arms.", cat: "Robotics", hq: "New York, NY", val: "$50M", domain: "standardbots.com", rel: ["Flexiv", "Agile Robots", "Covariant"] },
"Formant": { desc: "Robot operations.", cat: "Robotics", hq: "San Francisco, CA", val: "$50M", domain: "formant.io", rel: ["Skild AI", "Physical Intelligence", "Figure"] },
"Veo Robotics": { desc: "Industrial safety.", cat: "Robotics", hq: "Waltham, MA", val: "$50M", domain: "veobot.com", rel: ["Boston Dynamics", "Agile Robots", "Flexiv"] },
"Robust.AI": { desc: "Warehouse robots.", cat: "Robotics", hq: "San Carlos, CA", val: "$100M", domain: "robust.ai", rel: ["Locus Robotics", "Berkshire Grey", "Covariant"] },
"Gecko Robotics": { desc: "Industrial inspection.", cat: "Robotics", hq: "Pittsburgh, PA", val: "$500M", domain: "geckorobotics.com", rel: ["Boston Dynamics", "Skydio", "Shield AI"] },
"Sarcos": { desc: "Industrial exoskeletons.", cat: "Robotics", hq: "Salt Lake City, UT", val: "$200M", domain: "sarcos.com", rel: ["Boston Dynamics", "Figure", "Apptronik"] },
"Pickle Robot": { desc: "Warehouse unloading.", cat: "Robotics", hq: "Cambridge, MA", val: "$100M", domain: "picklerobot.com", rel: ["Berkshire Grey", "Robust.AI", "Locus Robotics"] },
"RightHand Robotics": { desc: "Robotic picking.", cat: "Robotics", hq: "Somerville, MA", val: "$100M", domain: "righthandrobotics.com", rel: ["Covariant", "Berkshire Grey", "Pickle Robot"] },
"Plus One Robotics": { desc: "3D vision robots.", cat: "Robotics", hq: "San Antonio, TX", val: "$50M", domain: "plusonerobotics.com", rel: ["RightHand Robotics", "Covariant", "Berkshire Grey"] },
"Mujin": { desc: "Industrial automation.", cat: "Robotics", hq: "Tokyo, Japan", val: "$200M", domain: "mujin.co.jp", rel: ["Covariant", "Berkshire Grey", "Flexiv"] },
"Realtime Robotics": { desc: "Motion planning.", cat: "Robotics", hq: "Boston, MA", val: "$50M", domain: "rtr.ai", rel: ["Mujin", "Covariant", "Physical Intelligence"] },

// Autonomous Vehicles
"Applied Intuition": { desc: "AV simulation.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$6B", domain: "appliedintuition.com", rel: ["Waymo", "Aurora", "Cruise"] },
"Oxa": { desc: "Universal autonomy.", cat: "Autonomous Vehicles", hq: "Oxford, UK", val: "$500M", domain: "oxa.tech", rel: ["Waymo", "Aurora", "Applied Intuition"] },
"Ghost Autonomy": { desc: "Highway autonomy.", cat: "Autonomous Vehicles", hq: "Mountain View, CA", val: "$300M", domain: "ghostautonomy.com", rel: ["Comma.ai", "Mobileye", "Waymo"] },
"Comma.ai": { desc: "Consumer self-driving.", cat: "Autonomous Vehicles", hq: "San Diego, CA", val: "$200M", domain: "comma.ai", rel: ["Ghost Autonomy", "Mobileye", "Tesla"] },
"May Mobility": { desc: "Autonomous shuttles.", cat: "Autonomous Vehicles", hq: "Ann Arbor, MI", val: "$300M", domain: "maymobility.com", rel: ["Waymo", "Zoox", "Optimus Ride"] },
"Optimus Ride": { desc: "Autonomous shuttles.", cat: "Autonomous Vehicles", hq: "Boston, MA", val: "$100M", domain: "optimusride.com", rel: ["May Mobility", "Waymo", "Zoox"] },
"Navya": { desc: "Autonomous shuttles.", cat: "Autonomous Vehicles", hq: "Lyon, France", val: "$100M", domain: "navya.tech", rel: ["May Mobility", "Optimus Ride", "Waymo"] },
"EasyMile": { desc: "Autonomous solutions.", cat: "Autonomous Vehicles", hq: "Toulouse, France", val: "$100M", domain: "easymile.com", rel: ["Navya", "May Mobility", "Optimus Ride"] },
"Helm.ai": { desc: "Deep learning for AV.", cat: "Autonomous Vehicles", hq: "Menlo Park, CA", val: "$200M", domain: "helm.ai", rel: ["Applied Intuition", "Waymo", "Aurora"] },
"Foretellix": { desc: "AV verification.", cat: "Autonomous Vehicles", hq: "Tel Aviv, Israel", val: "$100M", domain: "foretellix.com", rel: ["Applied Intuition", "Helm.ai", "Waymo"] },
"Parallel Domain": { desc: "Synthetic data for AV.", cat: "Autonomous Vehicles", hq: "San Francisco, CA", val: "$100M", domain: "paralleldomain.com", rel: ["Applied Intuition", "Scale AI", "Waymo"] },

// Marketing & Sales AI
"Writer": { desc: "Enterprise AI writing.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1.9B", domain: "writer.com", rel: ["Jasper", "Copy.ai", "Typeface"] },
"Lumen5": { desc: "AI video creation.", cat: "Marketing AI", hq: "Vancouver, Canada", val: "$100M", domain: "lumen5.com", rel: ["Canva", "Synthesia", "InVideo"] },
"InVideo": { desc: "AI video maker.", cat: "Marketing AI", hq: "Mumbai, India", val: "$100M", domain: "invideo.io", rel: ["Lumen5", "Canva", "Synthesia"] },
"Opus Clip": { desc: "AI video repurposing.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "opus.pro", rel: ["Descript", "Runway", "Captions"] },
"Pictory": { desc: "AI video from text.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "pictory.ai", rel: ["Lumen5", "InVideo", "Opus Clip"] },
"Simplified": { desc: "AI design & content.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "simplified.com", rel: ["Canva", "Jasper", "Copy.ai"] },
"Contentful": { desc: "AI content platform.", cat: "Marketing AI", hq: "Berlin, Germany", val: "$3B", domain: "contentful.com", rel: ["Sanity", "Strapi", "Notion"] },
"Sanity": { desc: "Content platform.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$500M", domain: "sanity.io", rel: ["Contentful", "Strapi", "Notion"] },
"Lately": { desc: "AI social media.", cat: "Marketing AI", hq: "New York, NY", val: "$25M", domain: "lately.ai", rel: ["HubSpot", "Hootsuite", "Buffer"] },
"Hootsuite": { desc: "Social media AI.", cat: "Marketing AI", hq: "Vancouver, Canada", val: "$500M", domain: "hootsuite.com", rel: ["Lately", "Buffer", "HubSpot"] },
"Sprinklr": { desc: "CX management AI.", cat: "Marketing AI", hq: "New York, NY", val: "$5B", domain: "sprinklr.com", rel: ["Hootsuite", "Salesforce", "HubSpot"] },
"Sprout Social": { desc: "Social media AI.", cat: "Marketing AI", hq: "Chicago, IL", val: "$4B", domain: "sproutsocial.com", rel: ["Hootsuite", "Sprinklr", "HubSpot"] },
"Podium": { desc: "Customer interaction AI.", cat: "Marketing AI", hq: "Lehi, UT", val: "$3B", domain: "podium.com", rel: ["Intercom", "HubSpot", "Zendesk"] },
"Podcastle": { desc: "AI podcast creation.", cat: "Marketing AI", hq: "Wilmington, DE", val: "$50M", domain: "podcastle.ai", rel: ["Descript", "Riverside.fm", "ElevenLabs"] },
"Riverside.fm": { desc: "AI podcast studio.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$100M", domain: "riverside.fm", rel: ["Descript", "Podcastle", "Otter.ai"] },
"Vidyo.ai": { desc: "AI video repurposing.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "vidyo.ai", rel: ["Opus Clip", "Descript", "Pictory"] },
"Synthflow": { desc: "AI voice agents.", cat: "Marketing AI", hq: "Berlin, Germany", val: "$25M", domain: "synthflow.ai", rel: ["ElevenLabs", "Bland AI", "Vapi"] },
"Bland AI": { desc: "AI phone calls.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "bland.ai", rel: ["Synthflow", "Vapi", "ElevenLabs"] },
"Vapi": { desc: "Voice AI platform.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "vapi.ai", rel: ["Bland AI", "Synthflow", "ElevenLabs"] },
"Retool": { desc: "Internal tools AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$3.2B", domain: "retool.com", rel: ["Airtable", "Notion", "Vercel"] },
"Segment": { desc: "Customer data AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "Twilio", domain: "segment.com", rel: ["Twilio", "HubSpot", "Salesforce"] },
"mParticle": { desc: "Customer data platform.", cat: "Marketing AI", hq: "New York, NY", val: "$500M", domain: "mparticle.com", rel: ["Segment", "HubSpot", "Salesforce"] },
"Amplitude": { desc: "Product analytics AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1.5B", domain: "amplitude.com", rel: ["Mixpanel", "Segment", "HubSpot"] },
"Mixpanel": { desc: "Product analytics.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$800M", domain: "mixpanel.com", rel: ["Amplitude", "Segment", "HubSpot"] },
"Heap": { desc: "Auto-capture analytics.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$500M", domain: "heap.io", rel: ["Amplitude", "Mixpanel", "Segment"] },
"PostHog": { desc: "Open-source analytics.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$450M", domain: "posthog.com", rel: ["Amplitude", "Mixpanel", "Heap"] },
"June": { desc: "Product analytics.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "june.so", rel: ["PostHog", "Amplitude", "Mixpanel"] },
"Mutiny": { desc: "AI personalization.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$200M", domain: "mutinyhq.com", rel: ["HubSpot", "6sense", "Demandbase"] },
"Regie.ai": { desc: "AI sales content.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$100M", domain: "regie.ai", rel: ["Outreach", "Salesloft", "Apollo"] },
"Lavender": { desc: "AI email coaching.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "lavender.ai", rel: ["Outreach", "Salesloft", "HubSpot"] },
"Warmly": { desc: "AI visitor signals.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "warmly.ai", rel: ["6sense", "Demandbase", "Clay"] },
"Clearbit": { desc: "B2B data enrichment.", cat: "Marketing AI", hq: "San Francisco, CA", val: "HubSpot", domain: "clearbit.com", rel: ["ZoomInfo", "Clay", "Apollo"] },
"Lusha": { desc: "B2B contact data.", cat: "Marketing AI", hq: "Boston, MA", val: "$400M", domain: "lusha.com", rel: ["ZoomInfo", "Clearbit", "Apollo"] },
"Cognism": { desc: "B2B sales intelligence.", cat: "Marketing AI", hq: "London, UK", val: "$500M", domain: "cognism.com", rel: ["ZoomInfo", "Lusha", "Apollo"] },
"LeadIQ": { desc: "Sales prospecting.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$100M", domain: "leadiq.com", rel: ["Apollo", "ZoomInfo", "Lusha"] },
"People.ai": { desc: "Revenue intelligence.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$1.1B", domain: "people.ai", rel: ["Gong", "Clari", "6sense"] },
"Chorus": { desc: "Conversation intelligence.", cat: "Marketing AI", hq: "San Francisco, CA", val: "ZoomInfo", domain: "chorus.ai", rel: ["Gong", "Clari", "ZoomInfo"] },
"Avoma": { desc: "AI meeting assistant.", cat: "Marketing AI", hq: "Palo Alto, CA", val: "$50M", domain: "avoma.com", rel: ["Gong", "Chorus", "Otter.ai"] },
"Wingman": { desc: "Sales coaching AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$50M", domain: "trywingman.com", rel: ["Gong", "Clari", "Chorus"] },
"Jiminny": { desc: "Revenue intelligence.", cat: "Marketing AI", hq: "London, UK", val: "$50M", domain: "jiminny.com", rel: ["Gong", "Chorus", "Clari"] },
"SalesLoft": { desc: "Sales engagement.", cat: "Marketing AI", hq: "Atlanta, GA", val: "$2.3B", domain: "salesloft.com", rel: ["Outreach", "Gong", "Apollo"] },
"Groove": { desc: "Sales engagement.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$500M", domain: "groove.co", rel: ["SalesLoft", "Outreach", "Gong"] },
"Mixmax": { desc: "Sales engagement.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$100M", domain: "mixmax.com", rel: ["SalesLoft", "Outreach", "Groove"] },
"Reply.io": { desc: "Sales outreach AI.", cat: "Marketing AI", hq: "San Jose, CA", val: "$50M", domain: "reply.io", rel: ["Apollo", "Outreach", "SalesLoft"] },
"Lemlist": { desc: "Cold outreach AI.", cat: "Marketing AI", hq: "Paris, France", val: "$50M", domain: "lemlist.com", rel: ["Apollo", "Reply.io", "Outreach"] },
"Instantly": { desc: "Cold email AI.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "instantly.ai", rel: ["Lemlist", "Reply.io", "Apollo"] },
"Smartlead": { desc: "Cold email automation.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "smartlead.ai", rel: ["Instantly", "Lemlist", "Reply.io"] },

// Customer Support & Contact Center
"Intercom Fin": { desc: "AI customer support agent.", cat: "Customer Support", hq: "San Francisco, CA", val: "Intercom", domain: "intercom.com", rel: ["Intercom", "Sierra", "Ada"] },
"Zendesk Answer Bot": { desc: "AI support automation.", cat: "Customer Support", hq: "San Francisco, CA", val: "Zendesk", domain: "zendesk.com", rel: ["Zendesk", "Intercom", "Freshworks"] },
"Tidio": { desc: "AI chatbot platform.", cat: "Customer Support", hq: "San Francisco, CA", val: "$100M", domain: "tidio.com", rel: ["Intercom", "Zendesk", "Drift"] },
"Chatfuel": { desc: "AI chatbot builder.", cat: "Customer Support", hq: "San Francisco, CA", val: "$50M", domain: "chatfuel.com", rel: ["Tidio", "ManyChat", "Intercom"] },
"ManyChat": { desc: "Chat marketing AI.", cat: "Customer Support", hq: "San Francisco, CA", val: "$100M", domain: "manychat.com", rel: ["Chatfuel", "Tidio", "Intercom"] },
"Landbot": { desc: "No-code chatbots.", cat: "Customer Support", hq: "Barcelona, Spain", val: "$50M", domain: "landbot.io", rel: ["Chatfuel", "ManyChat", "Tidio"] },
"Botpress": { desc: "Open-source chatbots.", cat: "Customer Support", hq: "Quebec City, Canada", val: "$50M", domain: "botpress.com", rel: ["Rasa", "Voiceflow", "Landbot"] },
"Kommunicate": { desc: "AI customer support.", cat: "Customer Support", hq: "Bangalore, India", val: "$25M", domain: "kommunicate.io", rel: ["Intercom", "Freshworks", "Tidio"] },
"Certainly": { desc: "AI chatbot platform.", cat: "Customer Support", hq: "Copenhagen, Denmark", val: "$25M", domain: "certainly.io", rel: ["Tidio", "Intercom", "Zendesk"] },
"Ultimate.ai": { desc: "Customer support AI.", cat: "Customer Support", hq: "Berlin, Germany", val: "Zendesk", domain: "ultimate.ai", rel: ["Zendesk", "Ada", "Intercom"] },
"Haptik": { desc: "Conversational AI.", cat: "Customer Support", hq: "Mumbai, India", val: "$200M", domain: "haptik.ai", rel: ["Yellow.ai", "Gupshup", "Kore.ai"] },
"Verloop": { desc: "AI customer support.", cat: "Customer Support", hq: "Bangalore, India", val: "$50M", domain: "verloop.io", rel: ["Haptik", "Yellow.ai", "Kommunicate"] },
"Kaleyra": { desc: "CPaaS with AI.", cat: "Customer Support", hq: "Milan, Italy", val: "$500M", domain: "kaleyra.com", rel: ["Twilio", "Gupshup", "Infobip"] },
"Infobip": { desc: "Communications AI.", cat: "Customer Support", hq: "London, UK", val: "$1B", domain: "infobip.com", rel: ["Twilio", "Kaleyra", "Gupshup"] },
"Bird": { desc: "Communications platform.", cat: "Customer Support", hq: "Amsterdam, Netherlands", val: "$800M", domain: "bird.com", rel: ["Twilio", "Infobip", "Gupshup"] },
"Freshchat": { desc: "AI messaging.", cat: "Customer Support", hq: "San Mateo, CA", val: "Freshworks", domain: "freshworks.com", rel: ["Freshworks", "Intercom", "Zendesk"] },
"Acquire": { desc: "Customer engagement AI.", cat: "Customer Support", hq: "San Francisco, CA", val: "$50M", domain: "acquire.io", rel: ["Intercom", "Drift", "Zendesk"] },
"Qualified": { desc: "Conversational marketing.", cat: "Customer Support", hq: "San Francisco, CA", val: "$1B-$1.5B", domain: "qualified.com", rel: ["Drift", "Intercom", "6sense"] },
"Chili Piper": { desc: "Meeting scheduling AI.", cat: "Customer Support", hq: "New York, NY", val: "$500M", domain: "chilipiper.com", rel: ["Calendly", "Drift", "HubSpot"] },
"Calendly": { desc: "Scheduling with AI.", cat: "Customer Support", hq: "Atlanta, GA", val: "$3B", domain: "calendly.com", rel: ["Chili Piper", "HubSpot", "Zoom"] },

// Education AI
"Quizizz": { desc: "AI learning games.", cat: "Education", hq: "Santa Monica, CA", val: "$300M", domain: "quizizz.com", rel: ["Quizlet", "Kahoot", "Duolingo"] },
"Kahoot": { desc: "Game-based learning.", cat: "Education", hq: "Oslo, Norway", val: "$2B", domain: "kahoot.com", rel: ["Quizizz", "Quizlet", "Duolingo"] },
"Knowunity": { desc: "AI study app.", cat: "Education", hq: "Berlin, Germany", val: "$100M", domain: "knowunity.de", rel: ["Quizlet", "Duolingo", "Photomath"] },
"Gradescope": { desc: "AI grading.", cat: "Education", hq: "Berkeley, CA", val: "Turnitin", domain: "gradescope.com", rel: ["Turnitin", "Coursera", "Canvas"] },
"Turnitin": { desc: "AI plagiarism detection.", cat: "Education", hq: "Oakland, CA", val: "$1.7B", domain: "turnitin.com", rel: ["Gradescope", "Canvas", "Coursera"] },
"Canvas": { desc: "LMS with AI.", cat: "Education", hq: "Salt Lake City, UT", val: "Instructure", domain: "instructure.com", rel: ["Turnitin", "Coursera", "Blackboard"] },
"Blackboard": { desc: "Education tech AI.", cat: "Education", hq: "Reston, VA", val: "Anthology", domain: "blackboard.com", rel: ["Canvas", "Coursera", "Turnitin"] },
"Udemy": { desc: "Online learning.", cat: "Education", hq: "San Francisco, CA", val: "$3B", domain: "udemy.com", rel: ["Coursera", "Skillshare", "LinkedIn Learning"] },
"Skillshare": { desc: "Creative learning.", cat: "Education", hq: "New York, NY", val: "$200M", domain: "skillshare.com", rel: ["Udemy", "Coursera", "Masterclass"] },
"Masterclass": { desc: "Celebrity courses.", cat: "Education", hq: "San Francisco, CA", val: "$2.75B", domain: "masterclass.com", rel: ["Udemy", "Skillshare", "Coursera"] },
"Outlier.org": { desc: "AI college courses.", cat: "Education", hq: "New York, NY", val: "$100M", domain: "outlier.org", rel: ["Coursera", "edX", "Masterclass"] },
"edX": { desc: "Online courses.", cat: "Education", hq: "Cambridge, MA", val: "2U", domain: "edx.org", rel: ["Coursera", "Udemy", "Outlier.org"] },
"Synthesis": { desc: "AI tutoring for kids.", cat: "Education", hq: "Austin, TX", val: "$50M", domain: "synthesis.com", rel: ["Brilliant", "Khan Academy", "Duolingo"] },
"Numerade": { desc: "AI video tutoring.", cat: "Education", hq: "Los Angeles, CA", val: "$100M", domain: "numerade.com", rel: ["Chegg", "Photomath", "Brilliant"] },
"Mathway": { desc: "AI math solver.", cat: "Education", hq: "Dallas, TX", val: "Chegg", domain: "mathway.com", rel: ["Photomath", "Chegg", "Brilliant"] },
"Socratic": { desc: "AI homework help.", cat: "Education", hq: "Mountain View, CA", val: "Google", domain: "socratic.org", rel: ["Photomath", "Mathway", "Chegg"] },
"Ello": { desc: "AI reading tutor.", cat: "Education", hq: "San Francisco, CA", val: "$50M", domain: "helloello.com", rel: ["Duolingo", "Khan Academy", "Speak"] },
"Curipod": { desc: "AI lesson planning.", cat: "Education", hq: "Oslo, Norway", val: "$25M", domain: "curipod.com", rel: ["Kahoot", "Quizizz", "Canvas"] },
"Khanmigo": { desc: "Khan Academy AI tutor.", cat: "Education", hq: "Mountain View, CA", val: "Khan Academy", domain: "khanacademy.org", rel: ["Khan Academy", "Duolingo", "Brilliant"] },
"Magic School": { desc: "AI for teachers.", cat: "Education", hq: "San Francisco, CA", val: "$50M", domain: "magicschool.ai", rel: ["Curipod", "Canvas", "Kahoot"] },

// Enterprise AI & Productivity
"Notion AI": { desc: "AI writing in Notion.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Notion", domain: "notion.so", rel: ["Notion", "Coda", "Airtable"] },
"Coda AI": { desc: "AI doc automation.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Coda", domain: "coda.io", rel: ["Coda", "Notion", "Airtable"] },
"Craft": { desc: "AI documents.", cat: "Enterprise AI", hq: "Budapest, Hungary", val: "$100M", domain: "craft.do", rel: ["Notion", "Coda", "Obsidian"] },
"Obsidian": { desc: "AI note-taking.", cat: "Enterprise AI", hq: "Victoria, Canada", val: "$25M", domain: "obsidian.md", rel: ["Notion", "Craft", "Roam Research"] },
"Roam Research": { desc: "Networked thought.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$200M", domain: "roamresearch.com", rel: ["Obsidian", "Notion", "Logseq"] },
"Logseq": { desc: "Open-source notes.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$25M", domain: "logseq.com", rel: ["Roam Research", "Obsidian", "Notion"] },
"Mem": { desc: "AI notes app.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "mem.ai", rel: ["Notion", "Obsidian", "Roam Research"] },
"Taskade": { desc: "AI productivity.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$25M", domain: "taskade.com", rel: ["Notion", "ClickUp", "Asana"] },
"ClickUp": { desc: "Project management AI.", cat: "Enterprise AI", hq: "San Diego, CA", val: "$4B", domain: "clickup.com", rel: ["Asana", "Monday", "Notion"] },
"Asana": { desc: "Work management AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$5B", domain: "asana.com", rel: ["ClickUp", "Monday", "Notion"] },
"Monday.com": { desc: "Work OS with AI.", cat: "Enterprise AI", hq: "Tel Aviv, Israel", val: "$9B", domain: "monday.com", rel: ["Asana", "ClickUp", "Notion"] },
"Linear": { desc: "Issue tracking.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$400M", domain: "linear.app", rel: ["Asana", "Monday", "ClickUp"] },
"Shortcut": { desc: "Project management.", cat: "Enterprise AI", hq: "New York, NY", val: "$100M", domain: "shortcut.com", rel: ["Linear", "Asana", "ClickUp"] },
"Height": { desc: "AI project management.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$25M", domain: "height.app", rel: ["Linear", "Asana", "ClickUp"] },
"Sunsama": { desc: "AI daily planner.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$25M", domain: "sunsama.com", rel: ["Notion", "ClickUp", "Asana"] },
"Reclaim.ai": { desc: "AI calendar.", cat: "Enterprise AI", hq: "Portland, OR", val: "$50M", domain: "reclaim.ai", rel: ["Calendly", "Sunsama", "Clockwise"] },
"Clockwise": { desc: "AI calendar management.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "getclockwise.com", rel: ["Reclaim.ai", "Calendly", "Sunsama"] },
"Motion": { desc: "AI calendar & tasks.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "usemotion.com", rel: ["Reclaim.ai", "Clockwise", "Sunsama"] },
"Superhuman": { desc: "AI email client.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$825M", domain: "superhuman.com", rel: ["Fyxer", "Front", "Shortwave"] },
"Shortwave": { desc: "AI email for teams.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$50M", domain: "shortwave.com", rel: ["Superhuman", "Front", "Fyxer"] },
"SaneBox": { desc: "AI email filtering.", cat: "Enterprise AI", hq: "Boston, MA", val: "$25M", domain: "sanebox.com", rel: ["Superhuman", "Shortwave", "Fyxer"] },
"Loom": { desc: "AI video messaging.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Atlassian", domain: "loom.com", rel: ["Atlassian", "Slack", "Notion"] },
"Slack": { desc: "Team chat with AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Salesforce", domain: "slack.com", rel: ["Salesforce", "Microsoft Teams", "Notion"] },
"Discord": { desc: "Community with AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$15B", domain: "discord.com", rel: ["Slack", "Microsoft Teams", "Zoom"] },
"Zoom": { desc: "Video meetings AI.", cat: "Enterprise AI", hq: "San Jose, CA", val: "$23B", domain: "zoom.us", rel: ["Microsoft Teams", "Google Meet", "Slack"] },
"Otter.ai": { desc: "Meeting transcription.", cat: "Enterprise AI", hq: "Mountain View, CA", val: "$400M", domain: "otter.ai", rel: ["Zoom", "Fireflies.ai", "Granola"] },
"Krisp": { desc: "AI noise cancellation.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "krisp.ai", rel: ["Zoom", "Otter.ai", "Descript"] },
"tl;dv": { desc: "AI meeting recorder.", cat: "Enterprise AI", hq: "Lisbon, Portugal", val: "$25M", domain: "tldv.io", rel: ["Otter.ai", "Fireflies.ai", "Fathom"] },
"Read AI": { desc: "AI meeting copilot.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$50M", domain: "read.ai", rel: ["Otter.ai", "Fireflies.ai", "tl;dv"] },
"Fellow": { desc: "AI meeting notes.", cat: "Enterprise AI", hq: "Ottawa, Canada", val: "$100M", domain: "fellow.app", rel: ["Otter.ai", "Read AI", "Granola"] },
"Hypercontext": { desc: "AI meeting agendas.", cat: "Enterprise AI", hq: "Toronto, Canada", val: "$25M", domain: "hypercontext.com", rel: ["Fellow", "Otter.ai", "Read AI"] },
"Hugo": { desc: "AI meeting notes.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$25M", domain: "hugo.team", rel: ["Fellow", "Otter.ai", "Fireflies.ai"] },

// Image & Creative AI
"Krea": { desc: "AI creative tools.", cat: "Image Generation", hq: "San Francisco, CA", val: "$50M", domain: "krea.ai", rel: ["Midjourney", "Stability AI", "Leonardo.AI"] },
"Playground AI": { desc: "AI image creation.", cat: "Image Generation", hq: "San Francisco, CA", val: "$50M", domain: "playground.ai", rel: ["Midjourney", "Leonardo.AI", "Krea"] },
"Clipdrop": { desc: "AI image editing.", cat: "Image Generation", hq: "Paris, France", val: "Stability AI", domain: "clipdrop.co", rel: ["Stability AI", "Photoroom", "Adobe Firefly"] },
"Lexica": { desc: "AI image search & gen.", cat: "Image Generation", hq: "San Francisco, CA", val: "$25M", domain: "lexica.art", rel: ["Midjourney", "Stability AI", "Leonardo.AI"] },
"NightCafe": { desc: "AI art generator.", cat: "Image Generation", hq: "Sydney, Australia", val: "$25M", domain: "nightcafe.studio", rel: ["Midjourney", "Leonardo.AI", "Stability AI"] },
"Artbreeder": { desc: "Collaborative AI art.", cat: "Image Generation", hq: "San Francisco, CA", val: "$25M", domain: "artbreeder.com", rel: ["Midjourney", "Leonardo.AI", "Stability AI"] },
"Lensa": { desc: "AI photo editing.", cat: "Image Generation", hq: "San Francisco, CA", val: "$200M", domain: "prisma-ai.com", rel: ["Photoroom", "Adobe Firefly", "Canva"] },
"Prisma": { desc: "AI photo filters.", cat: "Image Generation", hq: "San Francisco, CA", val: "$100M", domain: "prisma-ai.com", rel: ["Lensa", "Photoroom", "Canva"] },
"Remove.bg": { desc: "AI background removal.", cat: "Image Generation", hq: "Vienna, Austria", val: "Canva", domain: "remove.bg", rel: ["Canva", "Photoroom", "Clipdrop"] },
"Vectorizer.ai": { desc: "AI vectorization.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10M", domain: "vectorizer.ai", rel: ["Canva", "Adobe Firefly", "Figma"] },
"Magnific": { desc: "AI image upscaling.", cat: "Image Generation", hq: "Madrid, Spain", val: "$25M", domain: "magnific.ai", rel: ["Topaz Labs", "Stability AI", "Midjourney"] },
"Topaz Labs": { desc: "AI photo enhancement.", cat: "Image Generation", hq: "Dallas, TX", val: "$100M", domain: "topazlabs.com", rel: ["Magnific", "Adobe Firefly", "Stability AI"] },
"DaVinci AI": { desc: "AI video editing.", cat: "Video Generation", hq: "Melbourne, Australia", val: "Blackmagic Design", domain: "blackmagicdesign.com", rel: ["Runway", "Adobe Premiere", "Descript"] },
"CapCut": { desc: "AI video editing.", cat: "Video Generation", hq: "Los Angeles, CA", val: "ByteDance", domain: "capcut.com", rel: ["Runway", "Descript", "InVideo"] },
"Veed.io": { desc: "Online video AI.", cat: "Video Generation", hq: "London, UK", val: "$100M", domain: "veed.io", rel: ["Descript", "CapCut", "InVideo"] },
"Kapwing": { desc: "AI video editor.", cat: "Video Generation", hq: "San Francisco, CA", val: "$100M", domain: "kapwing.com", rel: ["Veed.io", "Descript", "CapCut"] },
"Wondershare Filmora": { desc: "AI video editing.", cat: "Video Generation", hq: "Shenzhen, China", val: "$500M", domain: "filmora.wondershare.com", rel: ["CapCut", "Veed.io", "Kapwing"] },
"Colossyan": { desc: "AI video avatars.", cat: "Video Generation", hq: "London, UK", val: "$50M", domain: "colossyan.com", rel: ["Synthesia", "HeyGen", "D-ID"] },
"Elai": { desc: "AI video creation.", cat: "Video Generation", hq: "San Francisco, CA", val: "$25M", domain: "elai.io", rel: ["Synthesia", "HeyGen", "Colossyan"] },
"Hour One": { desc: "AI video avatars.", cat: "Video Generation", hq: "Tel Aviv, Israel", val: "$50M", domain: "hourone.ai", rel: ["Synthesia", "HeyGen", "D-ID"] },
"Rephrase.ai": { desc: "AI video generation.", cat: "Video Generation", hq: "Bangalore, India", val: "$50M", domain: "rephrase.ai", rel: ["Synthesia", "HeyGen", "Hour One"] },
"Tavus": { desc: "AI video personalization.", cat: "Video Generation", hq: "San Francisco, CA", val: "$50M", domain: "tavus.io", rel: ["HeyGen", "Synthesia", "D-ID"] },
"Gan.ai": { desc: "AI video personalization.", cat: "Video Generation", hq: "Mumbai, India", val: "$25M", domain: "gan.ai", rel: ["Tavus", "HeyGen", "Synthesia"] },
"Munch": { desc: "AI video repurposing.", cat: "Video Generation", hq: "Tel Aviv, Israel", val: "$50M", domain: "getmunch.com", rel: ["Opus Clip", "Vidyo.ai", "Descript"] },
"Vizard": { desc: "AI video editor.", cat: "Video Generation", hq: "San Francisco, CA", val: "$25M", domain: "vizard.ai", rel: ["Descript", "CapCut", "Veed.io"] },
"Topview": { desc: "AI video ads.", cat: "Video Generation", hq: "San Francisco, CA", val: "$25M", domain: "topview.ai", rel: ["Synthesia", "HeyGen", "InVideo"] },
"Steve.ai": { desc: "AI video maker.", cat: "Video Generation", hq: "San Francisco, CA", val: "$25M", domain: "steve.ai", rel: ["InVideo", "Lumen5", "Pictory"] },
"Fliki": { desc: "AI video from text.", cat: "Video Generation", hq: "San Francisco, CA", val: "$25M", domain: "fliki.ai", rel: ["InVideo", "Lumen5", "Steve.ai"] },
"Deepbrain AI": { desc: "AI video avatars.", cat: "Video Generation", hq: "Seoul, South Korea", val: "$100M", domain: "deepbrain.io", rel: ["Synthesia", "HeyGen", "D-ID"] },
"Sora Waitlist": { desc: "OpenAI video gen waiting.", cat: "Video Generation", hq: "San Francisco, CA", val: "OpenAI", domain: "openai.com", rel: ["OpenAI", "Runway", "Pika"] },
"Kling AI": { desc: "Chinese video generation.", cat: "Video Generation", hq: "Beijing, China", val: "Kuaishou", domain: "klingai.com", rel: ["Runway", "Pika", "Luma AI"] },
"Vidu": { desc: "Chinese video AI.", cat: "Video Generation", hq: "Beijing, China", val: "$200M", domain: "vidu.io", rel: ["Kling AI", "Runway", "Pika"] },
"Haiper": { desc: "AI video generation.", cat: "Video Generation", hq: "London, UK", val: "$100M", domain: "haiper.ai", rel: ["Runway", "Pika", "Luma AI"] },
"Genmo": { desc: "AI creative video.", cat: "Video Generation", hq: "San Francisco, CA", val: "$50M", domain: "genmo.ai", rel: ["Runway", "Pika", "Luma AI"] },
"Kaiber": { desc: "AI video for creators.", cat: "Video Generation", hq: "Los Angeles, CA", val: "$25M", domain: "kaiber.ai", rel: ["Runway", "Pika", "Genmo"] },

// Audio & Music AI
"Stability Audio": { desc: "AI music generation.", cat: "Music AI", hq: "London, UK", val: "Stability AI", domain: "stability.ai", rel: ["Stability AI", "Suno", "Udio"] },
"Moises": { desc: "AI music separation.", cat: "Music AI", hq: "Salt Lake City, UT", val: "$50M", domain: "moises.ai", rel: ["Suno", "Descript", "Spleeter"] },
"Audioshake": { desc: "AI audio separation.", cat: "Music AI", hq: "San Francisco, CA", val: "$25M", domain: "audioshake.ai", rel: ["Moises", "Suno", "ElevenLabs"] },
"BandLab": { desc: "Music creation platform.", cat: "Music AI", hq: "Singapore", val: "$500M", domain: "bandlab.com", rel: ["Suno", "Udio", "Boomy"] },
"Endel": { desc: "AI soundscapes.", cat: "Music AI", hq: "Berlin, Germany", val: "$25M", domain: "endel.io", rel: ["Suno", "AIVA", "Boomy"] },
"Amper": { desc: "AI music composition.", cat: "Music AI", hq: "New York, NY", val: "Shutterstock", domain: "shutterstock.com", rel: ["Suno", "Udio", "AIVA"] },
"Epidemic Sound": { desc: "Music licensing AI.", cat: "Music AI", hq: "Stockholm, Sweden", val: "$1.4B", domain: "epidemicsound.com", rel: ["Artlist", "Suno", "Udio"] },
"Splash": { desc: "AI music for games.", cat: "Music AI", hq: "San Francisco, CA", val: "$25M", domain: "splash.live", rel: ["Suno", "Udio", "AIVA"] },
"Beatoven": { desc: "AI music for video.", cat: "Music AI", hq: "San Francisco, CA", val: "$10M", domain: "beatoven.ai", rel: ["Suno", "Soundraw", "AIVA"] },
"Voice.ai": { desc: "Real-time voice changer.", cat: "Audio AI", hq: "San Francisco, CA", val: "$25M", domain: "voice.ai", rel: ["ElevenLabs", "Resemble AI", "Descript"] },
"Kits.ai": { desc: "AI voice models.", cat: "Audio AI", hq: "San Francisco, CA", val: "$25M", domain: "kits.ai", rel: ["ElevenLabs", "Voice.ai", "Resemble AI"] },
"WellSaid Labs": { desc: "AI voiceover.", cat: "Audio AI", hq: "Seattle, WA", val: "$100M", domain: "wellsaidlabs.com", rel: ["ElevenLabs", "Murf", "LOVO"] },
"Respeecher": { desc: "AI voice cloning.", cat: "Audio AI", hq: "Kyiv, Ukraine", val: "$25M", domain: "respeecher.com", rel: ["ElevenLabs", "Resemble AI", "WellSaid Labs"] },
"Sonantic": { desc: "AI voices for games.", cat: "Audio AI", hq: "London, UK", val: "Spotify", domain: "spotify.com", rel: ["Spotify", "ElevenLabs", "WellSaid Labs"] },
"Voicify": { desc: "AI voice covers.", cat: "Audio AI", hq: "San Francisco, CA", val: "$10M", domain: "voicify.ai", rel: ["ElevenLabs", "Kits.ai", "Voice.ai"] },
"Coqui": { desc: "Open-source TTS.", cat: "Audio AI", hq: "Berlin, Germany", val: "$25M", domain: "coqui.ai", rel: ["ElevenLabs", "OpenAI Whisper", "Deepgram"] },
"Neets.ai": { desc: "AI voice generation.", cat: "Audio AI", hq: "San Francisco, CA", val: "$10M", domain: "neets.ai", rel: ["ElevenLabs", "Coqui", "WellSaid Labs"] },
"Whisper AI": { desc: "OpenAI speech recognition.", cat: "Audio AI", hq: "San Francisco, CA", val: "OpenAI", domain: "openai.com", rel: ["OpenAI", "Deepgram", "AssemblyAI"] },
"Gladia": { desc: "AI audio transcription.", cat: "Audio AI", hq: "Paris, France", val: "$25M", domain: "gladia.io", rel: ["Deepgram", "AssemblyAI", "Whisper AI"] },
"Speechmatics": { desc: "Speech recognition.", cat: "Audio AI", hq: "Cambridge, UK", val: "$100M", domain: "speechmatics.com", rel: ["Deepgram", "AssemblyAI", "Gladia"] },
"Verbit": { desc: "AI transcription.", cat: "Audio AI", hq: "Tel Aviv, Israel", val: "$500M", domain: "verbit.ai", rel: ["Rev", "Otter.ai", "Deepgram"] },
"Trint": { desc: "AI transcription.", cat: "Audio AI", hq: "London, UK", val: "$100M", domain: "trint.com", rel: ["Rev", "Otter.ai", "Verbit"] },
"Sonix": { desc: "AI transcription.", cat: "Audio AI", hq: "San Francisco, CA", val: "$25M", domain: "sonix.ai", rel: ["Rev", "Otter.ai", "Trint"] },
"Happy Scribe": { desc: "AI transcription.", cat: "Audio AI", hq: "Barcelona, Spain", val: "$25M", domain: "happyscribe.com", rel: ["Rev", "Sonix", "Trint"] },
"Amberscript": { desc: "AI transcription.", cat: "Audio AI", hq: "Amsterdam, Netherlands", val: "$25M", domain: "amberscript.com", rel: ["Happy Scribe", "Sonix", "Rev"] },

// Additional companies to reach 1000+ total

// More Foundation Models
"Qwen": { desc: "Alibaba's AI models.", cat: "Foundation Models", hq: "Hangzhou, China", val: "Alibaba", domain: "qwenlm.github.io", rel: ["Alibaba Cloud", "Baidu", "Zhipu AI"] },
"Gemma": { desc: "Google's open models.", cat: "Foundation Models", hq: "Mountain View, CA", val: "Google", domain: "ai.google.dev", rel: ["Google DeepMind", "Meta AI", "Mistral AI"] },
"Command R": { desc: "Cohere's RAG models.", cat: "Foundation Models", hq: "Toronto, Canada", val: "Cohere", domain: "cohere.com", rel: ["Cohere", "Anthropic", "OpenAI"] },
"Falcon": { desc: "TII foundation models.", cat: "Foundation Models", hq: "Abu Dhabi, UAE", val: "TII", domain: "falconllm.tii.ae", rel: ["Mistral AI", "Meta AI", "Hugging Face"] },
"Jamba": { desc: "AI21's hybrid model.", cat: "Foundation Models", hq: "Tel Aviv, Israel", val: "AI21 Labs", domain: "ai21.com", rel: ["AI21 Labs", "Cohere", "Anthropic"] },
"StableLM": { desc: "Stability's LLMs.", cat: "Foundation Models", hq: "London, UK", val: "Stability AI", domain: "stability.ai", rel: ["Stability AI", "Meta AI", "Mistral AI"] },
"DBRX": { desc: "Databricks foundation model.", cat: "Foundation Models", hq: "San Francisco, CA", val: "Databricks", domain: "databricks.com", rel: ["Databricks", "Mistral AI", "Meta AI"] },
"Arctic": { desc: "Snowflake's LLM.", cat: "Foundation Models", hq: "Bozeman, MT", val: "Snowflake", domain: "snowflake.com", rel: ["Snowflake", "Databricks", "Mistral AI"] },
"WizardLM": { desc: "Microsoft fine-tuned models.", cat: "Foundation Models", hq: "Redmond, WA", val: "Microsoft", domain: "github.com/nlpxucan", rel: ["Microsoft", "Meta AI", "Hugging Face"] },
"Vicuna": { desc: "Open-source chat model.", cat: "Foundation Models", hq: "Berkeley, CA", val: "LMSYS", domain: "lmsys.org", rel: ["LMArena", "Meta AI", "Hugging Face"] },
"Dolphin": { desc: "Uncensored models.", cat: "Foundation Models", hq: "Decentralized", val: "Open-source", domain: "erichartford.com", rel: ["Hugging Face", "Meta AI", "Nous Research"] },
"Phi": { desc: "Microsoft small models.", cat: "Foundation Models", hq: "Redmond, WA", val: "Microsoft", domain: "microsoft.com", rel: ["Microsoft", "Meta AI", "Google"] },
"Grok": { desc: "xAI's chatbot.", cat: "Foundation Models", hq: "Palo Alto, CA", val: "xAI", domain: "x.ai", rel: ["xAI", "OpenAI", "Anthropic"] },
"Ernie": { desc: "Baidu's AI models.", cat: "Foundation Models", hq: "Beijing, China", val: "Baidu", domain: "baidu.com", rel: ["Baidu", "Alibaba Cloud", "Zhipu AI"] },
"Spark": { desc: "iFlytek's AI models.", cat: "Foundation Models", hq: "Hefei, China", val: "iFlytek", domain: "iflytek.com", rel: ["iFlytek", "Baidu", "Alibaba Cloud"] },
"ChatGLM": { desc: "Zhipu's chat models.", cat: "Foundation Models", hq: "Beijing, China", val: "Zhipu AI", domain: "zhipuai.cn", rel: ["Zhipu AI", "Baidu", "01.AI"] },
"InternLM": { desc: "Shanghai AI Lab models.", cat: "Foundation Models", hq: "Shanghai, China", val: "Shanghai AI Lab", domain: "internlm.org", rel: ["Zhipu AI", "Baidu", "SenseTime"] },
"Yuan": { desc: "Inspur AI models.", cat: "Foundation Models", hq: "Jinan, China", val: "Inspur", domain: "air.inspur.com", rel: ["Baidu", "Alibaba Cloud", "Zhipu AI"] },

// More Enterprise AI
"Asana Intelligence": { desc: "AI work management.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Asana", domain: "asana.com", rel: ["Asana", "Monday.com", "ClickUp"] },
"ClickUp Brain": { desc: "AI project assistant.", cat: "Enterprise AI", hq: "San Diego, CA", val: "ClickUp", domain: "clickup.com", rel: ["ClickUp", "Asana", "Monday.com"] },
"Hiver": { desc: "AI shared inbox.", cat: "Enterprise AI", hq: "San Jose, CA", val: "$50M", domain: "hiverhq.com", rel: ["Front", "Help Scout", "Intercom"] },
"Missive": { desc: "AI team inbox.", cat: "Enterprise AI", hq: "Quebec City, Canada", val: "$25M", domain: "missiveapp.com", rel: ["Front", "Hiver", "Help Scout"] },
"Twist": { desc: "Async team communication.", cat: "Enterprise AI", hq: "Remote", val: "$50M", domain: "twist.com", rel: ["Slack", "Discord", "Microsoft Teams"] },
"Threads": { desc: "Meta's text platform.", cat: "Enterprise AI", hq: "Menlo Park, CA", val: "Meta", domain: "threads.net", rel: ["Meta AI", "Twitter", "Discord"] },
"Beehiiv": { desc: "AI newsletter platform.", cat: "Enterprise AI", hq: "New York, NY", val: "$75M", domain: "beehiiv.com", rel: ["Substack", "ConvertKit", "Mailchimp"] },
"Substack": { desc: "Newsletter AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$650M", domain: "substack.com", rel: ["Beehiiv", "Ghost", "Medium"] },
"Ghost": { desc: "Publishing platform.", cat: "Enterprise AI", hq: "Singapore", val: "$50M", domain: "ghost.org", rel: ["Substack", "Medium", "Beehiiv"] },
"Medium": { desc: "Writing platform AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$600M", domain: "medium.com", rel: ["Substack", "Ghost", "Beehiiv"] },
"ConvertKit": { desc: "Creator marketing AI.", cat: "Enterprise AI", hq: "Boise, ID", val: "$100M", domain: "convertkit.com", rel: ["Beehiiv", "Mailchimp", "Substack"] },
"Mailchimp": { desc: "Email marketing AI.", cat: "Enterprise AI", hq: "Atlanta, GA", val: "Intuit", domain: "mailchimp.com", rel: ["ConvertKit", "HubSpot", "Intuit"] },
"Klaviyo": { desc: "E-commerce email AI.", cat: "Enterprise AI", hq: "Boston, MA", val: "$9.5B", domain: "klaviyo.com", rel: ["Mailchimp", "HubSpot", "Shopify"] },
"Attentive": { desc: "SMS marketing AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$7B", domain: "attentive.com", rel: ["Klaviyo", "Twilio", "Mailchimp"] },
"Postscript": { desc: "E-commerce SMS AI.", cat: "Enterprise AI", hq: "Scottsdale, AZ", val: "$500M", domain: "postscript.io", rel: ["Attentive", "Klaviyo", "Shopify"] },
"Yotpo": { desc: "E-commerce marketing AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$1.4B", domain: "yotpo.com", rel: ["Klaviyo", "Shopify", "Attentive"] },
"Shopify": { desc: "E-commerce with AI.", cat: "Enterprise AI", hq: "Ottawa, Canada", val: "$90B", domain: "shopify.com", rel: ["Amazon", "Klaviyo", "Stripe"] },
"BigCommerce": { desc: "E-commerce platform.", cat: "Enterprise AI", hq: "Austin, TX", val: "$500M", domain: "bigcommerce.com", rel: ["Shopify", "Klaviyo", "Stripe"] },
"Squarespace": { desc: "Website builder AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$7B", domain: "squarespace.com", rel: ["Wix", "Shopify", "Webflow"] },
"Wix": { desc: "Website AI builder.", cat: "Enterprise AI", hq: "Tel Aviv, Israel", val: "$7B", domain: "wix.com", rel: ["Squarespace", "Webflow", "Shopify"] },
"Webflow": { desc: "No-code web design.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$4B", domain: "webflow.com", rel: ["Wix", "Squarespace", "Framer"] },
"Framer": { desc: "AI website builder.", cat: "Enterprise AI", hq: "Amsterdam, Netherlands", val: "$500M", domain: "framer.com", rel: ["Webflow", "Wix", "Figma"] },
"Duda": { desc: "Website builder.", cat: "Enterprise AI", hq: "Palo Alto, CA", val: "$300M", domain: "duda.co", rel: ["Webflow", "Wix", "Squarespace"] },
"Bubble": { desc: "No-code app builder.", cat: "Enterprise AI", hq: "New York, NY", val: "$100M", domain: "bubble.io", rel: ["Webflow", "Retool", "Airtable"] },
"Glide": { desc: "No-code apps.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "glideapps.com", rel: ["Bubble", "Retool", "Airtable"] },
"Softr": { desc: "No-code web apps.", cat: "Enterprise AI", hq: "Berlin, Germany", val: "$50M", domain: "softr.io", rel: ["Bubble", "Glide", "Airtable"] },

// More Vertical AI
"Tome": { desc: "AI presentations.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$300M", domain: "tome.app", rel: ["Gamma", "Canva", "Figma"] },
"Beautiful.ai": { desc: "AI slide design.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$100M", domain: "beautiful.ai", rel: ["Tome", "Gamma", "Canva"] },
"Pitch": { desc: "Collaborative presentations.", cat: "Marketing AI", hq: "Berlin, Germany", val: "$100M", domain: "pitch.com", rel: ["Tome", "Beautiful.ai", "Canva"] },
"SlidesAI": { desc: "AI slide generation.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "slidesai.io", rel: ["Tome", "Gamma", "Beautiful.ai"] },
"Plus AI": { desc: "AI for Google Slides.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$25M", domain: "plusdocs.com", rel: ["SlidesAI", "Tome", "Gamma"] },
"Decktopus": { desc: "AI presentation maker.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$10M", domain: "decktopus.com", rel: ["Tome", "Gamma", "Beautiful.ai"] },
"Designify": { desc: "AI design automation.", cat: "Marketing AI", hq: "Vienna, Austria", val: "$25M", domain: "designify.com", rel: ["Canva", "Photoroom", "Remove.bg"] },
"Pixlr": { desc: "AI photo editor.", cat: "Image Generation", hq: "Singapore", val: "$100M", domain: "pixlr.com", rel: ["Canva", "Adobe Firefly", "Photoroom"] },
"PicWish": { desc: "AI image tools.", cat: "Image Generation", hq: "Hangzhou, China", val: "$25M", domain: "picwish.com", rel: ["Remove.bg", "Photoroom", "Pixlr"] },
"Fotor": { desc: "AI photo editing.", cat: "Image Generation", hq: "Chengdu, China", val: "$50M", domain: "fotor.com", rel: ["Pixlr", "Canva", "Adobe Firefly"] },
"BeFunky": { desc: "Photo editing AI.", cat: "Image Generation", hq: "San Francisco, CA", val: "$25M", domain: "befunky.com", rel: ["Fotor", "Pixlr", "Canva"] },
"Picsart": { desc: "AI creative platform.", cat: "Image Generation", hq: "San Francisco, CA", val: "$1.5B", domain: "picsart.com", rel: ["Canva", "Adobe Firefly", "Pixlr"] },
"VistaCreate": { desc: "Design platform.", cat: "Image Generation", hq: "Limassol, Cyprus", val: "$200M", domain: "create.vista.com", rel: ["Canva", "Picsart", "Adobe Firefly"] },
"Crello": { desc: "Design software.", cat: "Image Generation", hq: "Limassol, Cyprus", val: "VistaCreate", domain: "create.vista.com", rel: ["VistaCreate", "Canva", "Picsart"] },
"Snappa": { desc: "Quick graphic design.", cat: "Image Generation", hq: "Ottawa, Canada", val: "$25M", domain: "snappa.com", rel: ["Canva", "VistaCreate", "Picsart"] },
"RelayThat": { desc: "Automated design.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10M", domain: "relaythat.com", rel: ["Canva", "Snappa", "VistaCreate"] },
"Placeit": { desc: "Mockup generator.", cat: "Image Generation", hq: "Guadalajara, Mexico", val: "Envato", domain: "placeit.net", rel: ["Canva", "Figma", "VistaCreate"] },
"Mockuuups": { desc: "AI mockups.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10M", domain: "mockuuups.studio", rel: ["Placeit", "Canva", "Figma"] },
"Looka": { desc: "AI logo design.", cat: "Image Generation", hq: "Toronto, Canada", val: "$50M", domain: "looka.com", rel: ["Canva", "Figma", "Adobe Firefly"] },
"Brandmark": { desc: "AI logo maker.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10M", domain: "brandmark.io", rel: ["Looka", "Canva", "Figma"] },
"Hatchful": { desc: "Shopify logo maker.", cat: "Image Generation", hq: "Ottawa, Canada", val: "Shopify", domain: "hatchful.shopify.com", rel: ["Shopify", "Looka", "Canva"] },
"Tailor Brands": { desc: "AI branding.", cat: "Image Generation", hq: "New York, NY", val: "$100M", domain: "tailorbrands.com", rel: ["Looka", "Canva", "Brandmark"] },
"LogoAI": { desc: "AI logo generator.", cat: "Image Generation", hq: "San Francisco, CA", val: "$10M", domain: "logoai.com", rel: ["Looka", "Brandmark", "Tailor Brands"] },

// More HR & Recruiting AI
"Greenhouse": { desc: "AI recruiting.", cat: "HR Tech", hq: "New York, NY", val: "$1.5B", domain: "greenhouse.io", rel: ["Lever", "Workday", "Eightfold"] },
"Lever": { desc: "Talent acquisition.", cat: "HR Tech", hq: "San Francisco, CA", val: "$500M", domain: "lever.co", rel: ["Greenhouse", "Workday", "Eightfold"] },
"Ashby": { desc: "All-in-one recruiting.", cat: "HR Tech", hq: "San Francisco, CA", val: "$275M", domain: "ashbyhq.com", rel: ["Greenhouse", "Lever", "Eightfold"] },
"Gem": { desc: "Recruiting CRM AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$600M", domain: "gem.com", rel: ["LinkedIn", "Greenhouse", "Lever"] },
"SeekOut": { desc: "AI talent sourcing.", cat: "HR Tech", hq: "Bellevue, WA", val: "$1.2B", domain: "seekout.com", rel: ["LinkedIn", "Gem", "Eightfold"] },
"Fetcher": { desc: "AI recruiting automation.", cat: "HR Tech", hq: "New York, NY", val: "$100M", domain: "fetcher.ai", rel: ["Gem", "SeekOut", "LinkedIn"] },
"Findem": { desc: "AI talent search.", cat: "HR Tech", hq: "Redwood City, CA", val: "$200M", domain: "findem.ai", rel: ["SeekOut", "Gem", "Eightfold"] },
"Entelo": { desc: "AI recruiting.", cat: "HR Tech", hq: "San Francisco, CA", val: "$100M", domain: "entelo.com", rel: ["SeekOut", "Findem", "Gem"] },
"HireEZ": { desc: "AI sourcing.", cat: "HR Tech", hq: "Mountain View, CA", val: "$100M", domain: "hireez.com", rel: ["SeekOut", "Entelo", "Gem"] },
"hireVue": { desc: "AI video interviews.", cat: "HR Tech", hq: "South Jordan, UT", val: "$500M", domain: "hirevue.com", rel: ["Eightfold", "Phenom", "Greenhouse"] },
"Paradox": { desc: "AI recruiting chatbot.", cat: "HR Tech", hq: "Scottsdale, AZ", val: "$500M", domain: "paradox.ai", rel: ["hireVue", "Phenom", "Eightfold"] },
"Textio": { desc: "AI job descriptions.", cat: "HR Tech", hq: "Seattle, WA", val: "$100M", domain: "textio.com", rel: ["Greenhouse", "Lever", "LinkedIn"] },
"Pymetrics": { desc: "AI talent assessment.", cat: "HR Tech", hq: "New York, NY", val: "Harver", domain: "pymetrics.ai", rel: ["hireVue", "Eightfold", "Phenom"] },
"HiredScore": { desc: "AI recruiting.", cat: "HR Tech", hq: "New York, NY", val: "Workday", domain: "hiredscore.com", rel: ["Workday", "Eightfold", "Phenom"] },
"Gloat": { desc: "AI talent marketplace.", cat: "HR Tech", hq: "New York, NY", val: "$500M", domain: "gloat.com", rel: ["Eightfold", "Phenom", "Workday"] },
"Fuel50": { desc: "AI career pathing.", cat: "HR Tech", hq: "Laguna Niguel, CA", val: "$100M", domain: "fuel50.com", rel: ["Gloat", "Eightfold", "Phenom"] },
"Lattice": { desc: "Performance management AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$3B", domain: "lattice.com", rel: ["Culture Amp", "15Five", "Workday"] },
"Culture Amp": { desc: "Employee experience AI.", cat: "HR Tech", hq: "Melbourne, Australia", val: "$1.5B", domain: "cultureamp.com", rel: ["Lattice", "15Five", "Workday"] },
"15Five": { desc: "Performance management.", cat: "HR Tech", hq: "San Francisco, CA", val: "$500M", domain: "15five.com", rel: ["Lattice", "Culture Amp", "Workday"] },
"BetterUp": { desc: "AI coaching.", cat: "HR Tech", hq: "San Francisco, CA", val: "$4.7B", domain: "betterup.com", rel: ["Lattice", "Culture Amp", "Workday"] },
"Ginger": { desc: "Mental health AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "Headspace", domain: "headspace.com", rel: ["BetterUp", "Headspace", "Lyra Health"] },
"Headspace": { desc: "Meditation AI.", cat: "HR Tech", hq: "Santa Monica, CA", val: "$3B", domain: "headspace.com", rel: ["Calm", "BetterUp", "Lyra Health"] },
"Calm": { desc: "Wellness AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$2B", domain: "calm.com", rel: ["Headspace", "BetterUp", "Lyra Health"] },
"Lyra Health": { desc: "Mental health AI.", cat: "HR Tech", hq: "Burlingame, CA", val: "$5.3B", domain: "lyrahealth.com", rel: ["Headspace", "Calm", "BetterUp"] },
"Spring Health": { desc: "Mental health platform.", cat: "HR Tech", hq: "New York, NY", val: "$2.5B", domain: "springhealth.com", rel: ["Lyra Health", "Headspace", "BetterUp"] },
"Modern Health": { desc: "Mental wellness AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$1.2B", domain: "modernhealth.com", rel: ["Lyra Health", "Spring Health", "Headspace"] },
"Rippling": { desc: "HR & IT platform.", cat: "HR Tech", hq: "San Francisco, CA", val: "$13.4B", domain: "rippling.com", rel: ["Workday", "Gusto", "BambooHR"] },
"Gusto": { desc: "Payroll with AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$9.6B", domain: "gusto.com", rel: ["Rippling", "ADP", "Workday"] },
"BambooHR": { desc: "HR software.", cat: "HR Tech", hq: "Lindon, UT", val: "$1.5B", domain: "bamboohr.com", rel: ["Gusto", "Rippling", "Workday"] },
"ADP": { desc: "HR & payroll AI.", cat: "HR Tech", hq: "Roseland, NJ", val: "$100B", domain: "adp.com", rel: ["Workday", "Gusto", "Rippling"] },
"Paylocity": { desc: "Payroll AI.", cat: "HR Tech", hq: "Schaumburg, IL", val: "$10B", domain: "paylocity.com", rel: ["ADP", "Gusto", "Rippling"] },
"Paycom": { desc: "Workforce AI.", cat: "HR Tech", hq: "Oklahoma City, OK", val: "$12B", domain: "paycom.com", rel: ["ADP", "Paylocity", "Gusto"] },
"Paychex": { desc: "HR services AI.", cat: "HR Tech", hq: "Rochester, NY", val: "$45B", domain: "paychex.com", rel: ["ADP", "Paycom", "Gusto"] },
"Ceridian": { desc: "Dayforce HCM.", cat: "HR Tech", hq: "Minneapolis, MN", val: "$10B", domain: "ceridian.com", rel: ["Workday", "ADP", "Paycom"] },
"UKG": { desc: "HR cloud.", cat: "HR Tech", hq: "Weston, FL", val: "$20B", domain: "ukg.com", rel: ["Workday", "ADP", "Ceridian"] },
"Namely": { desc: "HR platform.", cat: "HR Tech", hq: "New York, NY", val: "$200M", domain: "namely.com", rel: ["BambooHR", "Gusto", "Rippling"] },
"Deel": { desc: "Global payroll AI.", cat: "HR Tech", hq: "San Francisco, CA", val: "$12B", domain: "deel.com", rel: ["Rippling", "Remote", "Gusto"] },
"Remote": { desc: "Global HR platform.", cat: "HR Tech", hq: "San Francisco, CA", val: "$3B", domain: "remote.com", rel: ["Deel", "Rippling", "Gusto"] },
"Oyster": { desc: "Global employment.", cat: "HR Tech", hq: "Remote", val: "$1B", domain: "oysterhr.com", rel: ["Deel", "Remote", "Rippling"] },
"Velocity Global": { desc: "Global workforce.", cat: "HR Tech", hq: "Denver, CO", val: "$500M", domain: "velocityglobal.com", rel: ["Deel", "Remote", "Oyster"] },
"Papaya Global": { desc: "Global payroll.", cat: "HR Tech", hq: "New York, NY", val: "$3.7B", domain: "papayaglobal.com", rel: ["Deel", "Remote", "Rippling"] },

// More Real Estate & PropTech AI
"Zillow": { desc: "Real estate AI.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$14B", domain: "zillow.com", rel: ["Redfin", "Realtor.com", "Opendoor"] },
"Redfin": { desc: "Real estate AI.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$2B", domain: "redfin.com", rel: ["Zillow", "Realtor.com", "Compass"] },
"Compass": { desc: "AI real estate.", cat: "Enterprise AI", hq: "New York, NY", val: "$3B", domain: "compass.com", rel: ["Zillow", "Redfin", "Realtor.com"] },
"Opendoor": { desc: "AI home buying.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$3B", domain: "opendoor.com", rel: ["Zillow", "Offerpad", "Redfin"] },
"Offerpad": { desc: "iBuyer platform.", cat: "Enterprise AI", hq: "Chandler, AZ", val: "$500M", domain: "offerpad.com", rel: ["Opendoor", "Zillow", "Redfin"] },
"Homeward": { desc: "AI home buying.", cat: "Enterprise AI", hq: "Austin, TX", val: "$200M", domain: "homeward.com", rel: ["Opendoor", "Zillow", "Compass"] },
"Flyhomes": { desc: "AI real estate.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$300M", domain: "flyhomes.com", rel: ["Homeward", "Opendoor", "Compass"] },
"Ribbon": { desc: "Home buying AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$200M", domain: "ribbonhome.com", rel: ["Flyhomes", "Homeward", "Opendoor"] },
"Orchard": { desc: "Home trade-in AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$200M", domain: "orchard.com", rel: ["Opendoor", "Ribbon", "Flyhomes"] },
"Knock": { desc: "Home swap AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$400M", domain: "knock.com", rel: ["Orchard", "Opendoor", "Ribbon"] },
"Loft": { desc: "Brazilian proptech AI.", cat: "Enterprise AI", hq: "Sao Paulo, Brazil", val: "$2.9B", domain: "loft.com.br", rel: ["Compass", "Opendoor", "Zillow"] },
"CoStar": { desc: "Commercial real estate AI.", cat: "Enterprise AI", hq: "Washington, DC", val: "$35B", domain: "costar.com", rel: ["Zillow", "Redfin", "Compass"] },
"Procore": { desc: "Construction AI.", cat: "Enterprise AI", hq: "Carpinteria, CA", val: "$10B", domain: "procore.com", rel: ["Autodesk", "PlanGrid", "Buildertrend"] },
"PlanGrid": { desc: "Construction software.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "Autodesk", domain: "plangrid.com", rel: ["Procore", "Autodesk", "Buildertrend"] },
"Buildertrend": { desc: "Construction management.", cat: "Enterprise AI", hq: "Omaha, NE", val: "$500M", domain: "buildertrend.com", rel: ["Procore", "PlanGrid", "Autodesk"] },
"Autodesk": { desc: "Design software AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$55B", domain: "autodesk.com", rel: ["Adobe", "Figma", "Procore"] },
"AppFolio": { desc: "Property management AI.", cat: "Enterprise AI", hq: "Santa Barbara, CA", val: "$9B", domain: "appfolio.com", rel: ["Buildium", "Yardi", "RealPage"] },
"Buildium": { desc: "Property management.", cat: "Enterprise AI", hq: "Boston, MA", val: "RealPage", domain: "buildium.com", rel: ["AppFolio", "Yardi", "RealPage"] },
"RealPage": { desc: "Real estate software.", cat: "Enterprise AI", hq: "Richardson, TX", val: "$10.2B", domain: "realpage.com", rel: ["AppFolio", "Yardi", "CoStar"] },
"Yardi": { desc: "Property tech.", cat: "Enterprise AI", hq: "Santa Barbara, CA", val: "$10B", domain: "yardi.com", rel: ["RealPage", "AppFolio", "CoStar"] },
"VTS": { desc: "Commercial real estate AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$1.7B", domain: "vts.com", rel: ["CoStar", "RealPage", "Yardi"] },
"Juniper Square": { desc: "Real estate investment.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$1B", domain: "junipersquare.com", rel: ["VTS", "CoStar", "RealPage"] },
"Lessen": { desc: "Property services AI.", cat: "Enterprise AI", hq: "Scottsdale, AZ", val: "$500M", domain: "lessen.com", rel: ["AppFolio", "RealPage", "VTS"] },
"Reonomy": { desc: "Commercial real estate AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$200M", domain: "reonomy.com", rel: ["CoStar", "VTS", "Juniper Square"] },

// More Supply Chain & Logistics AI
"Flexport": { desc: "Supply chain AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$8B", domain: "flexport.com", rel: ["Project44", "FourKites", "Stripe"] },
"Project44": { desc: "Supply chain visibility.", cat: "Enterprise AI", hq: "Chicago, IL", val: "$2.7B", domain: "project44.com", rel: ["Flexport", "FourKites", "Descartes"] },
"FourKites": { desc: "Supply chain AI.", cat: "Enterprise AI", hq: "Chicago, IL", val: "$1.2B", domain: "fourkites.com", rel: ["Project44", "Flexport", "Descartes"] },
"Descartes": { desc: "Logistics AI.", cat: "Enterprise AI", hq: "Waterloo, Canada", val: "$8B", domain: "descartes.com", rel: ["Project44", "FourKites", "Flexport"] },
"Coupa": { desc: "Spend management AI.", cat: "Enterprise AI", hq: "San Mateo, CA", val: "$8B", domain: "coupa.com", rel: ["SAP Ariba", "Jaggaer", "Ivalua"] },
"SAP Ariba": { desc: "Procurement AI.", cat: "Enterprise AI", hq: "Palo Alto, CA", val: "SAP", domain: "ariba.com", rel: ["Coupa", "Jaggaer", "SAP"] },
"Jaggaer": { desc: "Procurement software.", cat: "Enterprise AI", hq: "Morrisville, NC", val: "$1B", domain: "jaggaer.com", rel: ["Coupa", "SAP Ariba", "Ivalua"] },
"Ivalua": { desc: "Procurement AI.", cat: "Enterprise AI", hq: "Redwood City, CA", val: "$1B", domain: "ivalua.com", rel: ["Coupa", "Jaggaer", "SAP Ariba"] },
"Llamasoft": { desc: "Supply chain analytics.", cat: "Enterprise AI", hq: "Ann Arbor, MI", val: "Coupa", domain: "coupa.com", rel: ["Coupa", "Project44", "Flexport"] },
"o9 Solutions": { desc: "AI planning platform.", cat: "Enterprise AI", hq: "Dallas, TX", val: "$2.7B", domain: "o9solutions.com", rel: ["Blue Yonder", "Kinaxis", "Coupa"] },
"Blue Yonder": { desc: "Supply chain AI.", cat: "Enterprise AI", hq: "Scottsdale, AZ", val: "Panasonic", domain: "blueyonder.com", rel: ["o9 Solutions", "Kinaxis", "SAP"] },
"Kinaxis": { desc: "Supply chain planning.", cat: "Enterprise AI", hq: "Ottawa, Canada", val: "$4B", domain: "kinaxis.com", rel: ["Blue Yonder", "o9 Solutions", "SAP"] },
"E2open": { desc: "Supply chain software.", cat: "Enterprise AI", hq: "Austin, TX", val: "$2B", domain: "e2open.com", rel: ["Blue Yonder", "Kinaxis", "o9 Solutions"] },
"Infor": { desc: "Enterprise software AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$13B", domain: "infor.com", rel: ["SAP", "Oracle", "Blue Yonder"] },
"Manhattan Associates": { desc: "Supply chain software.", cat: "Enterprise AI", hq: "Atlanta, GA", val: "$18B", domain: "manh.com", rel: ["Blue Yonder", "SAP", "Oracle"] },
"Krber": { desc: "Supply chain AI.", cat: "Enterprise AI", hq: "Hamburg, Germany", val: "$3B", domain: "koerber-supplychain.com", rel: ["Manhattan Associates", "Blue Yonder", "SAP"] },
"Relex": { desc: "Retail planning AI.", cat: "Enterprise AI", hq: "Helsinki, Finland", val: "$5.6B", domain: "relexsolutions.com", rel: ["Blue Yonder", "o9 Solutions", "Kinaxis"] },
"Symphony RetailAI": { desc: "Retail AI.", cat: "Enterprise AI", hq: "Dallas, TX", val: "$500M", domain: "symphonyretailai.com", rel: ["Relex", "Blue Yonder", "SAP"] },
"Crisp": { desc: "Food supply chain AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$100M", domain: "gocrisp.com", rel: ["Relex", "Symphony RetailAI", "Blue Yonder"] },
"Alloy": { desc: "Demand planning AI.", cat: "Enterprise AI", hq: "New York, NY", val: "$100M", domain: "alloy.ai", rel: ["Crisp", "Relex", "Blue Yonder"] },
"Afresh": { desc: "Grocery AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$200M", domain: "afresh.com", rel: ["Crisp", "Relex", "Symphony RetailAI"] },
"Shelf Engine": { desc: "Grocery ordering AI.", cat: "Enterprise AI", hq: "Seattle, WA", val: "$100M", domain: "shelfengine.com", rel: ["Afresh", "Crisp", "Relex"] },
"Pactum": { desc: "AI negotiations.", cat: "Enterprise AI", hq: "Mountain View, CA", val: "$100M", domain: "pactum.com", rel: ["Coupa", "SAP Ariba", "Jaggaer"] },
"Arkestro": { desc: "AI procurement.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$100M", domain: "arkestro.com", rel: ["Pactum", "Coupa", "SAP Ariba"] },
"Fairmarkit": { desc: "AI sourcing.", cat: "Enterprise AI", hq: "Boston, MA", val: "$100M", domain: "fairmarkit.com", rel: ["Arkestro", "Coupa", "SAP Ariba"] },
"Globality": { desc: "AI procurement.", cat: "Enterprise AI", hq: "Menlo Park, CA", val: "$500M", domain: "globality.com", rel: ["Coupa", "SAP Ariba", "Jaggaer"] },
"Tradeshift": { desc: "Supply chain network.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$1.1B", domain: "tradeshift.com", rel: ["Coupa", "SAP Ariba", "Taulia"] },
"Taulia": { desc: "Working capital AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "SAP", domain: "taulia.com", rel: ["Tradeshift", "SAP Ariba", "Coupa"] },
"C2FO": { desc: "Working capital market.", cat: "Enterprise AI", hq: "Leawood, KS", val: "$1B", domain: "c2fo.com", rel: ["Taulia", "Tradeshift", "SAP Ariba"] }
,
    "Humans&": { desc: "Developing human-centric AI tools for enterprises.", cat: "Enterprise AI", hq: "", val: "$4.48B", domain: "", rel: [] },
    "Eon": { desc: "Helps companies back up their data on the cloud.", cat: "Neo Cloud", hq: "", val: "$4B", domain: "", rel: [] },
    "Ricursive Technologies": { desc: "AI lab building AI that can improve and design semiconductor chips.", cat: "Hardware", hq: "Palo Alto, CA", val: "$4B", domain: "", rel: [] },
    "Celestial AI": { desc: "Photonics startup using light to move data between chips faster than electrical signals.", cat: "Hardware", hq: "", val: "$3.25B", domain: "", rel: [] },
    "Parloa": { desc: "AI-powered customer service automation platform.", cat: "Contact Center", hq: "", val: "$3B", domain: "", rel: [] },
    "DayOne Data Centers": { desc: "Operates data centers in Finland and Asia for AI workloads.", cat: "Neo Cloud", hq: "Finland", val: "$2B+", domain: "", rel: [] },
    "Global Technical Realty": { desc: "European data center developer expanding across the continent.", cat: "Neo Cloud", hq: "Europe", val: "$1.9B", domain: "", rel: [] },
    "Flapping Airplanes": { desc: "AI neolab focused on training models in more data-efficient ways.", cat: "Foundation Models", hq: "", val: "$1.5B", domain: "", rel: [] },
    "Harmonic": { desc: "Developing math-based AI models for reasoning and problem-solving.", cat: "Foundation Models", hq: "", val: "$1.45B", domain: "", rel: [] },
    "Applied Compute": { desc: "Uses reinforcement learning to customize AI models, founded by ex-OpenAI researchers.", cat: "MLOps", hq: "", val: "$1.3B", domain: "", rel: [] },
    "Tandem": { desc: "Uses AI to automate pharmacy paperwork and administrative tasks.", cat: "Healthcare AI", hq: "", val: "$1B", domain: "", rel: [] },
    "Serval": { desc: "Develops AI tools to automate tasks for IT teams.", cat: "Enterprise AI", hq: "", val: "$1B", domain: "", rel: [] },
    "Resolve AI": { desc: "Developing an AI tool for maintaining and managing software systems.", cat: "Code & Dev Tools", hq: "", val: "$1B", domain: "", rel: [] },
    "LiveKit": { desc: "Develops infrastructure for real-time AI voice and video applications.", cat: "Conversational AI", hq: "", val: "$1B", domain: "", rel: [] },
    "Aaru": { desc: "Uses AI to simulate customer behavior for companies.", cat: "Enterprise AI", hq: "", val: "~$1B", domain: "", rel: [] },
    "StepFun": { desc: "Develops large language models and partners with smartphone brands.", cat: "Foundation Models", hq: "China", val: "$700M+", domain: "", rel: [] },
    "Moore Threads": { desc: "Chinese chip designer blacklisted by the U.S., developing AI GPUs.", cat: "Hardware", hq: "China", val: "53.7B yuan (~$7.5B)", domain: "", rel: [] },
    "Inferact": { desc: "AI inference startup founded by the creators of the popular open-source vLLM project.", cat: "MLOps", hq: "", val: "$800M", domain: "", rel: [] },
    "Manus": { desc: "Chinese AI agent startup acquired by Meta Platforms.", cat: "AI Agents", hq: "Singapore (originally China)", val: "$2B+", domain: "", rel: [] },
    "Veza": { desc: "Software that helps companies see which employees and AI agents have access to customer data.", cat: "Security AI", hq: "", val: "$1B-$1.5B", domain: "", rel: [] },
    "Torch": { desc: "One-year-old AI healthcare app acquired by OpenAI.", cat: "Healthcare AI", hq: "", val: "~$100M", domain: "", rel: [] },
    "Hatch": { desc: "AI agent startup acquired by Yelp for roughly 12x annual recurring revenue.", cat: "AI Agents", hq: "", val: "$300M", domain: "", rel: [] },
    "Limitless": { desc: "Develops wearable AI devices including a clip-on Pendant for recording and AI assistance.", cat: "Hardware", hq: "", val: "", domain: "", rel: [] },
    "Confluent": { desc: "Data streaming company that helps manage real-time data streams used in AI models.", cat: "Data & Vector DB", hq: "", val: "$11B", domain: "", rel: [] },
    "Observe Inc.": { desc: "App monitoring startup in talks to be acquired by Snowflake.", cat: "MLOps", hq: "", val: "~$1B", domain: "", rel: [] },
    "XConn Technologies": { desc: "Provides hardware to connect chips to each other in data centers.", cat: "Hardware", hq: "", val: "$540M", domain: "", rel: [] },
    "Gradium": { desc: "French startup developing AI voice and audio language models.", cat: "Audio AI", hq: "France", val: "$70M", domain: "", rel: [] },
    "Antithesis": { desc: "Helps companies test their software to find bugs using advanced testing techniques.", cat: "Code & Dev Tools", hq: "", val: "$105M", domain: "", rel: [] },
    "Flex": { desc: "Offers AI financial tools to mid-sized business owners.", cat: "Finance AI", hq: "San Francisco, CA", val: "$500M", domain: "", rel: [] },
    "Vinci": { desc: "Provides AI for hardware design and chip development.", cat: "Hardware", hq: "", val: "$46M", domain: "", rel: [] },
    "Yoodli": { desc: "AI-powered learning startup using AI-generated roleplays for communication skills.", cat: "Education", hq: "Seattle, WA", val: "$40M", domain: "", rel: [] },
    "Supper": { desc: "AI-powered startup designed to clean enterprise data.", cat: "Data & Vector DB", hq: "New York, NY", val: "$11M", domain: "", rel: [] },
    "Kargo": { desc: "Uses AI to monitor inbound and outbound freight in the supply chain.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$42M", domain: "", rel: [] },
    "Generative Bionics": { desc: "Developing humanoid robots for various applications.", cat: "Robotics", hq: "", val: "$81M", domain: "", rel: [] },
    "Duve": { desc: "Provides AI-based software for hotels to manage bookings.", cat: "Enterprise AI", hq: "", val: "$60M", domain: "", rel: [] },
    "Datarails": { desc: "Offers AI-powered FP&A (financial planning and analysis) software.", cat: "Finance AI", hq: "", val: "$70M", domain: "", rel: [] },
    "Unbox Robotics": { desc: "Develops warehouse robots for logistics automation.", cat: "Robotics", hq: "", val: "$28M", domain: "", rel: [] },
    "Emergent": { desc: "Provides AI for developing apps.", cat: "Code & Dev Tools", hq: "", val: "$300M", domain: "", rel: [] },
    "Angle Health": { desc: "AI-powered healthcare benefits startup.", cat: "Healthcare AI", hq: "", val: "$134M", domain: "", rel: [] },
    "Axiado": { desc: "Provides cybersecurity software for data centers.", cat: "Security AI", hq: "", val: "$100M", domain: "", rel: [] },
    "Zafran Security": { desc: "Uses AI to analyze companies\' cybersecurity vulnerabilities.", cat: "Security AI", hq: "", val: "$60M", domain: "", rel: [] },
    "PermitFlow": { desc: "AI-powered permit application and management startup for construction.", cat: "Enterprise AI", hq: "New York, NY", val: "$54M", domain: "", rel: [] },
    "WithCoverage": { desc: "AI-powered insurance broker.", cat: "Finance AI", hq: "", val: "$42M", domain: "", rel: [] },
    "Juvena Therapeutics": { desc: "AI-powered regenerative biologics company developing therapeutic proteins.", cat: "Drug Discovery", hq: "Redwood City, CA", val: "$33.5M", domain: "", rel: [] },
    "Converge Bio": { desc: "Helps pharma and biotech companies develop drugs faster using generative AI trained on molecular data.", cat: "Drug Discovery", hq: "Boston / Tel Aviv", val: "$25M", domain: "", rel: [] },
    "Hupo": { desc: "AI sales coaching startup.", cat: "Marketing AI", hq: "", val: "$10M", domain: "", rel: [] },
    "Profluent Bio": { desc: "Using AI to design proteins for therapeutic and industrial applications.", cat: "Drug Discovery", hq: "", val: "$106M", domain: "", rel: [] },
    "Amperesand": { desc: "Develops power infrastructure for AI data centers.", cat: "Neo Cloud", hq: "Singapore", val: "$80M", domain: "", rel: [] },
    "Sunday": { desc: "Developing a two-armed robot on a rolling base to help with household chores.", cat: "Robotics", hq: "", val: "$35M", domain: "", rel: [] },
    "Modern Life": { desc: "AI-powered life insurance brokerage.", cat: "Finance AI", hq: "New York, NY", val: "$20M", domain: "", rel: [] },
    "Automat": { desc: "Uses AI to automate workflows for enterprises.", cat: "AI Agents", hq: "San Francisco, CA", val: "$15.5M", domain: "", rel: [] },
    "onepot AI": { desc: "Uses AI to develop small molecules for drug discovery.", cat: "Drug Discovery", hq: "San Francisco, CA", val: "$13M", domain: "", rel: [] },
    "Poly": { desc: "Helps people store, browse, research and organize their files with AI.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$8M", domain: "", rel: [] },
    "alphaXiv": { desc: "Curates AI research, benchmarks and models.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$7M", domain: "", rel: [] },
    "Articul8": { desc: "Provides software to allow companies to make their own AI applications.", cat: "Enterprise AI", hq: "", val: "$500M+", domain: "", rel: [] },
    "Ankar": { desc: "Uses AI to help companies draft patent applications.", cat: "Legal Tech", hq: "", val: "$20M", domain: "", rel: [] },
    "Arcads.ai": { desc: "Uses AI to generate marketing videos.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$16M", domain: "", rel: [] },
    "Oboe": { desc: "AI-powered learning startup.", cat: "Education", hq: "", val: "$16M", domain: "", rel: [] },
    "Runware": { desc: "AI inference startup for image, video and audio generation.", cat: "Image Generation", hq: "London, UK", val: "$50M", domain: "", rel: [] },
    "Deep Robotics": { desc: "Develops humanoid robots and robot dogs.", cat: "Robotics", hq: "China", val: "$70M+", domain: "", rel: [] },
    "Factify": { desc: "Developing an alternative to PDF file formats optimized for AI.", cat: "Enterprise AI", hq: "", val: "$73M", domain: "", rel: [] },
    "Outtake": { desc: "Develops cybersecurity software to prevent against AI impersonation.", cat: "Security AI", hq: "", val: "$40M", domain: "", rel: [] },
    "Slice": { desc: "Develops AI software to help companies with equity compliance.", cat: "Enterprise AI", hq: "", val: "$25M", domain: "", rel: [] },
    "Modelence": { desc: "Develops infrastructure tools for vibe-coding.", cat: "Code & Dev Tools", hq: "", val: "$3M", domain: "", rel: [] },
    "RobCo": { desc: "German developer of robots for manufacturing.", cat: "Robotics", hq: "Germany", val: "$100M", domain: "", rel: [] },
    "Photonic": { desc: "Develops technology for quantum computing.", cat: "Hardware", hq: "", val: "$130M", domain: "", rel: [] },
    "San Francisco Compute": { desc: "Provides a marketplace for AI compute resources.", cat: "Neo Cloud", hq: "San Francisco, CA", val: "$40M", domain: "", rel: [] },
    "Clover Security": { desc: "Uses AI to detect cybersecurity vulnerabilities.", cat: "Security AI", hq: "", val: "$36M", domain: "", rel: [] },
    "Gravis Robotics": { desc: "Equips construction equipment with sensors to work autonomously.", cat: "Robotics", hq: "", val: "$23M", domain: "", rel: [] },
    "Nevis": { desc: "Develops AI tools for financial advisors.", cat: "Finance AI", hq: "", val: "$35M", domain: "", rel: [] },
    "Tutor Intelligence": { desc: "Develops AI-powered robots for warehouses.", cat: "Robotics", hq: "", val: "$34M", domain: "", rel: [] },
    "Raindrop": { desc: "Monitoring startup for AI agents.", cat: "AI Agents", hq: "San Francisco, CA", val: "$15M", domain: "", rel: [] },
    "Jeeva AI": { desc: "Develops AI tools for salespeople.", cat: "Marketing AI", hq: "San Francisco, CA", val: "$9M", domain: "", rel: [] },
    "PolyAI": { desc: "AI-powered customer support chatbot for enterprises.", cat: "Contact Center", hq: "", val: "$86M", domain: "", rel: [] },
    "Mirelo": { desc: "Uses AI to add soundtracks to videos.", cat: "Audio AI", hq: "Berlin, Germany", val: "$41M", domain: "", rel: [] },
    "Solve Intelligence": { desc: "Develops AI tools to help lawyers apply for patents.", cat: "Legal Tech", hq: "", val: "$40M", domain: "", rel: [] },
    "Outset": { desc: "Uses AI to chat with customers and measure customer satisfaction.", cat: "Enterprise AI", hq: "", val: "$30M", domain: "", rel: [] },
    "NestAI": { desc: "Developing autonomous military equipment.", cat: "Enterprise AI", hq: "", val: "$115M", domain: "", rel: [] },
    "Flexion": { desc: "Develops software for humanoid robots.", cat: "Robotics", hq: "", val: "$50M", domain: "", rel: [] },
    "Sorcero": { desc: "Uses AI to help pharmaceutical companies analyze information.", cat: "Healthcare AI", hq: "", val: "$42.5M", domain: "", rel: [] },
    "Numerai": { desc: "Hedge fund that uses crowd-sourced AI trading strategies.", cat: "Finance AI", hq: "", val: "$500M", domain: "", rel: [] },
    "Momentic": { desc: "Software testing startup using AI.", cat: "Code & Dev Tools", hq: "", val: "$15M", domain: "", rel: [] },
    "Annie": { desc: "Makes AI assistants for dental practices.", cat: "Healthcare AI", hq: "Lehi, UT", val: "$4M", domain: "", rel: [] },
    "Range": { desc: "AI-powered wealth management platform.", cat: "Finance AI", hq: "", val: "$60M", domain: "", rel: [] },
    "Carrion": { desc: "Uses AI-powered cameras to monitor factories for quality control.", cat: "Enterprise AI", hq: "", val: "$18M", domain: "", rel: [] },
    "CoPlane": { desc: "Develops AI software to streamline back office operations.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$14M", domain: "", rel: [] },
    "Vention": { desc: "Provides AI software for designing and operating industrial equipment.", cat: "Robotics", hq: "Canada", val: "$110M", domain: "", rel: [] },
    "Glyde": { desc: "AI-powered brokerage platform.", cat: "Finance AI", hq: "", val: "$60M", domain: "", rel: [] },
    "Summarize": { desc: "Uses AI to help lawyers manage contacts.", cat: "Legal Tech", hq: "", val: "$50M", domain: "", rel: [] },
    "Compa": { desc: "Develops AI for enterprise compensation teams.", cat: "HR Tech", hq: "Newport Beach, CA", val: "$35M", domain: "", rel: [] },
    "Fulcrum": { desc: "Develops AI for insurance brokerages.", cat: "Finance AI", hq: "San Francisco, CA", val: "$25M", domain: "", rel: [] },
    "BoldVoice": { desc: "AI-powered voice coaching startup for non-native English speakers.", cat: "Education", hq: "New York, NY", val: "$21M", domain: "", rel: [] },
    "Limy": { desc: "Helps companies show up in AI search engines.", cat: "Marketing AI", hq: "New York, NY", val: "$10M", domain: "", rel: [] },
    "Risotto": { desc: "AI-powered IT help desk startup.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$10M", domain: "", rel: [] },
    "Mytra": { desc: "Robotics startup for warehouse automation.", cat: "Robotics", hq: "", val: "$120M", domain: "", rel: [] },
    "Listen Labs": { desc: "Helps companies conduct AI-powered customer interviews.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$69M", domain: "", rel: [] },
    "Novee": { desc: "Uses AI for security penetration testing.", cat: "Security AI", hq: "", val: "$51.5M", domain: "", rel: [] },
    "Depthfirst": { desc: "Uses AI to find cybersecurity vulnerabilities.", cat: "Security AI", hq: "", val: "$40M", domain: "", rel: [] },
    "Sakana": { desc: "Japanese AI startup developing novel AI architectures.", cat: "Foundation Models", hq: "Japan", val: "$2.5B", domain: "", rel: [] },
    "Orbital": { desc: "Uses AI to identify real estate risk.", cat: "Enterprise AI", hq: "New York, NY", val: "$60M", domain: "", rel: [] },
    "Jelou": { desc: "Uses AI to automate financial transactions.", cat: "Finance AI", hq: "New York, NY", val: "$10M", domain: "", rel: [] },
    "Symbiotic Security": { desc: "AI coding startup focused on secure code development.", cat: "Code & Dev Tools", hq: "Brooklyn, NY", val: "$10M", domain: "", rel: [] },
    "Blockit": { desc: "AI calendar scheduling app.", cat: "Enterprise AI", hq: "", val: "$5M", domain: "", rel: [] },
    "DeepWay": { desc: "Develops self-driving technology for trucking.", cat: "Autonomous Vehicles", hq: "China", val: "$173M", domain: "", rel: [] },
    "Zocks": { desc: "Provides AI for financial advisors.", cat: "Finance AI", hq: "", val: "$45M", domain: "", rel: [] },
    "Pace": { desc: "Agentic insurance startup using AI agents for insurance workflows.", cat: "Finance AI", hq: "", val: "$10M", domain: "", rel: [] },
    "SpotDraft": { desc: "Develops on-device contract review tech for regulated legal workflows.", cat: "Legal Tech", hq: "", val: "$8M", domain: "", rel: [] },
    "Midship": { desc: "Builds AI for accounting fraud testing.", cat: "Finance AI", hq: "San Francisco, CA", val: "$4.2M", domain: "", rel: [] },
    "Upscale AI": { desc: "Provides networking equipment for AI data centers.", cat: "Neo Cloud", hq: "", val: "$200M", domain: "", rel: [] },
    "Zanskar": { desc: "Uses AI to search for geothermal energy sources.", cat: "Enterprise AI", hq: "", val: "$115M", domain: "", rel: [] },
    "AheadComputing": { desc: "Designs CPU chips for AI data centers.", cat: "Hardware", hq: "", val: "$30M", domain: "", rel: [] },
    "Adaptive Security": { desc: "Provides cybersecurity software to protect against AI-powered attacks.", cat: "Security AI", hq: "New York, NY", val: "$81M", domain: "", rel: [] },
    "Echo": { desc: "Uses AI to make certain open source software more secure.", cat: "Security AI", hq: "Tel Aviv, Israel", val: "$35M", domain: "", rel: [] },
    "Sequence": { desc: "Uses AI to automate billing and invoice processes.", cat: "Finance AI", hq: "", val: "$20M", domain: "", rel: [] },
    "Leona Health": { desc: "Uses AI to help doctors communicate with patients on WhatsApp.", cat: "Healthcare AI", hq: "", val: "$14M", domain: "", rel: [] },
    "Nirvana": { desc: "AI-powered commercial insurance company.", cat: "Finance AI", hq: "San Francisco, CA", val: "$100M", domain: "", rel: [] },
    "Enlightra": { desc: "Develops technology to accelerate communication between AI chips.", cat: "Hardware", hq: "Lausanne, Switzerland", val: "$15M", domain: "", rel: [] },
    "Lyte": { desc: "Developing perception technology for robots.", cat: "Robotics", hq: "", val: "$107M+ (total since founding)", domain: "", rel: [] },
    "Axion": { desc: "Uses AI to monitor manufacturing for product defects.", cat: "Enterprise AI", hq: "", val: "$37M", domain: "", rel: [] },
    "Valerie Health": { desc: "Develops an AI front office for doctors\' offices.", cat: "Healthcare AI", hq: "", val: "$30M", domain: "", rel: [] },
    "FuriosaAI": { desc: "Designs AI chips for inference and training workloads.", cat: "Hardware", hq: "South Korea", val: "$300-$500M (raising)", domain: "", rel: [] },
    "XBuild": { desc: "Develops AI-powered roofing proposal software.", cat: "Enterprise AI", hq: "San Francisco, CA", val: "$19M", domain: "", rel: [] },
    "Kargo.ai": { desc: "Provides computer vision software to warehouses for monitoring freight.", cat: "Enterprise AI", hq: "", val: "$42M", domain: "", rel: [] },
    "Lemon Slice": { desc: "Develops AI models to generate videos of characters from images.", cat: "Video Generation", hq: "", val: "$10.5M", domain: "", rel: [] },
    "Dazzle AI": { desc: "AI startup founded by former Yahoo CEO Marissa Mayer.", cat: "Enterprise AI", hq: "", val: "$35M", domain: "", rel: [] },
    "LizzyAI": { desc: "AI-powered talent interviewing company.", cat: "HR Tech", hq: "New York, NY", val: "$5M", domain: "", rel: [] },
    "Hark": { desc: "New AI lab founded by Figure AI CEO Brett Adcock, hiring former Apple and Meta engineers.", cat: "Foundation Models", hq: "", val: "$100M (personal capital from Brett Adcock)", domain: "", rel: [] },
    "DigitalBridge": { desc: "Publicly-traded investor in data center companies, acquired by SoftBank.", cat: "Neo Cloud", hq: "", val: "$4B including debt", domain: "", rel: [] },
    "Norm AI": { desc: "AI startup that handles compliance for enterprises.", cat: "Enterprise AI", hq: "", val: "$50M", domain: "", rel: [] },
    "SchedMD": { desc: "Develops Slurm, open source software for managing computing jobs across AI chip clusters.", cat: "MLOps", hq: "", val: "", domain: "", rel: [] },
    "Cerebras Systems": { desc: "AI chip startup; OpenAI will purchase 750 MW of computing power through 2028.", cat: "Hardware", hq: "", val: "$10B+ computing deal with OpenAI", domain: "", rel: [] },
    "Hexus": { desc: "Builds tools for creating product demos, videos and guides; acquired by legal AI startup Harvey.", cat: "Code & Dev Tools", hq: "", val: "", domain: "", rel: [] },
    "Bun": { desc: "Coding tools startup; Anthropic\'s first outright acquisition.", cat: "Code & Dev Tools", hq: "", val: "", domain: "", rel: [] },
    "General Agents": { desc: "One-year old startup focused on computer-using AI agents, acquired by Jeff Bezos\' AI startup.", cat: "AI Agents", hq: "", val: "", domain: "", rel: [] },
    "Human Native": { desc: "AI data marketplace acquired by Cloudflare.", cat: "Data & Vector DB", hq: "", val: "", domain: "", rel: [] },
    "InfiniGrow": { desc: "AI marketing analytics firm acquired by Amplitude.", cat: "Marketing AI", hq: "", val: "", domain: "", rel: [] },
    "Songkick": { desc: "Concert ticket discovery platform acquired by AI music startup Suno from Warner Music Group.", cat: "Music AI", hq: "", val: "", domain: "", rel: [] },
    "Cleanlab": { desc: "Data label-auditing startup acquired by data labeling company Handshake.", cat: "Data & Vector DB", hq: "", val: "", domain: "", rel: [] }
};

// Version check - reset localStorage if default data has more companies (data was updated)
const DATA_VERSION = 9; // Increment this when adding companies or updating valuations
const storedVersion = localStorage.getItem('aimap_version');
let data;
if (storedVersion !== String(DATA_VERSION)) {
    // Data version changed, use fresh default data
    data = JSON.parse(JSON.stringify(defaultData));
    localStorage.setItem('aimap_version', DATA_VERSION);
    localStorage.setItem('aimap', JSON.stringify(data));
} else {
    data = JSON.parse(localStorage.getItem('aimap')) || JSON.parse(JSON.stringify(defaultData));
}
const save = () => { localStorage.setItem('aimap', JSON.stringify(data)); document.getElementById('count').textContent = Object.keys(data).length; };

const map = document.getElementById('map');
const panel = document.getElementById('panel');
let center = null;

// New feature variables
let favorites = new Set(JSON.parse(localStorage.getItem('aimap_favorites') || '[]'));
let compareMode = false;
let compareSelected = new Set();
let currentZoom = 1;
let showingFavoritesOnly = false;

// Save favorites to localStorage
function saveFavorites() {
    localStorage.setItem('aimap_favorites', JSON.stringify([...favorites]));
}

// Toggle favorite status
function toggleFavorite(name) {
    if (favorites.has(name)) {
        favorites.delete(name);
    } else {
        favorites.add(name);
    }
    saveFavorites();
    if (center) render(center); // Re-render to update stars
}

// Random company selection
function surpriseMe() {
    const companies = Object.keys(data);
    const randomName = companies[Math.floor(Math.random() * companies.length)];
    render(randomName);
}

// Export to CSV
function exportToCSV() {
    const headers = ['Name', 'Category', 'Description', 'HQ', 'Valuation', 'Website', 'Related'];
    const rows = Object.entries(data).map(([name, info]) => [
        name,
        info.cat || '',
        (info.desc || '').replace(/"/g, '""'),
        info.hq || '',
        info.val || '',
        info.domain || '',
        (info.rel || []).join('; ')
    ]);

    const csv = [headers.join(','), ...rows.map(r => r.map(c => `"${c}"`).join(','))].join('\n');
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'ai-map-companies.csv';
    a.click();
    URL.revokeObjectURL(url);
}

// Toggle compare mode
function toggleCompareMode() {
    compareMode = !compareMode;
    document.getElementById('compare-btn').classList.toggle('active', compareMode);
    document.getElementById('compare-modal').classList.toggle('open', compareMode);
    if (!compareMode) {
        compareSelected.clear();
        updateCompareDisplay();
    }
}

// Toggle company selection for compare
function toggleCompareSelection(name) {
    if (compareSelected.has(name)) {
        compareSelected.delete(name);
    } else if (compareSelected.size < 3) {
        compareSelected.add(name);
    }
    updateCompareDisplay();
}

// Update compare modal display
function updateCompareDisplay() {
    const selectedDiv = document.getElementById('compare-selected');
    const tableDiv = document.getElementById('compare-table');

    selectedDiv.innerHTML = '';
    [...compareSelected].forEach(name => {
        const chip = document.createElement('div');
        chip.className = 'compare-chip';
        chip.textContent = name;
        const btn = document.createElement('button');
        btn.textContent = '';
        btn.onclick = () => toggleCompareSelection(name);
        chip.appendChild(btn);
        selectedDiv.appendChild(chip);
    });

    if (compareSelected.size >= 2) {
        const companies = [...compareSelected];
        const table = document.createElement('table');
        const header = document.createElement('tr');
        header.appendChild(document.createElement('th'));
        companies.forEach(n => {
            const th = document.createElement('th');
            th.textContent = n;
            header.appendChild(th);
        });
        table.appendChild(header);

        const rows = [
            ['Category', 'cat'],
            ['HQ', 'hq'],
            ['Valuation', 'val'],
            ['Description', 'desc']
        ];
        rows.forEach(([label, key]) => {
            const tr = document.createElement('tr');
            const tdLabel = document.createElement('td');
            tdLabel.textContent = label;
            tr.appendChild(tdLabel);
            companies.forEach(n => {
                const td = document.createElement('td');
                td.textContent = data[n]?.[key] || 'N/A';
                tr.appendChild(td);
            });
            table.appendChild(tr);
        });
        tableDiv.innerHTML = '';
        tableDiv.appendChild(table);
    } else {
        tableDiv.innerHTML = '<p class="compare-hint">Select at least 2 companies</p>';
    }
}

function escapeHTML(value) {
    return String(value ?? '')
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
}

// Parse valuation string to number (absolute dollars)
function parseValuationDollars(val) {
    if (!val || val === 'N/A') return 0;
    const match = val.match(/\$?([\d.]+)\s*(T|B|M|K)?/i);
    if (!match) return 0;
    const num = parseFloat(match[1]);
    const unit = (match[2] || '').toUpperCase();
    const multipliers = { 'T': 1e12, 'B': 1e9, 'M': 1e6, 'K': 1e3 };
    return num * (multipliers[unit] || 1);
}

// Show analytics
function showAnalytics() {
    const modal = document.getElementById('analytics-modal');
    modal.classList.add('open');

    const companies = Object.entries(data);
    const totalCompanies = companies.length;

    // Category counts
    const catCounts = {};
    companies.forEach(([_, info]) => {
        catCounts[info.cat] = (catCounts[info.cat] || 0) + 1;
    });

    // Region counts
    const regionCounts = { 'US': 0, 'Europe': 0, 'Asia': 0, 'Other': 0 };
    const usStates = ['CA', 'NY', 'MA', 'TX', 'WA', 'CO', 'PA', 'IL', 'VA', 'GA', 'NC', 'FL', 'AZ', 'UT'];
    const euCountries = ['UK', 'Germany', 'France', 'Netherlands', 'Sweden', 'Switzerland', 'Ireland', 'Spain', 'Italy', 'Finland', 'Norway', 'Denmark', 'Austria', 'Belgium', 'Poland', 'Estonia'];
    const asiaCountries = ['China', 'Japan', 'Korea', 'India', 'Singapore', 'Israel', 'Taiwan', 'Hong Kong', 'Indonesia', 'Vietnam', 'Thailand'];

    companies.forEach(([_, info]) => {
        const hq = info.hq || '';
        if (usStates.some(s => hq.includes(s)) || hq.includes('US')) regionCounts['US']++;
        else if (euCountries.some(c => hq.includes(c))) regionCounts['Europe']++;
        else if (asiaCountries.some(c => hq.includes(c))) regionCounts['Asia']++;
        else regionCounts['Other']++;
    });

    // Top valuations
    const valuations = companies
        .map(([name, info]) => ({ name, val: parseValuationDollars(info.val), display: info.val }))
        .filter(c => c.val > 0)
        .sort((a, b) => b.val - a.val)
        .slice(0, 10);

    // Total market cap across all companies with parseable valuations
    const totalValuation = companies
        .map(([_, info]) => parseValuationDollars(info.val))
        .filter(v => v > 0)
        .reduce((sum, v) => sum + v, 0);

    // Stats grid
    document.getElementById('stats-grid').innerHTML = `
        <div class="stat-card"><div class="stat-value">${totalCompanies}</div><div class="stat-label">Total Companies</div></div>
        <div class="stat-card"><div class="stat-value">${Object.keys(catCounts).length}</div><div class="stat-label">Categories</div></div>
        <div class="stat-card"><div class="stat-value">${favorites.size}</div><div class="stat-label">Favorites</div></div>
        <div class="stat-card"><div class="stat-value">$${(totalValuation / 1e12).toFixed(1)}T</div><div class="stat-label">Total Valuation</div></div>
    `;

    // Category bars
    const sortedCats = Object.entries(catCounts).sort((a, b) => b[1] - a[1]);
    const maxCat = sortedCats[0]?.[1] || 1;
    document.getElementById('category-bars').innerHTML = sortedCats.map(([cat, count]) => `
        <div class="cat-bar-item">
            <div class="cat-bar-label">${cat}</div>
            <div class="cat-bar-track">
                <div class="cat-bar-fill" style="width: ${(count / maxCat) * 100}%"></div>
            </div>
            <div class="cat-bar-count">${count}</div>
        </div>
    `).join('');

    // Top valuations
    const topValuations = document.getElementById('top-valuations');
    topValuations.innerHTML = '';
    valuations.forEach((c, i) => {
        const item = document.createElement('div');
        item.className = 'top-item';
        item.onclick = () => render(c.name);

        const rank = document.createElement('span');
        rank.className = 'top-rank';
        rank.textContent = String(i + 1);

        const name = document.createElement('span');
        name.className = 'top-name';
        name.textContent = c.name;

        const val = document.createElement('span');
        val.className = 'top-val';
        val.textContent = c.display || '';

        item.appendChild(rank);
        item.appendChild(name);
        item.appendChild(val);
        topValuations.appendChild(item);
    });

    // Region chart
    const maxRegion = Math.max(...Object.values(regionCounts));
    document.getElementById('region-chart').innerHTML = Object.entries(regionCounts).map(([region, count]) => `
        <div class="region-item">
            <div class="region-label">${region}</div>
            <div class="region-bar-track">
                <div class="region-bar-fill" style="width: ${(count / maxRegion) * 100}%"></div>
            </div>
            <div class="region-count">${count}</div>
        </div>
    `).join('');
}

// Zoom functions
function zoomIn() {
    currentZoom = Math.min(currentZoom + 0.2, 2);
    applyZoom();
}

function zoomOut() {
    currentZoom = Math.max(currentZoom - 0.2, 0.4);
    applyZoom();
}

function resetZoom() {
    currentZoom = 1;
    applyZoom();
}

function applyZoom() {
    map.style.transform = `scale(${currentZoom})`;
    document.getElementById('zoom-level').textContent = Math.round(currentZoom * 100) + '%';
}

// Toggle favorites filter
function toggleFavoritesFilter() {
    showingFavoritesOnly = !showingFavoritesOnly;
    document.getElementById('favorites-btn').classList.toggle('active', showingFavoritesOnly);
    if (center) render(center);
}

function logoUrl(d) { return d ? `logos/${d.replace(/[^a-zA-Z0-9.-]/g, '_')}.png` : ''; }

let currentPanelCompany = null;

function showPanel(name) {
    const c = data[name]; if (!c) return;
    currentPanelCompany = name;
    document.getElementById('panel-name').textContent = name;
    document.getElementById('panel-desc').textContent = c.desc;
    document.getElementById('panel-cat').textContent = c.cat;
    document.getElementById('panel-hq').textContent = c.hq || 'N/A';
    const valEl = document.getElementById('panel-val');
    valEl.textContent = c.val || 'N/A';
    valEl.className = 'val' + ((!c.val || c.val === 'N/A') ? ' na' : '');
    const logo = document.getElementById('panel-logo');
    const url = logoUrl(c.domain);
    logo.innerHTML = '';
    if (url) {
        const img = document.createElement('img');
        img.src = url;
        img.onerror = () => {
            logo.innerHTML = '';
            const fallback = document.createElement('span');
            fallback.textContent = name.slice(0, 2);
            logo.appendChild(fallback);
        };
        logo.appendChild(img);
    } else {
        const fallback = document.createElement('span');
        fallback.textContent = name.slice(0, 2);
        logo.appendChild(fallback);
    }
    // Website link
    const websiteLink = document.getElementById('panel-website');
    if (c.domain) {
        websiteLink.href = 'https://' + c.domain;
        websiteLink.style.display = 'inline-flex';
    } else {
        websiteLink.style.display = 'none';
    }
    // Update favorite button
    const favBtn = document.getElementById('panel-favorite');
    const favText = document.getElementById('favorite-text');
    const isFav = favorites.has(name);
    favBtn.classList.toggle('active', isFav);
    favText.textContent = isFav ? 'Remove from Favorites' : 'Add to Favorites';
    panel.classList.add('open');
}

// Get all related companies with similarity scores
function getRelatedCompanies(centerName, maxCount = 25, filterCat = null) {
    const scores = {};
    const c = data[centerName];
    if (!c) return [];

    // Calculate similarity for all companies
    Object.keys(data).forEach(name => {
        if (name !== centerName) {
            // Apply all active filters
            if (typeof matchesFilters === 'function' && !matchesFilters(data[name])) return;
            // Filter by favorites if enabled
            if (showingFavoritesOnly && !favorites.has(name)) return;
            scores[name] = similarity(centerName, name);
        }
    });

    // Sort by similarity and take top N
    return Object.entries(scores)
        .sort((a, b) => b[1] - a[1])
        .slice(0, maxCount)
        .map(([name, sim]) => ({ name, sim }));
}

// Collision detection helper
function checkCollision(x, y, width, height, placed) {
    const padding = 15; // Extra spacing between labels
    for (const rect of placed) {
        if (x < rect.x + rect.w + padding &&
            x + width + padding > rect.x &&
            y < rect.y + rect.h + padding &&
            y + height + padding > rect.y) {
            return true;
        }
    }
    return false;
}

// Keep position within screen bounds
function clampToScreen(x, y, width, height) {
    const margin = 20;
    const minX = margin + width/2;
    const maxX = window.innerWidth - margin - width/2;
    const minY = 140 + height/2; // Account for search bar
    const maxY = window.innerHeight - margin - height/2;

    return {
        x: Math.max(minX, Math.min(maxX, x)),
        y: Math.max(minY, Math.min(maxY, y))
    };
}

// Find position without collision
function findPosition(baseX, baseY, width, height, placed, maxAttempts = 50) {
    // Clamp to screen first
    let { x: clampedX, y: clampedY } = clampToScreen(baseX, baseY, width, height);

    // Try the clamped position first
    if (!checkCollision(clampedX - width/2, clampedY - height/2, width, height, placed)) {
        return { x: clampedX, y: clampedY };
    }

    // Try spiraling outward to find a free spot
    for (let attempt = 1; attempt <= maxAttempts; attempt++) {
        const spiralRadius = attempt * 25;
        const angleStep = (Math.PI * 2) / 12;

        for (let a = 0; a < Math.PI * 2; a += angleStep) {
            const testX = clampedX + Math.cos(a) * spiralRadius;
            const testY = clampedY + Math.sin(a) * spiralRadius;

            // Clamp test position to screen
            const clamped = clampToScreen(testX, testY, width, height);

            if (!checkCollision(clamped.x - width/2, clamped.y - height/2, width, height, placed)) {
                return clamped;
            }
        }
    }

    // Fallback: return clamped position anyway
    return { x: clampedX, y: clampedY };
}

function render(centerName) {
    center = centerName;
    map.innerHTML = '';
    if (!data[centerName]) return;

    const cx = window.innerWidth / 2;
    const cy = window.innerHeight / 2;

    // Use more of the screen
    const maxX = window.innerWidth * 0.4;
    const maxY = window.innerHeight * 0.38;

    // Get related companies - fewer for clarity
    const related = getRelatedCompanies(centerName, 22);

    // Track placed label positions for collision detection
    const placed = [];

    // Create center label first
    createLabel(centerName, cx, cy, true);
    placed.push({ x: cx - 100, y: cy - 25, w: 200, h: 50 }); // Reserve center space

    // Seed random with center name for consistent layout
    const seed = centerName.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
    const seededRandom = (i) => {
        const x = Math.sin(seed + i * 9999) * 10000;
        return x - Math.floor(x);
    };

    // Position related companies based on similarity
    related.forEach((item, i) => {
        const { name, sim } = item;

        // Distance: inverse of similarity (more similar = closer)
        // Higher similarity = closer to center
        const minDist = 100; // Don't get too close to center
        const simFactor = 1 - Math.pow(sim, 0.7); // Non-linear for better spread
        const baseDistance = minDist + simFactor * Math.min(maxX, maxY) * 1.5;

        // Angle: use seeded randomness for organic feel, influenced by category
        const catHash = data[name].cat.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
        const baseAngle = seededRandom(i) * Math.PI * 2;
        const catInfluence = (catHash % 6) * (Math.PI / 3); // Group by category somewhat
        const angle = baseAngle + catInfluence * 0.3;

        // Calculate base position with organic variation
        const jitterX = (seededRandom(i + 100) - 0.5) * 80;
        const jitterY = (seededRandom(i + 200) - 0.5) * 80;

        let baseX = cx + Math.cos(angle) * baseDistance + jitterX;
        let baseY = cy + Math.sin(angle) * baseDistance + jitterY;

        // Size based on similarity
        const fontSize = 11 + sim * 8;

        // Estimate label width
        const estimatedWidth = name.length * fontSize * 0.55;
        const estimatedHeight = fontSize * 1.3;

        // Find position without collision
        const pos = findPosition(baseX, baseY, estimatedWidth, estimatedHeight, placed);

        // Add to placed list
        placed.push({
            x: pos.x - estimatedWidth/2,
            y: pos.y - estimatedHeight/2,
            w: estimatedWidth,
            h: estimatedHeight
        });

        // Opacity based on similarity
        const opacity = 0.5 + sim * 0.5;

        createLabel(name, pos.x, pos.y, false, fontSize, opacity, sim);

        // Draw connection line only for very related companies
        if (sim > 0.4) {
            createConnection(cx, cy, pos.x, pos.y, sim);
        }
    });

    showPanel(centerName);
}

function createLabel(name, x, y, isCenter, fontSize = 14, opacity = 1, sim = 1) {
    const el = document.createElement('div');
    el.className = 'company' + (isCenter ? ' center' : '');
    el.style.left = x + 'px';
    el.style.top = y + 'px';

    // Add category data attribute for color coding
    if (data[name]) {
        el.setAttribute('data-cat', data[name].cat);
    }

    // Add favorite star if in watchlist
    if (favorites.has(name)) {
        const star = document.createElement('span');
        star.className = 'favorite-star active';
        star.innerHTML = '&#9733;';
        star.onclick = (e) => { e.stopPropagation(); toggleFavorite(name); };
        el.appendChild(star);
    }

    const span = document.createElement('span');
    span.className = 'name';
    span.textContent = name;

    if (!isCenter) {
        span.style.fontSize = fontSize + 'px';
        // Whiter text - more similar = brighter
        const brightness = 70 + sim * 25; // 70-95% brightness
        const saturation = 5 + (1 - sim) * 15; // Less saturated = more white, further away slightly blue tinted
        span.style.color = `hsl(210, ${saturation}%, ${brightness}%)`;
        span.style.opacity = opacity;
    }

    el.appendChild(span);
    el.onclick = () => {
        if (compareMode) {
            toggleCompareSelection(name);
        } else {
            render(name);
        }
    };
    el.onmouseenter = () => showPanel(name);
    map.appendChild(el);
    return el;
}

function createConnection(x1, y1, x2, y2, sim) {
    const el = document.createElement('div');
    el.className = 'connection';
    const len = Math.hypot(x2-x1, y2-y1);
    const angle = Math.atan2(y2-y1, x2-x1) * 180 / Math.PI;
    el.style.width = len + 'px';
    el.style.left = x1 + 'px';
    el.style.top = y1 + 'px';
    el.style.transform = `rotate(${angle}deg)`;
    el.style.opacity = sim * 0.25; // More subtle connections
    map.insertBefore(el, map.firstChild);
    return el;
}

// Particle animation
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let particles = [];

function initParticles() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    particles = [];
    const count = Math.floor((canvas.width * canvas.height) / 15000);
    for (let i = 0; i < count; i++) {
        particles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 0.3,
            vy: (Math.random() - 0.5) * 0.3,
            size: Math.random() * 2 + 1
        });
    }
}

function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        if (p.x < 0) p.x = canvas.width;
        if (p.x > canvas.width) p.x = 0;
        if (p.y < 0) p.y = canvas.height;
        if (p.y > canvas.height) p.y = 0;

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(59, 130, 246, 0.5)';
        ctx.fill();
    });

    // Draw connections between nearby particles
    ctx.strokeStyle = 'rgba(59, 130, 246, 0.1)';
    ctx.lineWidth = 0.5;
    for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
            const dx = particles[i].x - particles[j].x;
            const dy = particles[i].y - particles[j].y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < 100) {
                ctx.beginPath();
                ctx.moveTo(particles[i].x, particles[i].y);
                ctx.lineTo(particles[j].x, particles[j].y);
                ctx.globalAlpha = 1 - dist / 100;
                ctx.stroke();
            }
        }
    }
    ctx.globalAlpha = 1;

    requestAnimationFrame(animateParticles);
}

initParticles();
animateParticles();
window.addEventListener('resize', () => { initParticles(); render(center || 'OpenAI'); });

// Multi-Filter System
const filters = {
    category: null,
    country: null,
    region: null,
    valuation: null
};

// Parse HQ to get country
function parseCountry(hq) {
    if (!hq) return 'Unknown';
    const parts = hq.split(',').map(s => s.trim());
    const last = parts[parts.length - 1];
    // Map state abbreviations to USA
    if (/^[A-Z]{2}$/.test(last) && ['CA', 'NY', 'TX', 'WA', 'MA', 'PA', 'IL', 'CO', 'VA', 'NJ', 'GA', 'FL', 'NC', 'OR', 'AZ', 'MD', 'UT', 'TN', 'MO', 'IN', 'OH', 'MI', 'MN', 'WI'].includes(last)) {
        return 'USA';
    }
    return last;
}

// Region mappings
const REGION_MAP = {
    'USA': 'North America',
    'Canada': 'North America',
    'UK': 'Europe',
    'France': 'Europe',
    'Germany': 'Europe',
    'Netherlands': 'Europe',
    'Sweden': 'Europe',
    'Norway': 'Europe',
    'Ireland': 'Europe',
    'Poland': 'Europe',
    'Austria': 'Europe',
    'Slovakia': 'Europe',
    'Israel': 'Middle East',
    'China': 'Asia',
    'Japan': 'Asia',
    'Australia': 'Oceania',
    'Luxembourg': 'Europe'
};

function getRegion(country) {
    return REGION_MAP[country] || 'Other';
}

// Parse valuation to number (in billions)
function parseValuationBillions(val) {
    if (!val || val === 'N/A') return null;
    // Handle "Parent Company" style values
    if (!val.startsWith('$')) return null;
    const num = parseFloat(val.replace(/[$,]/g, ''));
    if (val.includes('T')) return num * 1000;
    if (val.includes('B')) return num;
    if (val.includes('M')) return num / 1000;
    return num;
}

// Valuation ranges
const VAL_RANGES = [
    { label: 'Under $100M', min: 0, max: 0.1 },
    { label: '$100M - $1B', min: 0.1, max: 1 },
    { label: '$1B - $10B', min: 1, max: 10 },
    { label: '$10B - $50B', min: 10, max: 50 },
    { label: '$50B - $100B', min: 50, max: 100 },
    { label: 'Over $100B', min: 100, max: Infinity }
];

function getValuationRange(val) {
    const num = parseValuationBillions(val);
    if (num === null) return null;
    for (const range of VAL_RANGES) {
        if (num >= range.min && num < range.max) return range.label;
    }
    return null;
}

// Get unique values for each filter
function getFilterOptions(type) {
    const counts = {};
    Object.values(data).forEach(c => {
        let value;
        if (type === 'category') value = c.cat;
        else if (type === 'country') value = parseCountry(c.hq);
        else if (type === 'region') value = getRegion(parseCountry(c.hq));
        else if (type === 'valuation') value = getValuationRange(c.val);
        if (value) counts[value] = (counts[value] || 0) + 1;
    });
    // Sort appropriately
    if (type === 'valuation') {
        return VAL_RANGES.map(r => [r.label, counts[r.label] || 0]).filter(([_, c]) => c > 0);
    }
    return Object.entries(counts).sort((a, b) => b[1] - a[1]);
}

// Check if company matches all active filters
function matchesFilters(company) {
    if (filters.category && company.cat !== filters.category) return false;
    if (filters.country && parseCountry(company.hq) !== filters.country) return false;
    if (filters.region && getRegion(parseCountry(company.hq)) !== filters.region) return false;
    if (filters.valuation && getValuationRange(company.val) !== filters.valuation) return false;
    return true;
}

// Get filtered company count
function getFilteredCount() {
    return Object.values(data).filter(matchesFilters).length;
}

// Filter elements
const filterCatBtn = document.getElementById('filter-cat-btn');
const filterCatDropdown = document.getElementById('filter-cat-dropdown');
const filterCatLabel = document.getElementById('filter-cat-label');

const filterCountryBtn = document.getElementById('filter-country-btn');
const filterCountryDropdown = document.getElementById('filter-country-dropdown');
const filterCountryLabel = document.getElementById('filter-country-label');

const filterRegionBtn = document.getElementById('filter-region-btn');
const filterRegionDropdown = document.getElementById('filter-region-dropdown');
const filterRegionLabel = document.getElementById('filter-region-label');

const filterValBtn = document.getElementById('filter-val-btn');
const filterValDropdown = document.getElementById('filter-val-dropdown');
const filterValLabel = document.getElementById('filter-val-label');

const clearFiltersBtn = document.getElementById('clear-filters');

function renderFilterDropdown(type, dropdown, currentValue) {
    const options = getFilterOptions(type);
    const total = type === 'category' ? Object.keys(data).length : options.reduce((s, [_, c]) => s + c, 0);
    const allLabel = type === 'category' ? 'All Categories' : type === 'country' ? 'All Countries' : type === 'region' ? 'All Regions' : 'All Valuations';

    dropdown.innerHTML = `
        <div class="filter-item ${!currentValue ? 'active' : ''}" data-value="">
            <span>${allLabel}</span>
            <span class="count">${total}</span>
        </div>
        ${options.map(([val, count]) => `
            <div class="filter-item ${currentValue === val ? 'active' : ''}" data-value="${val}">
                <span>${val}</span>
                <span class="count">${count}</span>
            </div>
        `).join('')}
    `;
}

function updateFilterButtons() {
    // Update button styles and labels
    filterCatBtn.classList.toggle('active', !!filters.category);
    filterCatLabel.textContent = filters.category || 'Category';

    filterCountryBtn.classList.toggle('active', !!filters.country);
    filterCountryLabel.textContent = filters.country || 'Country';

    filterRegionBtn.classList.toggle('active', !!filters.region);
    filterRegionLabel.textContent = filters.region || 'Region';

    filterValBtn.classList.toggle('active', !!filters.valuation);
    filterValLabel.textContent = filters.valuation || 'Valuation';

    // Show/hide clear button
    const hasFilters = filters.category || filters.country || filters.region || filters.valuation;
    clearFiltersBtn.classList.toggle('visible', hasFilters);
}

function closeAllDropdowns() {
    [filterCatDropdown, filterCountryDropdown, filterRegionDropdown, filterValDropdown].forEach(d => d.classList.remove('open'));
}

// Set up filter button handlers
function setupFilter(btn, dropdown, type, label) {
    btn.onclick = (e) => {
        e.stopPropagation();
        const wasOpen = dropdown.classList.contains('open');
        closeAllDropdowns();
        if (!wasOpen) {
            renderFilterDropdown(type, dropdown, filters[type]);
            dropdown.classList.add('open');
        }
    };

    dropdown.addEventListener('click', e => {
        const item = e.target.closest('.filter-item');
        if (item) {
            filters[type] = item.dataset.value || null;
            updateFilterButtons();
            dropdown.classList.remove('open');
            render(center || 'OpenAI');
        }
    });
}

setupFilter(filterCatBtn, filterCatDropdown, 'category', filterCatLabel);
setupFilter(filterCountryBtn, filterCountryDropdown, 'country', filterCountryLabel);
setupFilter(filterRegionBtn, filterRegionDropdown, 'region', filterRegionLabel);
setupFilter(filterValBtn, filterValDropdown, 'valuation', filterValLabel);

clearFiltersBtn.onclick = () => {
    filters.category = null;
    filters.country = null;
    filters.region = null;
    filters.valuation = null;
    updateFilterButtons();
    render(center || 'OpenAI');
};

document.addEventListener('click', e => {
    if (!e.target.closest('.filter-wrap')) closeAllDropdowns();
});

// Legacy compatibility - activeCategory now uses filters
let activeCategory = null;
Object.defineProperty(window, 'activeCategory', {
    get() { return filters.category; },
    set(v) { filters.category = v; }
});

// Search
const searchInput = document.getElementById('search');
const dropdown = document.getElementById('dropdown');
let selectedIndex = -1;

searchInput.addEventListener('input', e => {
    const q = e.target.value.toLowerCase().trim();
    selectedIndex = -1;
    if (q.length < 1) { dropdown.classList.remove('open'); return; }

    let matches = Object.keys(data).filter(n => n.toLowerCase().includes(q));

    // Apply all active filters
    matches = matches.filter(n => matchesFilters(data[n]));

    matches = matches.sort((a, b) => {
        const as = a.toLowerCase().startsWith(q), bs = b.toLowerCase().startsWith(q);
        return as && !bs ? -1 : !as && bs ? 1 : a.localeCompare(b);
    }).slice(0, 8);

    if (matches.length) {
        dropdown.innerHTML = '';
        matches.forEach((n, i) => {
            const c = data[n];
            const url = logoUrl(c.domain);

            const item = document.createElement('div');
            item.className = 'dropdown-item';
            item.dataset.name = n;
            item.dataset.index = String(i);

            const logo = document.createElement('div');
            logo.className = 'logo';
            if (url) {
                const img = document.createElement('img');
                img.src = url;
                img.onerror = () => {
                    logo.innerHTML = '';
                    const span = document.createElement('span');
                    span.textContent = n.slice(0, 2);
                    logo.appendChild(span);
                };
                logo.appendChild(img);
            } else {
                const span = document.createElement('span');
                span.textContent = n.slice(0, 2);
                logo.appendChild(span);
            }

            const info = document.createElement('div');
            info.className = 'info';
            const name = document.createElement('div');
            name.className = 'name';
            name.textContent = n;
            const cat = document.createElement('div');
            cat.className = 'cat';
            cat.textContent = c.cat || '';
            info.appendChild(name);
            info.appendChild(cat);

            item.appendChild(logo);
            item.appendChild(info);

            if (c.val) {
                const val = document.createElement('div');
                val.className = 'val';
                val.textContent = c.val;
                item.appendChild(val);
            }

            dropdown.appendChild(item);
        });
        dropdown.classList.add('open');
    } else dropdown.classList.remove('open');
});

searchInput.addEventListener('keydown', e => {
    const items = dropdown.querySelectorAll('.dropdown-item');
    if (!items.length) return;

    if (e.key === 'ArrowDown') {
        e.preventDefault();
        selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
        updateSelection(items);
    } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        selectedIndex = Math.max(selectedIndex - 1, 0);
        updateSelection(items);
    } else if (e.key === 'Enter') {
        e.preventDefault();
        const selected = selectedIndex >= 0 ? items[selectedIndex] : items[0];
        if (selected) {
            render(selected.dataset.name);
            dropdown.classList.remove('open');
            searchInput.value = '';
            searchInput.blur();
        }
    } else if (e.key === 'Escape') {
        dropdown.classList.remove('open');
        selectedIndex = -1;
    }
});

function updateSelection(items) {
    items.forEach((item, i) => {
        item.classList.toggle('active', i === selectedIndex);
    });
    // Scroll into view if needed
    if (selectedIndex >= 0 && items[selectedIndex]) {
        items[selectedIndex].scrollIntoView({ block: 'nearest' });
    }
}

dropdown.addEventListener('click', e => {
    const item = e.target.closest('.dropdown-item');
    if (item) { render(item.dataset.name); dropdown.classList.remove('open'); searchInput.value = ''; }
});

document.addEventListener('click', e => {
    if (!e.target.closest('.search-wrap')) {
        dropdown.classList.remove('open');
        selectedIndex = -1;
    }
});

// Admin modal
const modal = document.getElementById('modal');
const editModal = document.getElementById('edit-modal');

document.getElementById('admin-btn').onclick = () => { modal.classList.add('open'); renderList(); };
document.getElementById('modal-close').onclick = () => modal.classList.remove('open');
document.getElementById('edit-close').onclick = () => editModal.classList.remove('open');
modal.onclick = e => { if (e.target === modal) modal.classList.remove('open'); };
editModal.onclick = e => { if (e.target === editModal) editModal.classList.remove('open'); };

document.querySelectorAll('.tab').forEach(tab => {
    tab.onclick = () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
    };
});

function renderList(filter = '') {
    const list = document.getElementById('company-list');
    const items = Object.keys(data).filter(n => n.toLowerCase().includes(filter.toLowerCase())).sort();
    list.innerHTML = items.map(n => `<div class="list-item" data-name="${escapeHTML(n)}"><div><div class="name">${escapeHTML(n)}</div><div class="cat">${escapeHTML(data[n].cat || '')}</div></div><button>&times;</button></div>`).join('');
}

document.getElementById('edit-search').oninput = e => renderList(e.target.value);

document.getElementById('company-list').addEventListener('click', e => {
    const item = e.target.closest('.list-item');
    if (!item) return;
    const name = item.dataset.name;
    if (e.target.tagName === 'BUTTON') {
        if (confirm(`Delete ${name}?`)) { delete data[name]; save(); renderList(); render(center || 'OpenAI'); }
    } else {
        const c = data[name];
        document.getElementById('edit-orig').value = name;
        document.getElementById('edit-name').value = name;
        document.getElementById('edit-domain').value = c.domain || '';
        document.getElementById('edit-cat').value = c.cat;
        document.getElementById('edit-desc').value = c.desc;
        document.getElementById('edit-hq').value = c.hq || '';
        document.getElementById('edit-val').value = c.val || '';
        document.getElementById('edit-rel').value = (c.rel || []).join(', ');
        editModal.classList.add('open');
    }
});

document.getElementById('add-btn').onclick = () => {
    const name = document.getElementById('add-name').value.trim();
    if (!name || data[name]) return alert(data[name] ? 'Company exists' : 'Enter name');
    data[name] = {
        desc: document.getElementById('add-desc').value.trim() || 'AI company',
        cat: document.getElementById('add-cat').value,
        hq: document.getElementById('add-hq').value.trim(),
        val: document.getElementById('add-val').value.trim(),
        domain: document.getElementById('add-domain').value.trim(),
        rel: document.getElementById('add-rel').value.split(',').map(s => s.trim()).filter(Boolean)
    };
    save(); render(name);
    ['add-name','add-domain','add-desc','add-hq','add-val','add-rel'].forEach(id => document.getElementById(id).value = '');
};

document.getElementById('save-btn').onclick = () => {
    const orig = document.getElementById('edit-orig').value;
    const name = document.getElementById('edit-name').value.trim();
    if (!name) return;
    if (name !== orig) { delete data[orig]; }
    data[name] = {
        desc: document.getElementById('edit-desc').value.trim(),
        cat: document.getElementById('edit-cat').value,
        hq: document.getElementById('edit-hq').value.trim(),
        val: document.getElementById('edit-val').value.trim(),
        domain: document.getElementById('edit-domain').value.trim(),
        rel: document.getElementById('edit-rel').value.split(',').map(s => s.trim()).filter(Boolean)
    };
    save(); editModal.classList.remove('open'); renderList(); render(center || 'OpenAI');
};

document.getElementById('delete-btn').onclick = () => {
    const name = document.getElementById('edit-orig').value;
    if (confirm(`Delete ${name}?`)) { delete data[name]; save(); editModal.classList.remove('open'); renderList(); render('OpenAI'); }
};

document.getElementById('export-btn').onclick = () => {
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'aimap-data.json'; a.click();
};

document.getElementById('import-file').onchange = e => {
    const file = e.target.files[0]; if (!file) return;
    const reader = new FileReader();
    reader.onload = ev => { try { data = JSON.parse(ev.target.result); save(); render(center || 'OpenAI'); alert('Imported!'); } catch { alert('Invalid JSON'); } };
    reader.readAsText(file);
};

document.getElementById('reset-btn').onclick = () => {
    if (confirm('Reset to default data?')) { data = JSON.parse(JSON.stringify(defaultData)); save(); render('OpenAI'); }
};

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
    // Check if user is not in an input/textarea
    const isTyping = ['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement.tagName);

    if (e.key === 'Escape') {
        // Close any open modals
        document.getElementById('shortcuts-modal').classList.remove('open');
        document.getElementById('analytics-modal').classList.remove('open');
        if (compareMode) toggleCompareMode();
        panel.classList.remove('open');
        return;
    }

    if (isTyping) return;

    switch(e.key) {
        case '/':
            e.preventDefault();
            document.getElementById('search').focus();
            break;
        case '?':
            e.preventDefault();
            document.getElementById('shortcuts-modal').classList.toggle('open');
            break;
        case 'r':
        case 'R':
            e.preventDefault();
            surpriseMe();
            break;
        case 'f':
        case 'F':
            e.preventDefault();
            toggleFavoritesFilter();
            break;
        case 'a':
        case 'A':
            e.preventDefault();
            showAnalytics();
            break;
        case 'c':
        case 'C':
            e.preventDefault();
            toggleCompareMode();
            break;
        case '+':
        case '=':
            e.preventDefault();
            zoomIn();
            break;
        case '-':
        case '_':
            e.preventDefault();
            zoomOut();
            break;
        case '0':
            e.preventDefault();
            resetZoom();
            break;
    }
});

// Toolbar button event listeners
document.getElementById('surprise-btn').onclick = surpriseMe;
document.getElementById('favorites-btn').onclick = toggleFavoritesFilter;
document.getElementById('compare-btn').onclick = toggleCompareMode;
document.getElementById('analytics-btn').onclick = showAnalytics;
document.getElementById('export-csv-btn').onclick = exportToCSV;
document.getElementById('shortcuts-btn').onclick = () => document.getElementById('shortcuts-modal').classList.toggle('open');

// Zoom controls
document.getElementById('zoom-in').onclick = zoomIn;
document.getElementById('zoom-out').onclick = zoomOut;
document.getElementById('zoom-reset').onclick = resetZoom;

// Modal close buttons
document.getElementById('shortcuts-close').onclick = () => document.getElementById('shortcuts-modal').classList.remove('open');
document.getElementById('analytics-close').onclick = () => document.getElementById('analytics-modal').classList.remove('open');
document.getElementById('compare-close').onclick = toggleCompareMode;
document.getElementById('compare-clear').onclick = () => { compareSelected.clear(); updateCompareDisplay(); };

// Panel favorite button
document.getElementById('panel-favorite').onclick = () => {
    if (currentPanelCompany) {
        toggleFavorite(currentPanelCompany);
        showPanel(currentPanelCompany); // Update button state
    }
};

// Feed sidebar toggle functionality
const newsFeed = document.getElementById('news-feed');
const newsToggle = document.getElementById('news-toggle');
const newsShow = document.getElementById('news-show');
const twitterFeed = document.getElementById('twitter-feed');
const twitterToggle = document.getElementById('twitter-toggle');
const twitterShow = document.getElementById('twitter-show');

newsToggle.onclick = () => {
    newsFeed.classList.add('collapsed');
    newsShow.classList.add('visible');
    localStorage.setItem('newsFeedCollapsed', 'true');
};

newsShow.onclick = () => {
    newsFeed.classList.remove('collapsed');
    newsShow.classList.remove('visible');
    localStorage.setItem('newsFeedCollapsed', 'false');
};

twitterToggle.onclick = () => {
    twitterFeed.classList.add('collapsed');
    twitterShow.classList.add('visible');
    localStorage.setItem('twitterFeedCollapsed', 'true');
};

twitterShow.onclick = () => {
    twitterFeed.classList.remove('collapsed');
    twitterShow.classList.remove('visible');
    localStorage.setItem('twitterFeedCollapsed', 'false');
};

// Restore feed states
if (localStorage.getItem('newsFeedCollapsed') === 'true') {
    newsFeed.classList.add('collapsed');
    newsShow.classList.add('visible');
}
if (localStorage.getItem('twitterFeedCollapsed') === 'true') {
    twitterFeed.classList.add('collapsed');
    twitterShow.classList.add('visible');
}

// News feed loading - More diverse sources
const NEWS_SOURCES = [
    { name: 'TechCrunch', url: 'https://techcrunch.com/category/artificial-intelligence/feed/', keywords: [], priority: 2 },
    { name: 'The Verge', url: 'https://www.theverge.com/ai-artificial-intelligence/rss/index.xml', keywords: [], priority: 2 },
    { name: 'VentureBeat', url: 'https://venturebeat.com/category/ai/feed/', keywords: [], priority: 2 },
    { name: 'Wired', url: 'https://www.wired.com/feed/tag/ai/latest/rss', keywords: [], priority: 2 },
    { name: 'MIT Tech Review', url: 'https://www.technologyreview.com/feed/', keywords: ['AI', 'artificial intelligence', 'machine learning', 'neural', 'GPT', 'LLM', 'OpenAI', 'Anthropic', 'DeepMind'], priority: 3 },
    { name: 'Reuters Tech', url: 'https://www.reuters.com/technology/rss', keywords: ['AI', 'artificial intelligence', 'OpenAI', 'Anthropic', 'Google', 'Microsoft', 'Nvidia'], priority: 3 },
    { name: 'Ars Technica', url: 'https://feeds.arstechnica.com/arstechnica/technology-lab', keywords: ['AI', 'artificial intelligence', 'OpenAI', 'Anthropic', 'GPT', 'LLM', 'machine learning', 'neural'], priority: 2 },
    { name: 'The Information', url: 'https://www.theinformation.com/feed', keywords: [], priority: 3 },
    { name: 'Bloomberg Tech', url: 'https://feeds.bloomberg.com/technology/news.rss', keywords: ['AI', 'artificial intelligence', 'OpenAI', 'Anthropic', 'Nvidia', 'Microsoft'], priority: 3 }
];

const RSS_PROXY = 'https://api.rss2json.com/v1/api.json?rss_url=';

async function loadNewsFeed() {
    const newsContent = document.getElementById('news-content');
    const allNews = [];
    const now = Date.now();
    const fortyEightHours = 48 * 60 * 60 * 1000;

    try {
        const promises = NEWS_SOURCES.map(async (source) => {
            try {
                const res = await fetch(RSS_PROXY + encodeURIComponent(source.url));
                const data = await res.json();
                if (data.status === 'ok' && data.items) {
                    return data.items
                        .filter(item => {
                            const pubDate = new Date(item.pubDate).getTime();
                            const isRecent = (now - pubDate) < fortyEightHours;
                            if (!isRecent) return false;
                            if (source.keywords.length > 0) {
                                const text = (item.title + ' ' + (item.description || '')).toLowerCase();
                                return source.keywords.some(kw => text.includes(kw.toLowerCase()));
                            }
                            return true;
                        })
                        .map(item => ({
                            source: source.name,
                            title: item.title,
                            link: item.link,
                            pubDate: new Date(item.pubDate),
                            priority: source.priority
                        }));
                }
                return [];
            } catch (e) {
                console.warn('Failed to load feed:', source.name, e);
                return [];
            }
        });

        const results = await Promise.all(promises);
        results.forEach(items => allNews.push(...items));

        // Sort by date, then diversify sources
        allNews.sort((a, b) => b.pubDate - a.pubDate);

        // Diversify: limit items per source, prioritize variety
        const sourceCounts = {};
        const maxPerSource = 4;
        const diversified = allNews.filter(item => {
            sourceCounts[item.source] = (sourceCounts[item.source] || 0) + 1;
            return sourceCounts[item.source] <= maxPerSource;
        });

        // Re-sort with slight priority boost for high-priority sources
        diversified.sort((a, b) => {
            const timeDiff = b.pubDate - a.pubDate;
            const priorityBoost = (b.priority - a.priority) * 3600000; // 1 hour per priority level
            return timeDiff - priorityBoost;
        });

        if (diversified.length === 0) {
            newsContent.innerHTML = '';
            const empty = document.createElement('div');
            empty.className = 'news-loading';
            empty.textContent = 'No AI news in the last 48 hours. Check back later!';
            newsContent.appendChild(empty);
            return;
        }

        const displayNews = diversified.slice(0, 25);
        newsContent.innerHTML = '';
        displayNews.forEach(item => {
            const timeAgo = getTimeAgo(item.pubDate);
            const wrap = document.createElement('div');
            wrap.className = 'news-item';

            const link = document.createElement('a');
            link.href = item.link;
            link.target = '_blank';
            link.rel = 'noopener';

            const source = document.createElement('div');
            source.className = 'news-source';
            source.textContent = item.source;

            const title = document.createElement('div');
            title.className = 'news-title';
            title.textContent = item.title;

            const time = document.createElement('div');
            time.className = 'news-time';
            time.textContent = timeAgo;

            link.appendChild(source);
            link.appendChild(title);
            link.appendChild(time);
            wrap.appendChild(link);
            newsContent.appendChild(wrap);
        });

    } catch (e) {
        console.error('News feed error:', e);
        newsContent.innerHTML = '';
        const error = document.createElement('div');
        error.className = 'feed-error';
        error.textContent = 'Failed to load news. Try refreshing.';
        newsContent.appendChild(error);
    }
}

function getTimeAgo(date) {
    const seconds = Math.floor((Date.now() - date.getTime()) / 1000);
    if (seconds < 60) return 'Just now';
    const minutes = Math.floor(seconds / 60);
    if (minutes < 60) return `${minutes}m ago`;
    const hours = Math.floor(minutes / 60);
    if (hours < 24) return `${hours}h ago`;
    const days = Math.floor(hours / 24);
    return `${days}d ago`;
}

// X/Twitter Accounts Management
const DEFAULT_X_ACCOUNTS = [
    { handle: 'sama', name: 'Sam Altman', role: 'CEO, OpenAI' },
    { handle: 'DarioAmodei', name: 'Dario Amodei', role: 'CEO, Anthropic' },
    { handle: 'karpathy', name: 'Andrej Karpathy', role: 'AI Researcher' },
    { handle: 'ylecun', name: 'Yann LeCun', role: 'Chief AI Scientist, Meta' },
    { handle: 'demaborish', name: 'Demis Hassabis', role: 'CEO, DeepMind' },
    { handle: 'elonmusk', name: 'Elon Musk', role: 'CEO, xAI' },
    { handle: 'satikiram', name: 'Satya Nadella', role: 'CEO, Microsoft' },
    { handle: 'JensenHuang', name: 'Jensen Huang', role: 'CEO, NVIDIA' },
    { handle: 'AravSrinivas', name: 'Aravind Srinivas', role: 'CEO, Perplexity' },
    { handle: 'fchollet', name: 'Franois Chollet', role: 'Creator of Keras' },
    { handle: 'swyx', name: 'Shawn Wang', role: 'AI Thought Leader' },
    { handle: 'bindureddy', name: 'Bindu Reddy', role: 'CEO, Abacus.AI' },
    { handle: 'emaborish', name: 'Emad Mostaque', role: 'Founder, Stability AI' }
];

let currentXAccount = null;
let showingManagePanel = false;
let cachedTweets = null;

function getXAccounts() {
    const stored = localStorage.getItem('xAccounts');
    if (stored) {
        try {
            return JSON.parse(stored);
        } catch (e) {
            return [...DEFAULT_X_ACCOUNTS];
        }
    }
    return [...DEFAULT_X_ACCOUNTS];
}

function saveXAccounts(accounts) {
    localStorage.setItem('xAccounts', JSON.stringify(accounts));
}

function getCurrentXAccount() {
    const stored = localStorage.getItem('currentXAccount');
    const accounts = getXAccounts();
    if (stored && accounts.some(a => a.handle === stored)) {
        return stored;
    }
    return accounts.length > 0 ? accounts[0].handle : null;
}

function setCurrentXAccount(handle) {
    localStorage.setItem('currentXAccount', handle);
    currentXAccount = handle;
}

// Populate account selector dropdown
function renderXAccountSelector() {
    const select = document.getElementById('x-account-select');
    const accounts = getXAccounts();
    currentXAccount = getCurrentXAccount();

    select.innerHTML = '<option value="all">All Accounts</option>' +
        accounts.map(acc =>
            `<option value="${escapeHTML(acc.handle)}" ${acc.handle === currentXAccount ? 'selected' : ''}>@${escapeHTML(acc.handle)} - ${escapeHTML(acc.name)}</option>`
        ).join('');
}

function formatTimeAgo(timestamp) {
    if (!timestamp) return '';
    const now = new Date();
    const then = new Date(timestamp);
    const diff = Math.floor((now - then) / 1000);
    if (diff < 60) return 'just now';
    if (diff < 3600) return Math.floor(diff / 60) + 'm';
    if (diff < 86400) return Math.floor(diff / 3600) + 'h';
    if (diff < 604800) return Math.floor(diff / 86400) + 'd';
    if (diff < 2592000) return Math.floor(diff / 604800) + 'w';
    return then.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
}

function formatNumber(n) {
    if (!n) return '0';
    if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
    if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
    return n.toString();
}

function renderTweetHTML(tweet) {
    const avatarSrc = tweet.avatar || `https://unavatar.io/twitter/${tweet.handle}`;
    const timeAgo = formatTimeAgo(tweet.timestamp);

    // Make URLs in text clickable
    let text = escapeHTML(tweet.text);
    text = text.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" rel="noopener">$1</a>');
    text = text.replace(/@(\w+)/g, '<a href="https://x.com/$1" target="_blank" rel="noopener">@$1</a>');

    const mediaHTML = (tweet.media && tweet.media.length > 0) ?
        `<div class="x-tweet-media">${tweet.media.map(m =>
            `<img src="${m.url}" alt="" loading="lazy" onerror="this.style.display='none'">`
        ).join('')}</div>` : '';

    return `
        <div class="x-tweet-item">
            <div class="x-tweet-header">
                <img class="x-tweet-avatar" src="${avatarSrc}" alt="" onerror="this.style.opacity='0.3'">
                <div class="x-tweet-author">
                    <span class="x-tweet-name">${escapeHTML(tweet.name)}</span>
                    <span class="x-tweet-handle-time">@${escapeHTML(tweet.handle)}  ${timeAgo}</span>
                </div>
            </div>
            <div class="x-tweet-text">${text}</div>
            ${mediaHTML}
            <div class="x-tweet-metrics">
                <span class="x-tweet-metric">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                    ${formatNumber(tweet.replies)}
                </span>
                <span class="x-tweet-metric">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 1l4 4-4 4"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/><path d="M7 23l-4-4 4-4"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/></svg>
                    ${formatNumber(tweet.retweets)}
                </span>
                <span class="x-tweet-metric">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
                    ${formatNumber(tweet.likes)}
                </span>
                <a class="x-tweet-link" href="${tweet.url}" target="_blank" rel="noopener">View on X</a>
            </div>
        </div>
    `;
}

// Load tweets from tweets.json and display them
async function loadTweetsData() {
    const container = document.getElementById('x-timeline-container');
    container.innerHTML = '<div class="x-loading">Loading tweets...</div>';

    try {
        const resp = await fetch('tweets.json?t=' + Date.now());
        if (!resp.ok) throw new Error('Failed to load');
        const data = await resp.json();
        cachedTweets = data;
        loadXTimeline(currentXAccount || 'all');
    } catch (e) {
        // Fallback to account cards if no tweets.json
        cachedTweets = { tweets: [], updated: '' };
        loadXTimeline(currentXAccount || 'all');
    }
}

// Show tweets for selected account (or all)
function loadXTimeline(handle) {
    const container = document.getElementById('x-timeline-container');
    const accounts = getXAccounts();

    if (!cachedTweets || cachedTweets.tweets.length === 0) {
        // Fallback: show account cards if no tweets available
        const currentAcc = accounts.find(a => a.handle === handle) || accounts[0] || { name: 'AI', handle: 'OpenAI' };
        container.innerHTML = `
            <div class="x-featured-account">
                <a href="https://x.com/${currentAcc.handle}" target="_blank" rel="noopener" class="x-featured-link">
                    <img src="https://unavatar.io/twitter/${currentAcc.handle}" alt="@${escapeHTML(currentAcc.handle)}" onerror="this.style.opacity='0.5'">
                    <div class="x-featured-info">
                        <span class="x-featured-name">${escapeHTML(currentAcc.name)}</span>
                        <span class="x-featured-handle">@${escapeHTML(currentAcc.handle)}</span>
                    </div>
                    <span class="x-featured-btn">View on X</span>
                </a>
            </div>
            <div class="x-accounts-section">
                <div class="x-section-title">AI Voices to Follow</div>
                <div class="x-accounts-grid">
                    ${accounts.filter(a => a.handle !== currentAcc.handle).slice(0, 8).map(acc => `
                        <a href="https://x.com/${acc.handle}" target="_blank" rel="noopener" class="x-account-card" title="${acc.name}">
                            <img src="https://unavatar.io/twitter/${acc.handle}" alt="${escapeHTML(acc.name)}" onerror="this.style.opacity='0.3'">
                            <span class="x-card-name">${escapeHTML(acc.name.split(' ')[0])}</span>
                            <span class="x-card-handle">@${escapeHTML(acc.handle)}</span>
                        </a>
                    `).join('')}
                </div>
            </div>
        `;
        return;
    }

    // Filter tweets
    let tweets = cachedTweets.tweets;
    if (handle && handle !== 'all') {
        tweets = tweets.filter(t => t.handle.toLowerCase() === handle.toLowerCase());
    }

    // Build the tweet feed
    const tweetsHTML = tweets.slice(0, 20).map(t => renderTweetHTML(t)).join('');

    const updatedTime = cachedTweets.updated ?
        new Date(cachedTweets.updated).toLocaleString('en-US', { month: 'short', day: 'numeric', hour: 'numeric', minute: '2-digit' }) : '';

    container.innerHTML = tweetsHTML +
        (updatedTime ? `<div class="x-feed-status">Last updated: ${updatedTime}  ${cachedTweets.tweets.length} tweets cached</div>` : '');

    if (tweets.length === 0) {
        container.innerHTML = `
            <div class="x-loading" style="flex-direction:column;gap:8px;">
                <span>No tweets cached for @${handle}</span>
                <a href="https://x.com/${handle}" target="_blank" rel="noopener" style="color:#3b82f6;font-size:12px;">View on X</a>
            </div>
        `;
    }
}

// Render manage panel with account list
function renderXAccountsList() {
    const container = document.getElementById('x-accounts-list');
    const accounts = getXAccounts();

    container.innerHTML = `
        <div class="x-manage-header">
            <span>Accounts (${accounts.length})</span>
            <button onclick="resetXAccounts()">Reset to Default</button>
        </div>
        ${accounts.map((acc, idx) => `
            <div class="x-account" data-index="${idx}">
                <div class="x-account-avatar">
                    <img src="https://unavatar.io/twitter/${acc.handle}" alt="${acc.name}" onerror="this.style.display='none'">
                </div>
                <div class="x-account-info">
                    <div class="x-account-name">${escapeHTML(acc.name)}</div>
                    <div class="x-account-handle">@${escapeHTML(acc.handle)}</div>
                </div>
                <button class="x-account-remove" data-index="${idx}" title="Remove">
                    <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
        `).join('')}
    `;

    // Add remove handlers
    container.querySelectorAll('.x-account-remove').forEach(btn => {
        btn.onclick = (e) => {
            e.stopPropagation();
            const idx = parseInt(btn.dataset.index);
            const accounts = getXAccounts();
            accounts.splice(idx, 1);
            saveXAccounts(accounts);
            renderXAccountsList();
            renderXAccountSelector();
        };
    });
}

function resetXAccounts() {
    if (confirm('Reset to default accounts?')) {
        localStorage.removeItem('xAccounts');
        localStorage.removeItem('currentXAccount');
        renderXAccountSelector();
        renderXAccountsList();
        currentXAccount = getCurrentXAccount();
        loadXTimeline(currentXAccount);
    }
}

function addXAccount(handle) {
    handle = handle.trim().replace('@', '');
    if (!handle) return;

    const accounts = getXAccounts();
    if (accounts.some(a => a.handle.toLowerCase() === handle.toLowerCase())) {
        alert('Account already in list');
        return;
    }

    accounts.unshift({ handle: handle, name: handle, role: '' });
    saveXAccounts(accounts);
    renderXAccountsList();
    renderXAccountSelector();
}

function toggleManagePanel() {
    const panel = document.getElementById('x-manage-panel');
    const timeline = document.getElementById('x-timeline-container');
    showingManagePanel = !showingManagePanel;

    if (showingManagePanel) {
        panel.style.display = 'block';
        timeline.style.display = 'none';
        renderXAccountsList();
    } else {
        panel.style.display = 'none';
        timeline.style.display = 'block';
    }
}

// Event handlers
document.getElementById('x-account-select').onchange = (e) => {
    setCurrentXAccount(e.target.value);
    loadXTimeline(e.target.value);
};

document.getElementById('manage-x-accounts').onclick = toggleManagePanel;

document.getElementById('add-x-btn').onclick = () => {
    const input = document.getElementById('add-x-handle');
    addXAccount(input.value);
    input.value = '';
};

document.getElementById('add-x-handle').onkeydown = (e) => {
    if (e.key === 'Enter') {
        const input = document.getElementById('add-x-handle');
        addXAccount(input.value);
        input.value = '';
    }
};

// === Gemini AI Integration ===
const GEMINI_MODEL = 'gemini-2.5-flash-lite';
function getGeminiKey() { return localStorage.getItem('aimap_gemini_key') || ''; }
function setGeminiKey(k) { localStorage.setItem('aimap_gemini_key', k.trim()); }

async function callGemini(prompt, maxRetries = 3) {
    if (!getGeminiKey()) throw new Error('Gemini API key not configured. Go to Manage  Data tab to enter your key.');
    for (let attempt = 0; attempt <= maxRetries; attempt++) {
        const res = await fetch(
            `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${getGeminiKey()}`,
            {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }] }],
                    generationConfig: { temperature: 0.7, maxOutputTokens: 1024 }
                })
            }
        );
        const json = await res.json();
        // Rate limited  wait and retry
        if (res.status === 429 && attempt < maxRetries) {
            const retryMatch = json?.error?.message?.match(/retry in ([\d.]+)s/i);
            const waitSec = retryMatch ? Math.ceil(parseFloat(retryMatch[1])) + 2 : (attempt + 1) * 20;
            console.warn(`Gemini rate limited, retrying in ${waitSec}s (attempt ${attempt + 1}/${maxRetries})`);
            await new Promise(r => setTimeout(r, waitSec * 1000));
            continue;
        }
        if (!res.ok) {
            const msg = json?.error?.message || `HTTP ${res.status}`;
            console.error('Gemini API error:', json);
            throw new Error(msg);
        }
        if (json.candidates?.[0]?.finishReason === 'SAFETY') {
            throw new Error('Response blocked by safety filter');
        }
        const text = json.candidates?.[0]?.content?.parts?.[0]?.text;
        if (!text) {
            console.error('Gemini unexpected response:', json);
            throw new Error('No text in API response');
        }
        return text;
    }
}

// --- Gemini Key Config UI ---
(function() {
    const inp = document.getElementById('gemini-key-input');
    const btn = document.getElementById('gemini-key-save');
    const status = document.getElementById('gemini-key-status');
    const saved = getGeminiKey();
    if (saved) {
        inp.value = saved;
        status.textContent = 'Key saved.';
        status.style.color = '#34d399';
    }
    btn.onclick = () => {
        const k = inp.value.trim();
        if (!k) return;
        setGeminiKey(k);
        status.textContent = 'Key saved.';
        status.style.color = '#34d399';
    };
})();

// --- Feature 1: AI Company Summary ---
const aiSummaryCache = JSON.parse(localStorage.getItem('aiSummaryCache') || '{}');

function saveAiSummaryCache() {
    localStorage.setItem('aiSummaryCache', JSON.stringify(aiSummaryCache));
}

async function generateCompanySummary(companyName) {
    const btn = document.getElementById('ai-summary-btn');
    const contentDiv = document.getElementById('ai-summary-content');
    const textDiv = document.getElementById('ai-summary-text');

    // Check cache first
    if (aiSummaryCache[companyName]) {
        textDiv.innerHTML = aiSummaryCache[companyName];
        contentDiv.classList.add('visible');
        return;
    }

    // Show loading state
    btn.disabled = true;
    btn.innerHTML = '<span class="ai-spinner"></span> Thinking...';
    contentDiv.classList.add('visible');
    textDiv.innerHTML = '<span class="ai-spinner"></span> Generating summary...';

    try {
        const c = data[companyName];
        const related = (c.rel || []).slice(0, 5).join(', ');
        const prompt = `You are an AI industry analyst. Write a concise but informative summary about the AI company "${companyName}".

Known details:
- Description: ${c.desc || 'N/A'}
- Category: ${c.cat || 'N/A'}
- Valuation/Revenue: ${c.val || 'N/A'}
- Headquarters: ${c.hq || 'N/A'}
- Key relationships/competitors: ${related || 'N/A'}

Cover these points in 3-5 short paragraphs:
1. What the company does and its core products/services
2. Key recent developments or milestones
3. Competitive position in the AI landscape
4. Why this company matters for the future of AI

Keep it factual, concise, and under 200 words. Use plain text, no markdown headers.`;

        const result = await callGemini(prompt);
        const formatted = result.replace(/\n\n/g, '<br><br>').replace(/\n/g, '<br>');
        aiSummaryCache[companyName] = formatted;
        saveAiSummaryCache();
        textDiv.innerHTML = formatted;
    } catch (err) {
        console.error('AI Summary error:', err);
        textDiv.innerHTML = 'Failed to generate summary. Please try again.';
    } finally {
        btn.disabled = false;
        btn.innerHTML = '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg> Ask AI';
    }
}

document.getElementById('ai-summary-btn').onclick = () => {
    if (currentPanelCompany) generateCompanySummary(currentPanelCompany);
};

// --- Feature 2: AI-Curated News ---
let cachedCuratedNews = null;
let curatedTimestamp = 0;
const CURATED_CACHE_MS = 30 * 60 * 1000; // 30 minutes
let loadedNewsArticles = []; // store articles after RSS load

// Patch loadNewsFeed to capture articles for curation
const _originalLoadNewsFeed = loadNewsFeed;
loadNewsFeed = async function() {
    await _originalLoadNewsFeed();
    // Extract loaded articles from DOM
    const items = document.querySelectorAll('#news-content .news-item');
    loadedNewsArticles = Array.from(items).map(el => {
        const a = el.querySelector('a');
        return {
            source: el.querySelector('.news-source')?.textContent || '',
            title: el.querySelector('.news-title')?.textContent || '',
            link: a?.href || '',
            time: el.querySelector('.news-time')?.textContent || ''
        };
    });
    // Update curated tab hint if articles available
    if (loadedNewsArticles.length > 0) {
        const container = document.getElementById('ai-curated-content');
        if (!cachedCuratedNews) {
            container.innerHTML = '<div class="curated-loading">Click here to curate top stories with AI</div>';
        }
    }
};

async function curateNews(articles) {
    const container = document.getElementById('ai-curated-content');

    // Check memory cache
    if (cachedCuratedNews && (Date.now() - curatedTimestamp < CURATED_CACHE_MS)) {
        container.innerHTML = cachedCuratedNews;
        return;
    }

    container.innerHTML = '<div class="curated-loading"><span class="ai-spinner"></span> Curating with AI...<br><span style="font-size:11px;opacity:0.6">May take up to a minute if rate limited</span></div>';

    try {
        const articleList = articles.slice(0, 25).map((a, i) =>
            `${i + 1}. [${a.source}] ${a.title}`
        ).join('\n');

        const prompt = `You are an AI news editor. From these recent AI news headlines, select the 8-10 most important and impactful ones. Rank them by importance.

Articles:
${articleList}

For each selected article, respond in this exact format (one per line):
RANK|ORIGINAL_NUMBER|One or two sentence summary explaining why this matters

Example:
1|3|This matters because it shows a major shift in AI regulation that could affect the entire industry.

Rules:
- ORIGINAL_NUMBER must match the article number from the list above
- Keep summaries concise and insightful
- Focus on significance and impact
- Only output the ranked lines, nothing else`;

        const result = await callGemini(prompt);
        const lines = result.trim().split('\n').filter(l => l.includes('|'));

        container.innerHTML = '';
        const fragment = document.createDocumentFragment();
        let hasItems = false;

        for (const line of lines) {
            const parts = line.split('|');
            if (parts.length < 3) continue;
            const rank = parts[0].trim();
            const origNum = parseInt(parts[1].trim()) - 1;
            const summary = parts.slice(2).join('|').trim();
            const article = articles[origNum];
            if (!article) continue;

            hasItems = true;
            const item = document.createElement('div');
            item.className = 'curated-item';

            const link = document.createElement('a');
            link.href = article.link;
            link.target = '_blank';
            link.rel = 'noopener';

            const title = document.createElement('div');
            title.className = 'curated-title';
            const rankSpan = document.createElement('span');
            rankSpan.className = 'curated-rank';
            rankSpan.textContent = `#${rank}`;
            const titleText = document.createTextNode(article.title);
            title.appendChild(rankSpan);
            title.appendChild(titleText);

            const summaryDiv = document.createElement('div');
            summaryDiv.className = 'curated-summary';
            summaryDiv.textContent = summary;

            const meta = document.createElement('div');
            meta.className = 'curated-meta';
            meta.textContent = `${article.source}  ${article.time}`;

            link.appendChild(title);
            link.appendChild(summaryDiv);
            link.appendChild(meta);
            item.appendChild(link);
            fragment.appendChild(item);
        }

        if (!hasItems) {
            const empty = document.createElement('div');
            empty.className = 'curated-loading';
            empty.textContent = 'Could not curate articles. Try refreshing.';
            container.appendChild(empty);
            cachedCuratedNews = container.innerHTML;
            curatedTimestamp = Date.now();
            return;
        }

        const refreshBtn = document.createElement('button');
        refreshBtn.className = 'curated-refresh';
        refreshBtn.id = 'curated-refresh-btn';
        refreshBtn.textContent = 'Refresh Curation';

        container.appendChild(fragment);
        container.appendChild(refreshBtn);
        cachedCuratedNews = container.innerHTML;
        curatedTimestamp = Date.now();

        refreshBtn.addEventListener('click', () => {
            cachedCuratedNews = null;
            curatedTimestamp = 0;
            if (loadedNewsArticles.length > 0) curateNews(loadedNewsArticles);
        });
    } catch (err) {
        console.error('News curation error:', err);
        container.innerHTML = '';
        const error = document.createElement('div');
        error.className = 'curated-loading';
        error.textContent = `Failed to curate news: ${err.message}`;
        const retry = document.createElement('button');
        retry.className = 'curated-refresh';
        retry.textContent = 'Retry';
        retry.onclick = () => {
            cachedCuratedNews = null;
            curatedTimestamp = 0;
            if (loadedNewsArticles.length > 0) curateNews(loadedNewsArticles);
        };
        container.appendChild(error);
        container.appendChild(retry);
    }
}

// News tab switching
const tabLatest = document.getElementById('tab-latest');
const tabCurated = document.getElementById('tab-curated');
const newsContentDiv = document.getElementById('news-content');
const curatedContentDiv = document.getElementById('ai-curated-content');

tabLatest.onclick = () => {
    tabLatest.classList.add('active');
    tabCurated.classList.remove('active');
    newsContentDiv.style.display = '';
    curatedContentDiv.classList.remove('visible');
};

tabCurated.onclick = () => {
    tabCurated.classList.add('active');
    tabLatest.classList.remove('active');
    newsContentDiv.style.display = 'none';
    curatedContentDiv.classList.add('visible');
    // Trigger curation if needed
    if (loadedNewsArticles.length > 0 && !cachedCuratedNews) {
        curateNews(loadedNewsArticles);
    }
};

// Update showPanel to reset AI summary for new company
const _originalShowPanel = showPanel;
showPanel = function(name) {
    _originalShowPanel(name);
    const contentDiv = document.getElementById('ai-summary-content');
    const textDiv = document.getElementById('ai-summary-text');
    // If cached, show it; otherwise hide
    if (aiSummaryCache[name]) {
        textDiv.innerHTML = aiSummaryCache[name];
        contentDiv.classList.add('visible');
    } else {
        contentDiv.classList.remove('visible');
        textDiv.innerHTML = '';
    }
};

// Init feeds
loadNewsFeed();
renderXAccountSelector();
currentXAccount = getCurrentXAccount();
loadTweetsData();

// Refresh news every 30 minutes
setInterval(loadNewsFeed, 30 * 60 * 1000);

// === Gmail Newsletter Sync ===
(function() {
    const GMAIL_CID_KEY = 'aimap_gmail_client_id';
    const syncBtn = document.getElementById('gmail-sync-btn');
    const configDiv = document.getElementById('gmail-sync-config');
    const clientIdInput = document.getElementById('gmail-client-id');
    const saveCidBtn = document.getElementById('gmail-save-cid');
    const statusDiv = document.getElementById('gmail-sync-status');
    const previewDiv = document.getElementById('gmail-preview');
    let gmailAccessToken = null;
    let pendingMerge = null;

    function getClientId() { return localStorage.getItem(GMAIL_CID_KEY) || ''; }
    function setClientId(v) { localStorage.setItem(GMAIL_CID_KEY, v.trim()); }

    function showStatus(msg, spinner) {
        statusDiv.classList.add('visible');
        statusDiv.innerHTML = (spinner ? '<span class="gmail-spinner"></span>' : '') + msg;
    }
    function hideStatus() { statusDiv.classList.remove('visible'); statusDiv.innerHTML = ''; }

    // Load saved client ID
    clientIdInput.value = getClientId();

    saveCidBtn.onclick = () => {
        const cid = clientIdInput.value.trim();
        if (!cid) return;
        setClientId(cid);
        configDiv.classList.remove('visible');
        startOAuth(cid);
    };

    syncBtn.onclick = () => {
        const cid = getClientId();
        if (!cid) {
            configDiv.classList.add('visible');
            clientIdInput.focus();
            return;
        }
        startOAuth(cid);
    };

    function startOAuth(clientId) {
        if (typeof google === 'undefined' || !google.accounts) {
            showStatus('Google Identity Services not loaded. Check your internet connection and refresh.', false);
            return;
        }
        syncBtn.disabled = true;
        showStatus('Requesting Gmail access...', true);
        const tokenClient = google.accounts.oauth2.initTokenClient({
            client_id: clientId,
            scope: 'https://www.googleapis.com/auth/gmail.readonly',
            callback: (resp) => {
                if (resp.error) {
                    showStatus('Auth failed: ' + (resp.error_description || resp.error), false);
                    syncBtn.disabled = false;
                    return;
                }
                gmailAccessToken = resp.access_token;
                runGmailSync();
            }
        });
        tokenClient.requestAccessToken();
    }

    async function gmailFetch(url) {
        const res = await fetch(url, { headers: { Authorization: 'Bearer ' + gmailAccessToken } });
        if (!res.ok) throw new Error('Gmail API error: ' + res.status);
        return res.json();
    }

    async function runGmailSync() {
        try {
            previewDiv.classList.remove('visible');
            previewDiv.innerHTML = '';

            // Step 1: Search for emails
            showStatus('Searching Gmail for newsletters...', true);
            const queries = [
                'from:stephanie@theinformation.com newer_than:12m',
                'from:newsletters@theinformation.com subject:palazzolo newer_than:12m'
            ];
            const messageIds = new Set();
            for (const q of queries) {
                let pageToken = '';
                do {
                    const url = `https://gmail.googleapis.com/gmail/v1/users/me/messages?q=${encodeURIComponent(q)}&maxResults=100` + (pageToken ? `&pageToken=${pageToken}` : '');
                    const result = await gmailFetch(url);
                    if (result.messages) {
                        result.messages.forEach(m => messageIds.add(m.id));
                    }
                    pageToken = result.nextPageToken || '';
                } while (pageToken);
            }

            if (messageIds.size === 0) {
                showStatus('No matching newsletters found. Make sure Stephanie Palazzolo\'s newsletters are in your Gmail.', false);
                syncBtn.disabled = false;
                return;
            }

            showStatus(`Found ${messageIds.size} emails. Fetching content...`, true);

            // Step 2: Fetch email bodies
            const emails = [];
            let fetchCount = 0;
            for (const id of messageIds) {
                fetchCount++;
                if (fetchCount % 5 === 0) {
                    showStatus(`Fetching email ${fetchCount}/${messageIds.size}...`, true);
                }
                const msg = await gmailFetch(`https://gmail.googleapis.com/gmail/v1/users/me/messages/${id}?format=full`);
                const body = extractBody(msg);
                const dateHeader = (msg.payload?.headers || []).find(h => h.name.toLowerCase() === 'date');
                if (body) {
                    emails.push({ id, body, date: dateHeader ? dateHeader.value : '' });
                }
            }

            if (emails.length === 0) {
                showStatus('Fetched emails but could not extract content.', false);
                syncBtn.disabled = false;
                return;
            }

            showStatus(`Extracted ${emails.length} email bodies. Parsing with AI...`, true);

            // Step 3: Parse with Gemini in batches
            const BATCH_SIZE = 4;
            const BATCH_DELAY = 7000;
            const allEntries = [];
            for (let i = 0; i < emails.length; i += BATCH_SIZE) {
                const batch = emails.slice(i, i + BATCH_SIZE);
                const batchNum = Math.floor(i / BATCH_SIZE) + 1;
                const totalBatches = Math.ceil(emails.length / BATCH_SIZE);
                showStatus(`Parsing with AI (batch ${batchNum}/${totalBatches})...`, true);

                const emailTexts = batch.map((e, idx) => {
                    const clean = stripHtml(e.body).slice(-4000);
                    return `--- EMAIL ${idx + 1} (date: ${e.date}) ---\n${clean}`;
                }).join('\n\n');

                const prompt = `Extract ALL AI startup fundraising and valuation data from these newsletter excerpts. For each company mentioned with funding, valuation, or investment data, extract:
- name: company name (exact)
- val: valuation or funding amount (e.g. "$1.5B valuation" or "$200M Series C")
- funding: specific funding amount if separate from valuation (e.g. "$50M")
- round: round type (Seed, Series A, B, C, etc.)
- investors: key investors (comma separated)
- cat: best matching category from: Foundation Models, Image Generation, Video Generation, Audio AI, Music AI, Code & Dev Tools, AI Agents, Neo Cloud, Hardware, Data & Vector DB, MLOps, Conversational AI, Contact Center, Customer Support, Enterprise Search, Enterprise AI, Legal Tech, Healthcare AI, Drug Discovery, Finance AI, Marketing AI, HR Tech, Security AI, Education, Robotics, Autonomous Vehicles
- hq: headquarters if mentioned
- desc: one-sentence description of what the company does
- date: date mentioned or email date (YYYY-MM-DD format)

Return ONLY a JSON array. If no fundraising data found, return [].

${emailTexts}`;

                try {
                    const raw = await callGemini(prompt, 3);
                    const jsonMatch = raw.match(/\[[\s\S]*\]/);
                    if (jsonMatch) {
                        const parsed = JSON.parse(jsonMatch[0]);
                        allEntries.push(...parsed);
                    }
                } catch (err) {
                    console.warn('Gemini batch error:', err);
                }

                if (i + BATCH_SIZE < emails.length) {
                    await new Promise(r => setTimeout(r, BATCH_DELAY));
                }
            }

            if (allEntries.length === 0) {
                showStatus('No fundraising data found in the newsletters.', false);
                syncBtn.disabled = false;
                return;
            }

            // Step 4: Deduplicate (latest per company)
            const deduped = deduplicateEntries(allEntries);
            showStatus(`Found ${allEntries.length} entries, ${deduped.length} unique companies. Preparing preview...`, true);

            // Step 5: Prepare merge preview
            prepareMergePreview(deduped);

        } catch (err) {
            console.error('Gmail sync error:', err);
            showStatus('Error: ' + err.message, false);
            syncBtn.disabled = false;
        }
    }

    function extractBody(msg) {
        const parts = [];
        function walk(part) {
            if (part.mimeType === 'text/html' && part.body?.data) {
                parts.push({ type: 'html', data: part.body.data });
            } else if (part.mimeType === 'text/plain' && part.body?.data) {
                parts.push({ type: 'plain', data: part.body.data });
            }
            if (part.parts) part.parts.forEach(walk);
        }
        walk(msg.payload);
        const best = parts.find(p => p.type === 'html') || parts.find(p => p.type === 'plain');
        if (!best) return '';
        const base64 = best.data.replace(/-/g, '+').replace(/_/g, '/');
        const padded = base64 + '='.repeat((4 - base64.length % 4) % 4);
        return atob(padded);
    }

    function stripHtml(html) {
        const tmp = document.createElement('div');
        tmp.innerHTML = html;
        return tmp.textContent || tmp.innerText || '';
    }

    function deduplicateEntries(entries) {
        // Sort by date descending so latest comes first
        entries.sort((a, b) => {
            const da = a.date ? new Date(a.date) : new Date(0);
            const db = b.date ? new Date(b.date) : new Date(0);
            return db - da;
        });
        const seen = new Map();
        for (const e of entries) {
            const key = (e.name || '').trim().toLowerCase();
            if (!key) continue;
            if (!seen.has(key)) {
                seen.set(key, e);
            }
        }
        return Array.from(seen.values());
    }

    function findExistingCompany(name) {
        const lower = name.trim().toLowerCase();
        for (const key of Object.keys(data)) {
            if (key.toLowerCase() === lower) return key;
        }
        return null;
    }

    function prepareMergePreview(entries) {
        const updates = [];
        const additions = [];

        for (const e of entries) {
            const existing = findExistingCompany(e.name);
            if (existing) {
                const valStr = e.val || e.funding || '';
                if (valStr && valStr !== data[existing].val) {
                    updates.push({ name: existing, oldVal: data[existing].val || '', newVal: valStr, entry: e });
                }
            } else {
                additions.push(e);
            }
        }

        pendingMerge = { updates, additions };
        previewDiv.innerHTML = '';

        const summary = document.createElement('div');
        summary.style.fontSize = '12px';
        summary.style.fontWeight = '600';
        summary.style.color = '#34d399';
        summary.style.marginBottom = '8px';
        summary.textContent = `${updates.length} updated, ${additions.length} new companies`;
        previewDiv.appendChild(summary);

        if (updates.length > 0) {
            const label = document.createElement('div');
            label.style.marginBottom = '8px';
            label.style.fontSize = '11px';
            label.style.color = 'rgba(148,163,184,0.7)';
            label.textContent = 'Updates:';
            previewDiv.appendChild(label);

            for (const u of updates) {
                const item = document.createElement('div');
                item.className = 'gmail-preview-item';

                const name = document.createElement('span');
                name.className = 'company-name';
                name.textContent = u.name;
                const tag = document.createElement('span');
                tag.className = 'action-tag update';
                tag.textContent = 'UPDATE';

                const detail = document.createElement('span');
                detail.style.color = 'rgba(148,163,184,0.6)';
                detail.textContent = `${u.oldVal}  ${u.newVal}`;

                item.appendChild(name);
                item.appendChild(tag);
                item.appendChild(document.createElement('br'));
                item.appendChild(detail);
                previewDiv.appendChild(item);
            }
        }

        if (additions.length > 0) {
            const label = document.createElement('div');
            label.style.marginBottom = '8px';
            label.style.marginTop = '8px';
            label.style.fontSize = '11px';
            label.style.color = 'rgba(148,163,184,0.7)';
            label.textContent = 'New companies:';
            previewDiv.appendChild(label);

            for (const a of additions) {
                const item = document.createElement('div');
                item.className = 'gmail-preview-item';

                const name = document.createElement('span');
                name.className = 'company-name';
                name.textContent = a.name;
                const tag = document.createElement('span');
                tag.className = 'action-tag new';
                tag.textContent = 'NEW';
                item.appendChild(name);
                item.appendChild(tag);

                const val = a.val || a.funding || '';
                if (val) {
                    const valSpan = document.createElement('span');
                    valSpan.textContent = `  ${val}`;
                    item.appendChild(valSpan);
                }
                if (a.cat) {
                    const catSpan = document.createElement('span');
                    catSpan.style.color = 'rgba(148,163,184,0.5)';
                    catSpan.textContent = ` (${a.cat})`;
                    item.appendChild(catSpan);
                }

                previewDiv.appendChild(item);
            }
        }

        if (updates.length === 0 && additions.length === 0) {
            const msg = document.createElement('div');
            msg.style.color = 'rgba(148,163,184,0.6)';
            msg.style.fontSize = '12px';
            msg.textContent = 'No changes to apply  your data is up to date.';
            previewDiv.appendChild(msg);
            showStatus('Sync complete. No new data found.', false);
            syncBtn.disabled = false;
            previewDiv.classList.add('visible');
            return;
        }

        const actions = document.createElement('div');
        actions.className = 'gmail-preview-actions';
        const applyBtn = document.createElement('button');
        applyBtn.id = 'gmail-apply-btn';
        applyBtn.textContent = `Apply ${updates.length + additions.length} Changes`;
        const cancelBtn = document.createElement('button');
        cancelBtn.id = 'gmail-cancel-btn';
        cancelBtn.textContent = 'Cancel';
        actions.appendChild(applyBtn);
        actions.appendChild(cancelBtn);
        previewDiv.appendChild(actions);

        previewDiv.classList.add('visible');
        showStatus('Review changes below, then click Apply.', false);
        syncBtn.disabled = false;

        applyBtn.onclick = applyMerge;
        cancelBtn.onclick = () => {
            previewDiv.classList.remove('visible');
            previewDiv.innerHTML = '';
            hideStatus();
            pendingMerge = null;
        };
    }

    function applyMerge() {
        if (!pendingMerge) return;
        const { updates, additions } = pendingMerge;

        for (const u of updates) {
            data[u.name].val = u.newVal;
        }

        for (const a of additions) {
            const name = (a.name || '').trim();
            if (!name) continue;
            data[name] = {
                desc: a.desc || '',
                cat: a.cat || 'Enterprise AI',
                hq: a.hq || '',
                val: a.val || a.funding || '',
                domain: '',
                rel: []
            };
        }

        save();
        if (center) render(center);

        previewDiv.innerHTML = `<div style="color:#34d399;font-size:12px;font-weight:500;padding:8px 0;">Applied ${updates.length} updates and ${additions.length} new companies. Total: ${Object.keys(data).length} companies.</div>`;
        showStatus('Sync complete!', false);
        pendingMerge = null;

        setTimeout(() => {
            previewDiv.classList.remove('visible');
            hideStatus();
        }, 5000);
    }
})();

// Init
save();
render('OpenAI');
</script>
</body>
</html>
